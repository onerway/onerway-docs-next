---
name: enhance-with-stripe
description: 基于 Stripe 官方文档风格优化文档草稿
argument-hint: [文档草稿路径]
allowed-tools: Read, Task, Glob, Grep
---

# 基于 Stripe 文档风格的文档优化

使用 stripe-docs-enhancer agent 分析你的文档草稿,通过 Stripe MCP 研究引用的 Stripe 官方文档链接,学习其写作风格、术语用法和内容结构,提供专业的优化建议。

**目标文件**: $ARGUMENTS

如果未提供文件路径,请提示用户指定要优化的文档草稿文件。

---

## 📋 工作流程

  1. **读取草稿文档**
  - 使用 Read 工具读取用户指定的文档草稿
  - 识别文档中引用的 Stripe 文档链接
  - 了解文档的主题和结构

  2. **启动专业 Agent**
  - 调用 stripe-docs-enhancer agent
  - 传递文档内容和上下文信息
  - Agent 将通过 Stripe MCP 深入研究引用的文档

  3. **获得优化建议**
  - Agent 会分析 Stripe 文档的写作模式
  - 提供基于 Stripe 标准的优化建议
  - 所有修改需要用户确认后才应用

---

## 🎯 优化维度

此 Agent 将从以下维度分析和优化你的文档:

### 写作风格
- 句子结构和段落长度
- 主动语态 vs 被动语态的使用
- 语言的简洁性和清晰度

### 术语一致性
- 技术术语的使用是否与 Stripe 一致
- 术语解释方法
- 专业名词的统一性

### 内容组织
- 标题层级和章节结构
- 信息的渐进式披露
- 逻辑流程和导航体验

### 格式规范
- 代码示例的呈现方式
- 代码与文本的比例
- 标注框、警告、提示的使用

### 布局优化
- 间距和视觉层级
- 格式化约定
- 整体可读性

### 链接处理（重要 ⚠️）
- **移除 Stripe 链接**：删除所有 docs.stripe.com、stripe.com 等官方链接
- **添加 TODO 占位符**：对应位置需要链接但 Onerway 文档尚未创建时
  - 格式：`[链接文本](#){badge="TODO"}`
  - 示例：`[API 参考](#){badge="TODO"}`、`[Webhook 指南](#){badge="TODO"}`
- **保留语义**：确保删除链接后文本仍然完整可读
- **便于后期替换**：可全局搜索 `{badge="TODO"}` 批量替换真实链接

---

## ⚠️ 注意事项

  1. **确认机制**: Agent 不会直接修改你的文档,所有建议都需要你确认
  2. **参考链接**: 请确保草稿中包含 Stripe 文档链接,以便 Agent 学习参考
  3. **保持意图**: Agent 会尊重你的原始意图和表达方式,只提供风格优化建议
  4. **项目标准**: 优化建议会平衡 Stripe 风格与 Onerway 项目标准
  5. **链接替换**: Agent 会自动移除 Stripe 链接并用 `{badge="TODO"}` 占位符标记,方便后期批量替换

---

## 🚀 执行步骤

请按以下步骤执行:

1. **检查参数**
  - 如果 `$ARGUMENTS` 为空,提示用户提供文档草稿路径
  - 如果提供了路径,验证文件是否存在

2. **读取草稿**
  - 使用 Read 工具读取指定的文档草稿文件
  - 检查文档中是否包含 Stripe 文档链接
  - 如果没有 Stripe 链接,询问用户是否仍要继续

3. **启动 Agent**
  - 使用 Task 工具调用 stripe-docs-enhancer agent
  - 在 prompt 中包含:
    - 完整的文档内容
    - 文档路径信息
    - 用户的具体优化需求(如果有)
  - 示例 prompt 格式:
```
请分析以下文档草稿并提供基于 Stripe 官方文档风格的优化建议:

文档路径: [路径]

文档内容:
[完整内容]

请通过 Stripe MCP 研究文档中引用的 Stripe 链接,分析其写作风格并提供优化建议。
```

4. **传递结果**
  - Agent 的分析结果会直接返回给用户
  - 用户可以根据建议决定是否修改文档

现在开始执行优化流程...
