import{A as a,I as t,bm as e,D as n,e as l,cs as o,H as i,v as r,bG as s,bH as c,bI as u,d,g as h,w as g,bL as p,bx as m,b8 as f,E as v,f as b,bM as y,bN as _}from"./BtL5YkUb.js";import{_ as k}from"./q1vwF18-.js";import{_ as w}from"./_uMslY0t.js";import{_ as j}from"./4_x6J6Jh.js";const x=a({__name:"DocsNavigation",props:{navigation:{},color:{default:"primary"},highlight:{type:Boolean,default:!0},orientation:{default:"vertical"},collapsible:{type:Boolean},type:{default:"multiple"},moduleUi:{default:()=>({group:"border-t border-default mt-3 py-2 text-highlighted font-semibold",label:""})}},setup(a){const r=a,s=e();function c(a,t){var e;if(a)for(const n of a){n.module&&n.path&&t.add(n.path),(null==(e=n.children)?void 0:e.length)&&c(n.children,t)}}function u(a,t){return a?a.map(a=>{const e={...a};return e.to&&t.has(e.to)&&(e.class=[e.class,r.moduleUi.group].filter(Boolean).join(" "),e.labelClass=[e.labelClass,r.moduleUi.label].filter(Boolean).join(" "),e["data-module"]=!0,e.ui={linkTrailingIcon:"hidden"}),Array.isArray(e.children)&&e.children.length&&(e.children=u(e.children,t)),e}):a}const d=t(()=>{const a=function a(t){return t.map(t=>{const e=Array.isArray(t.children)&&t.children.length>0,n=!!e&&t.children.some(a=>a.path===t.path),l={label:String(t.title||""),value:String(t.path||"")};e&&n||(l.to=String(t.path||"")),e&&(l.children=a(t.children),l.defaultOpen=!0);const o=t;return o.icon&&(l.icon=o.icon),l})}(r.navigation),t=new Set;return c(r.navigation,t),u(a,t)});s.info("navigation",null==d?void 0:d.value);const h=a=>{s.info("navigation model-value changed",a)};return(a,t)=>{const e=o;return l(),n(e,{"trailing-icon":"i-lucide-chevron-right",items:i(d),highlight:a.highlight,color:a.color,orientation:a.orientation,variant:"link",type:a.type,ui:{link:"cursor-pointer",linkTrailingIcon:"group-data-[state=open]:rotate-90",linkLabel:"line-clamp-2 text-wrap",childLinkLabel:"line-clamp-2 text-wrap"},class:"sm:mt-8","onUpdate:modelValue":h},null,8,["items","highlight","color","orientation","type"])}}}),N=Object.assign(x,{__name:"DocsNavigation"}),I={class:"min-h-screen"},A=a({__name:"docs",async setup(a){let o,x;const A=r(),B=e(),{pathInfo:C}=s();B.info("module信息",C.value.module);const{data:L}=([o,x]=c(()=>p(m(A.path),async()=>{const a=C.value;if(!a.collectionName)throw y({statusCode:404,statusMessage:"Collection not found"});return _(a.collectionName).path(a.contentPath).first()},"$XHYI4-VaW0")),o=await o,x(),o),S=u("navigation"),U=t(()=>`${C.value.module||"root"}:${(null==S?void 0:S.value)&&S.value.length?"ready":"loading"}`),$=t(()=>(null==S?void 0:S.value)||[]);B.info("safeNavigation",$.value);const D={root:"border-r border-default"};return(a,t)=>{const e=N,o=k,r=w,s=f,c=j;return l(),d("div",I,[h(c,null,{default:g(()=>[h(s,{class:"max-w-8xl"},{default:g(()=>[h(r,null,{left:g(()=>{var a;return[(null==(a=i(L))?void 0:a.showNavigation)&&i($).length>0?(l(),n(o,{key:0,ui:D,class:"-translate-y-6"},{default:g(()=>[(l(),n(e,{key:i(U),navigation:i($),highlight:"",color:"primary",orientation:"vertical",type:"multiple",class:"sm:mt-12"},null,8,["navigation"]))]),_:1})):b("",!0)]}),default:g(()=>[v(a.$slots,"default")]),_:3})]),_:3})]),_:3})])}}});export{A as default};
