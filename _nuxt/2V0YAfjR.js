import{aZ as e,de as t,r as n,C as o,Z as r,aG as a,bu as s,df as u,dg as i,P as l,dh as c,di as d,dj as f,dk as v,dl as m,G as p,d as y,w as h,R as g,S as w,U as b,dm as A,E,b as B,B as L,dn as k,z as S,dp as x,dd as D,af as W,dq as M,dr as R}from"./BOEjTd95.js";const F="menu.itemSelect",P=["Enter"," "],C=["ArrowUp","PageDown","End"],K=["ArrowDown","PageUp","Home",...C],N={ltr:[...P,"ArrowRight"],rtl:[...P,"ArrowLeft"]},T={ltr:["ArrowLeft"],rtl:["ArrowRight"]};function _(e){return e?"open":"closed"}function Y(e){return"indeterminate"===e}function $(e){return Y(e)?"indeterminate":e?"checked":"unchecked"}function j(t){const n=e();for(const o of t){if(o===n)return;if(o.focus(),e()!==n)return}}function H(e,t){if(!t)return!1;return function(e,t){const{x:n,y:o}=e;let r=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const e=t[a].x,u=t[a].y,i=t[s].x,l=t[s].y;u>o!=l>o&&n<(i-e)*(o-u)/(l-u)+e&&(r=!r)}return r}({x:e.clientX,y:e.clientY},t)}function O(e){return"mouse"===e.pointerType}const U=t((()=>n([])));function X(e,t){const n=[...e],o=n.indexOf(t);return-1!==o&&n.splice(o,1),n}const q=o({__name:"FocusScope",props:{loop:{type:Boolean,default:!1},trapped:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["mountAutoFocus","unmountAutoFocus"],setup(t,{emit:o}){const E=t,B=o,{currentRef:L,currentElement:k}=r(),S=n(null),x=function(){const e=U();return{add(t){const n=e.value[0];t!==n&&(null==n||n.pause()),e.value=X(e.value,t),e.value.unshift(t)},remove(t){var n;e.value=X(e.value,t),null==(n=e.value[0])||n.resume()}}}(),D=a({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});function W(t){if(!E.loop&&!E.trapped)return;if(D.paused)return;const n="Tab"===t.key&&!t.altKey&&!t.ctrlKey&&!t.metaKey,o=e();if(n&&o){const e=t.currentTarget,[n,r]=A(e);n&&r?t.shiftKey||o!==r?t.shiftKey&&o===n&&(t.preventDefault(),E.loop&&i(r,{select:!0})):(t.preventDefault(),E.loop&&i(n,{select:!0})):o===e&&t.preventDefault()}}return s((e=>{if(!u)return;const t=k.value;if(!E.trapped)return;function n(e){if(D.paused||!t)return;const n=e.target;t.contains(n)?S.value=n:i(S.value,{select:!0})}function o(e){if(D.paused||!t)return;const n=e.relatedTarget;null!==n&&(t.contains(n)||i(S.value,{select:!0}))}document.addEventListener("focusin",n),document.addEventListener("focusout",o);const r=new MutationObserver((function(e){t.contains(S.value)||i(t)}));t&&r.observe(t,{childList:!0,subtree:!0}),e((()=>{document.removeEventListener("focusin",n),document.removeEventListener("focusout",o),r.disconnect()}))})),s((async t=>{const n=k.value;if(await l(),!n)return;x.add(D);const o=e();if(!n.contains(o)){const t=new CustomEvent(c,m);n.addEventListener(c,(e=>B("mountAutoFocus",e))),n.dispatchEvent(t),t.defaultPrevented||(d(f(n).filter((e=>"A"!==e.tagName)),{select:!0}),e()===o&&i(n))}t((()=>{n.removeEventListener(c,(e=>B("mountAutoFocus",e)));const e=new CustomEvent(v,m),t=e=>{B("unmountAutoFocus",e)};n.addEventListener(v,t),n.dispatchEvent(e),setTimeout((()=>{e.defaultPrevented||i(o??document.body,{select:!0}),n.removeEventListener(v,t),x.remove(D)}),0)}))})),(e,t)=>(y(),p(w(b),{ref_key:"currentRef",ref:L,tabindex:"-1","as-child":e.asChild,as:e.as,onKeydown:W},{default:h((()=>[g(e.$slots,"default")])),_:3},8,["as-child","as"]))}});var G=new WeakMap,Z=new WeakMap,z={},I=0,J=function(e){return e&&(e.host||J(e.parentNode))},Q=function(e,t,n,o){var r=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=J(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);z[n]||(z[n]=new WeakMap);var a=z[n],s=[],u=new Set,i=new Set(r),l=function(e){e&&!u.has(e)&&(u.add(e),l(e.parentNode))};r.forEach(l);var c=function(e){e&&!i.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(u.has(e))c(e);else try{var t=e.getAttribute(o),r=null!==t&&"false"!==t,i=(G.get(e)||0)+1,l=(a.get(e)||0)+1;G.set(e,i),a.set(e,l),s.push(e),1===i&&r&&Z.set(e,!0),1===l&&e.setAttribute(n,"true"),r||e.setAttribute(o,"true")}catch(d){console.error("aria-hidden: cannot operate on ",e,d)}}))};return c(t),u.clear(),I++,function(){s.forEach((function(e){var t=G.get(e)-1,r=a.get(e)-1;G.set(e,t),a.set(e,r),t||(Z.has(e)||e.removeAttribute(o),Z.delete(e)),r||e.removeAttribute(n)})),--I||(G=new WeakMap,G=new WeakMap,Z=new WeakMap,z={})}},V=function(e,t,n){void 0===n&&(n="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),r=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return r?(o.push.apply(o,Array.from(r.querySelectorAll("[aria-live], script"))),Q(o,r,n,"aria-hidden")):function(){return null}};function ee(e){let t;E((()=>L(e)),(e=>{e?t=V(e):t&&t()})),B((()=>{t&&t()}))}const te=k((()=>{const e=n(new Map),t=n(),o=S((()=>{for(const t of e.value.values())if(t)return!0;return!1})),r=D({scrollBody:n(!0)});let a=null;return E(o,((e,n)=>{var o;if(!u)return;if(!e)return void(n&&(document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",M&&(null==a||a()),t.value=void 0));void 0===t.value&&(t.value=document.body.style.overflow);const s=window.innerWidth-document.documentElement.clientWidth,i={padding:s,margin:0},c=(null==(o=r.scrollBody)?void 0:o.value)?"object"==typeof r.scrollBody.value?W({padding:!0===r.scrollBody.value.padding?s:r.scrollBody.value.padding,margin:!0===r.scrollBody.value.margin?s:r.scrollBody.value.margin},i):i:{padding:0,margin:0};s>0&&(document.body.style.paddingRight="number"==typeof c.padding?`${c.padding}px`:String(c.padding),document.body.style.marginRight="number"==typeof c.margin?`${c.margin}px`:String(c.margin),document.documentElement.style.setProperty("--scrollbar-width",`${s}px`),document.body.style.overflow="hidden"),M&&(a=R(document,"touchmove",(e=>function(e){const t=e||window.event,n=t.target;if(n instanceof Element&&oe(n))return!1;if(t.touches.length>1)return!0;t.preventDefault&&t.cancelable&&t.preventDefault();return!1}(e)),{passive:!1})),l((()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"}))}),{immediate:!0,flush:"sync"}),e}));function ne(e){const t=Math.random().toString(36).substring(2,7),n=te();n.value.set(t,e??!1);const o=S({get:()=>n.value.get(t)??!1,set:e=>n.value.set(t,e)});return x((()=>{n.value.delete(t)})),o}function oe(e){const t=window.getComputedStyle(e);if("scroll"===t.overflowX||"scroll"===t.overflowY||"auto"===t.overflowX&&e.clientWidth<e.scrollWidth||"auto"===t.overflowY&&e.clientHeight<e.scrollHeight)return!0;{const t=e.parentNode;return t instanceof Element&&"BODY"!==t.tagName&&oe(t)}}export{K as F,F as I,C as L,P as S,q as _,ne as a,O as b,$ as c,Y as d,T as e,j as f,_ as g,N as h,H as i,ee as u};
