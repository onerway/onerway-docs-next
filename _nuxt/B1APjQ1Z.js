import{C as e,z as a,N as t,o,b as s,G as l,d as i,w as n,f as r,S as u,U as d,R as f,P as c}from"./BOEjTd95.js";import{g as v,w as p,f as m}from"./m8uzoPnc.js";import{i as b}from"./DOW1UQBU.js";import{u as y}from"./wjg-Jxpu.js";const I=e({__name:"RovingFocusItem",props:{tabStopId:{},focusable:{type:Boolean,default:!0},active:{type:Boolean},allowShiftKey:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(e){const I=e,h=b(),K=y(),S=a((()=>I.tabStopId||K)),g=a((()=>h.currentTabStopId.value===S.value)),{getItems:w,CollectionItem:F}=t();function x(e){if("Tab"===e.key&&e.shiftKey)return void h.onItemShiftTab();if(e.target!==e.currentTarget)return;const a=v(e,h.orientation.value,h.dir.value);if(void 0!==a){if(e.metaKey||e.ctrlKey||e.altKey||!I.allowShiftKey&&e.shiftKey)return;e.preventDefault();let t=[...w().map((e=>e.ref)).filter((e=>""!==e.dataset.disabled))];if("last"===a)t.reverse();else if("prev"===a||"next"===a){"prev"===a&&t.reverse();const o=t.indexOf(e.currentTarget);t=h.loop.value?p(t,o+1):t.slice(o+1)}c((()=>m(t)))}}return o((()=>{I.focusable&&h.onFocusableItemAdd()})),s((()=>{I.focusable&&h.onFocusableItemRemove()})),(e,a)=>(i(),l(u(F),null,{default:n((()=>[r(u(d),{tabindex:g.value?0:-1,"data-orientation":u(h).orientation.value,"data-active":e.active?"":void 0,"data-disabled":e.focusable?void 0:"",as:e.as,"as-child":e.asChild,onMousedown:a[0]||(a[0]=a=>{e.focusable?u(h).onItemFocus(S.value):a.preventDefault()}),onFocus:a[1]||(a[1]=e=>u(h).onItemFocus(S.value)),onKeydown:x},{default:n((()=>[f(e.$slots,"default")])),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])])),_:3}))}});export{I as _};
