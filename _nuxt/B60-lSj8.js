import{D as e,bM as a,a2 as t,A as o,N as s,o as l,c as r,H as i,e as n,w as u,g as d,W as c,X as f,U as v,Y as p,bN as b,R as y,bO as m}from"#entry";var I=e({__name:"RovingFocusItem",props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const I=e,h=a(),K=t(),g=o(()=>I.tabStopId||K),S=o(()=>h.currentTabStopId.value===g.value),{getItems:q,CollectionItem:F}=s();function w(e){if("Tab"===e.key&&e.shiftKey)return void h.onItemShiftTab();if(e.target!==e.currentTarget)return;const a=p(e,h.orientation.value,h.dir.value);if(void 0!==a){if(e.metaKey||e.ctrlKey||e.altKey||!I.allowShiftKey&&e.shiftKey)return;e.preventDefault();let t=[...q().map(e=>e.ref).filter(e=>""!==e.dataset.disabled)];if("last"===a)t.reverse();else if("prev"===a||"next"===a){"prev"===a&&t.reverse();const o=t.indexOf(e.currentTarget);t=h.loop.value?b(t,o+1):t.slice(o+1)}y(()=>m(t))}}return l(()=>{I.focusable&&h.onFocusableItemAdd()}),r(()=>{I.focusable&&h.onFocusableItemRemove()}),(e,a)=>(n(),i(c(F),null,{default:u(()=>[d(c(f),{tabindex:S.value?0:-1,"data-orientation":c(h).orientation.value,"data-active":e.active?"":void 0,"data-disabled":e.focusable?void 0:"",as:e.as,"as-child":e.asChild,onMousedown:a[0]||(a[0]=a=>{e.focusable?c(h).onItemFocus(g.value):a.preventDefault()}),onFocus:a[1]||(a[1]=e=>c(h).onItemFocus(g.value)),onKeydown:w},{default:u(()=>[v(e.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}});export{I as R};
