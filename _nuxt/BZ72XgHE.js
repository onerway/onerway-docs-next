import{D as o,aF as a,A as t,d as r,e,h as l,n as s,W as i,f as n,g as d,aq as u,t as c,aN as p,al as m,H as f,F as h,J as g,w,aM as v}from"#entry";const b={class:"group relative h-full"},y=["tabindex","role","aria-label"],x={class:"flex items-center gap-4"},k={class:"flex-1 min-w-0"},C={class:"mb-1"},$={class:"flex items-center mb-2"},T=["id"],z={key:0,class:"flex-shrink-0 ml-2"},B=["id"],_=["aria-label"],j=["aria-label"],D=["aria-label"],N=["aria-label"],S={class:"p-2 max-w-xs",role:"tooltip"},U={class:"sr-only"},F={class:"flex flex-wrap gap-1"},H={key:0,class:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-200 motion-reduce:transition-none","aria-hidden":"true"},P=o({__name:"ProductCard",props:{product:{},showStats:{type:Boolean,default:!0},showTags:{type:Boolean,default:!0},showStatus:{type:Boolean,default:!0},maxTags:{default:3},clickable:{type:Boolean,default:!0}},emits:["click"],setup(o,{emit:P}){const q=o,A=P,I=[{from:"from-blue-500",to:"to-violet-600",shadow:"group-hover:shadow-violet-500/25",glow:"from-blue-500/20 via-indigo-400/10 to-violet-500/20"},{from:"from-indigo-500",to:"to-cyan-500",shadow:"group-hover:shadow-cyan-500/25",glow:"from-indigo-500/20 via-blue-400/10 to-cyan-500/20"},{from:"from-teal-500",to:"to-emerald-600",shadow:"group-hover:shadow-emerald-500/25",glow:"from-teal-500/20 via-emerald-400/10 to-green-500/20"},{from:"from-green-500",to:"to-teal-600",shadow:"group-hover:shadow-teal-500/25",glow:"from-green-500/20 via-teal-400/10 to-cyan-500/20"},{from:"from-lime-500",to:"to-green-600",shadow:"group-hover:shadow-green-500/25",glow:"from-lime-500/20 via-green-400/10 to-teal-500/20"},{from:"from-yellow-500",to:"to-amber-600",shadow:"group-hover:shadow-amber-500/25",glow:"from-yellow-500/20 via-amber-400/10 to-orange-500/20"},{from:"from-amber-500",to:"to-orange-600",shadow:"group-hover:shadow-orange-500/25",glow:"from-amber-500/20 via-orange-400/10 to-red-500/20"},{from:"from-orange-500",to:"to-rose-600",shadow:"group-hover:shadow-rose-500/25",glow:"from-orange-500/20 via-rose-400/10 to-pink-500/20"},{from:"from-rose-500",to:"to-pink-600",shadow:"group-hover:shadow-pink-500/25",glow:"from-rose-500/20 via-pink-400/10 to-fuchsia-500/20"},{from:"from-pink-500",to:"to-fuchsia-600",shadow:"group-hover:shadow-fuchsia-500/25",glow:"from-pink-500/20 via-fuchsia-400/10 to-purple-500/20"},{from:"from-fuchsia-500",to:"to-purple-600",shadow:"group-hover:shadow-purple-500/25",glow:"from-fuchsia-500/20 via-purple-400/10 to-indigo-500/20"},{from:"from-purple-500",to:"to-indigo-600",shadow:"group-hover:shadow-indigo-500/25",glow:"from-purple-500/20 via-indigo-400/10 to-blue-500/20"},{from:"from-cyan-500",to:"to-sky-600",shadow:"group-hover:shadow-sky-500/25",glow:"from-cyan-500/20 via-sky-400/10 to-blue-500/20"},{from:"from-sky-500",to:"to-blue-600",shadow:"group-hover:shadow-blue-500/25",glow:"from-sky-500/20 via-blue-400/10 to-indigo-500/20"},{from:"from-red-500",to:"to-rose-600",shadow:"group-hover:shadow-red-500/25",glow:"from-red-500/20 via-rose-400/10 to-pink-500/20"},{from:"from-violet-500",to:"to-purple-700",shadow:"group-hover:shadow-violet-500/25",glow:"from-violet-500/20 via-purple-400/10 to-fuchsia-500/20"}],{t:M,locale:W}=a(),E=()=>{q.clickable&&A("click",q.product)},J=o=>{q.clickable&&("Enter"!==o.key&&" "!==o.key||(o.preventDefault(),E()))},K=t(()=>({card:"bg-default",cardHover:"hover:shadow-default",border:"border-default hover:border-primary/20",text:{primary:"text-primary",secondary:"text-secondary",muted:"text-muted"}})),O=o=>{if(!o)return"";const a=new Date(o);if(Number.isNaN(a.getTime()))return"";const t={month:W.value.startsWith("zh")?"2-digit":"short",day:"numeric"};return new Intl.DateTimeFormat(W.value,t).format(a)},V=t(()=>(q.product.tags||[]).slice(0,q.maxTags)),G=t(()=>{const o=q.product.tags?.length||0;return o>q.maxTags?o-q.maxTags:0}),L=t(()=>(q.product.tags||[]).slice(q.maxTags)),Q=t(()=>{const o=q.product.status;if(!o)return null;return{new:{variant:"solid",color:"success"},beta:{variant:"outline",color:"warning"},updated:{variant:"soft",color:"info"}}[o]||{variant:"soft",color:"neutral"}}),R=t(()=>{const o=(o=>{let a=0;for(let t=0;t<o.length;t++)a=(a<<5)-a+o.charCodeAt(t),a&=a;return Math.abs(a)})([q.product.id,q.product.title,q.product.to,...q.product.tags||[]].filter(Boolean).join("|")),a=I[((o^o>>>16)>>>0)%I.length];return{gradient:`bg-gradient-to-br ${a?.from} ${a?.to}`,shadow:a?.shadow,glow:a?.glow}});return(o,a)=>{const t=u,P=p,q=v;return e(),r("div",b,[l("div",{class:s(["absolute -inset-2 rounded-3xl opacity-0 group-hover:opacity-100 transition-all duration-500 pointer-events-none blur-md motion-reduce:transition-none",`bg-gradient-to-br ${i(R).glow}`]),"aria-hidden":"true"},null,2),l("div",{class:s(["relative h-full rounded-2xl hover:shadow-xl transition-all duration-300 border transform hover:-translate-y-1 p-4 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary/50 motion-reduce:transition-none motion-reduce:transform-none",[i(K).card,i(K).cardHover,i(K).border,{"cursor-pointer":o.clickable}]]),tabindex:o.clickable?0:-1,role:o.clickable?"button":"article","aria-label":o.clickable?`${i(M)("productCard.clickToView")} ${o.product.title}`:`${i(M)("productCard.productInfo")} ${o.product.title}`,onClick:E,onKeydown:J},[l("div",x,[l("div",{class:s(["flex items-center justify-center size-12 rounded-xl text-white shadow-lg transition-shadow duration-300 motion-reduce:transition-none",[i(R).gradient,i(R).shadow]])},[d(t,{name:o.product.icon,class:"w-6 h-6"},null,8,["name"])],2),l("div",k,[l("div",C,[l("div",$,[l("h3",{id:`product-title-${o.product.id}`,class:"text-lg font-semibold text-primary group-hover:text-default transition-colors duration-200 text-wrap line-clamp-3 motion-reduce:transition-none"},c(o.product.title),9,T),o.showStatus&&o.product.status&&i(Q)?(e(),r("span",z,[d(P,{label:i(M)(`productCard.status.${o.product.status}`),variant:i(Q).variant,color:i(Q).color,size:"md","aria-label":`${i(M)("productCard.status.label")} ${i(M)(`productCard.status.${o.product.status}`)}`},null,8,["label","variant","color","aria-label"])])):n("",!0)]),l("p",{id:`product-desc-${o.product.id}`,class:"text-sm line-clamp-3 transition-colors duration-200 motion-reduce:transition-none"},c(o.product.description),9,B)]),o.showStats&&(o.product.docsCount||o.product.lastUpdated)?(e(),r("div",{key:0,class:"flex items-center justify-between text-xs mb-4",role:"group","aria-label":i(M)("productCard.statistics")},[o.product.docsCount?(e(),r("span",{key:0,class:"flex items-center gap-1","aria-label":i(M)("productCard.docsCount",{count:o.product.docsCount})},[d(t,{name:"i-heroicons-document-text",class:"w-3 h-3","aria-hidden":!0}),m(" "+c(i(M)("productCard.docsCount",{count:o.product.docsCount})),1)],8,j)):n("",!0),o.product.lastUpdated?(e(),r("span",{key:1,class:"flex items-center gap-1 font-semibold","aria-label":`${i(M)("common.updated")} ${O(o.product.lastUpdated)}`},[d(t,{name:"i-heroicons-clock",class:"w-3 h-3","aria-hidden":!0}),m(" "+c(i(M)("common.updated"))+" "+c(O(o.product.lastUpdated)),1)],8,D)):n("",!0)],8,_)):n("",!0),o.showTags&&o.product.tags?.length?(e(),r("div",{key:1,class:"flex flex-wrap gap-1",role:"group","aria-label":i(M)("productCard.tags.label")},[(e(!0),r(h,null,g(i(V),o=>(e(),f(P,{key:o,label:o,variant:"soft",size:"md",class:"font-medium","aria-label":`${i(M)("productCard.tags.item")} ${o}`},null,8,["label","aria-label"]))),128)),i(G)>0?(e(),f(q,{key:0,mode:"hover",popper:{placement:"top"}},{content:w(()=>[l("div",S,[l("h3",U,c(i(M)("productCard.tags.additional",{count:i(G)})),1),l("div",F,[(e(!0),r(h,null,g(i(L),o=>(e(),f(P,{key:o,label:o,variant:"soft",size:"sm",class:"font-medium"},null,8,["label"]))),128))])])]),default:w(()=>[d(P,{label:`+${i(G)}`,variant:"outline",size:"md",class:"font-medium text-muted transition-colors cursor-pointer",role:"button",tabindex:0,"aria-label":i(M)("productCard.tags.additional",{count:i(G)})},null,8,["label","aria-label"])]),_:1})):n("",!0)],8,N)):n("",!0)])]),o.clickable?(e(),r("div",H,[d(t,{name:"i-heroicons-arrow-top-right-on-square",class:"w-4 h-4 text-primary-500"})])):n("",!0)],42,y)])}}}),q=Object.assign(P,{__name:"ProductCard"});export{q as P};
