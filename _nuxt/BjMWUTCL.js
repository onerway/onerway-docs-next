import{A as o,aW as a,I as t,d as r,e,h as l,n as s,H as i,f as n,g as d,av as u,t as c,b2 as p,ag as m,D as f,F as h,O as g,w as v,b1 as w}from"./BtL5YkUb.js";const b={class:"group relative h-full"},y=["tabindex","role","aria-label"],x={class:"flex items-center gap-4"},k={class:"flex-1 min-w-0"},C={class:"mb-1"},$={class:"flex items-center mb-2"},T=["id"],z={key:0,class:"flex-shrink-0 ml-2"},j=["id"],B=["aria-label"],_=["aria-label"],D=["aria-label"],S=["aria-label"],U={class:"p-2 max-w-xs",role:"tooltip"},H={class:"sr-only"},I={class:"flex flex-wrap gap-1"},N={key:0,class:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-200 motion-reduce:transition-none","aria-hidden":"true"},P=o({__name:"ProductCard",props:{product:{},showStats:{type:Boolean,default:!0},showTags:{type:Boolean,default:!0},showStatus:{type:Boolean,default:!0},maxTags:{default:3},clickable:{type:Boolean,default:!0}},emits:["click"],setup(o,{emit:P}){const A=o,F=P,O=[{from:"from-blue-500",to:"to-violet-600",shadow:"group-hover:shadow-violet-500/25",glow:"from-blue-500/20 via-indigo-400/10 to-violet-500/20"},{from:"from-indigo-500",to:"to-cyan-500",shadow:"group-hover:shadow-cyan-500/25",glow:"from-indigo-500/20 via-blue-400/10 to-cyan-500/20"},{from:"from-teal-500",to:"to-emerald-600",shadow:"group-hover:shadow-emerald-500/25",glow:"from-teal-500/20 via-emerald-400/10 to-green-500/20"},{from:"from-green-500",to:"to-teal-600",shadow:"group-hover:shadow-teal-500/25",glow:"from-green-500/20 via-teal-400/10 to-cyan-500/20"},{from:"from-lime-500",to:"to-green-600",shadow:"group-hover:shadow-green-500/25",glow:"from-lime-500/20 via-green-400/10 to-teal-500/20"},{from:"from-yellow-500",to:"to-amber-600",shadow:"group-hover:shadow-amber-500/25",glow:"from-yellow-500/20 via-amber-400/10 to-orange-500/20"},{from:"from-amber-500",to:"to-orange-600",shadow:"group-hover:shadow-orange-500/25",glow:"from-amber-500/20 via-orange-400/10 to-red-500/20"},{from:"from-orange-500",to:"to-rose-600",shadow:"group-hover:shadow-rose-500/25",glow:"from-orange-500/20 via-rose-400/10 to-pink-500/20"},{from:"from-rose-500",to:"to-pink-600",shadow:"group-hover:shadow-pink-500/25",glow:"from-rose-500/20 via-pink-400/10 to-fuchsia-500/20"},{from:"from-pink-500",to:"to-fuchsia-600",shadow:"group-hover:shadow-fuchsia-500/25",glow:"from-pink-500/20 via-fuchsia-400/10 to-purple-500/20"},{from:"from-fuchsia-500",to:"to-purple-600",shadow:"group-hover:shadow-purple-500/25",glow:"from-fuchsia-500/20 via-purple-400/10 to-indigo-500/20"},{from:"from-purple-500",to:"to-indigo-600",shadow:"group-hover:shadow-indigo-500/25",glow:"from-purple-500/20 via-indigo-400/10 to-blue-500/20"},{from:"from-cyan-500",to:"to-sky-600",shadow:"group-hover:shadow-sky-500/25",glow:"from-cyan-500/20 via-sky-400/10 to-blue-500/20"},{from:"from-sky-500",to:"to-blue-600",shadow:"group-hover:shadow-blue-500/25",glow:"from-sky-500/20 via-blue-400/10 to-indigo-500/20"},{from:"from-red-500",to:"to-rose-600",shadow:"group-hover:shadow-red-500/25",glow:"from-red-500/20 via-rose-400/10 to-pink-500/20"},{from:"from-violet-500",to:"to-purple-700",shadow:"group-hover:shadow-violet-500/25",glow:"from-violet-500/20 via-purple-400/10 to-fuchsia-500/20"}],{t:W,locale:q}=a(),E=()=>{A.clickable&&F("click",A.product)},K=o=>{A.clickable&&("Enter"!==o.key&&" "!==o.key||(o.preventDefault(),E()))},M=t(()=>({card:"bg-default",cardHover:"hover:shadow-default",border:"border-default hover:border-primary/20",text:{primary:"text-primary",secondary:"text-secondary",muted:"text-muted"}})),V=o=>{if(!o)return"";const a=new Date(o);if(Number.isNaN(a.getTime()))return"";const t={month:q.value.startsWith("zh")?"2-digit":"short",day:"numeric"};return new Intl.DateTimeFormat(q.value,t).format(a)},G=t(()=>(A.product.tags||[]).slice(0,A.maxTags)),J=t(()=>{var o;const a=(null==(o=A.product.tags)?void 0:o.length)||0;return a>A.maxTags?a-A.maxTags:0}),L=t(()=>(A.product.tags||[]).slice(A.maxTags)),Q=t(()=>{const o=A.product.status;if(!o)return null;return{new:{variant:"solid",color:"success"},beta:{variant:"outline",color:"warning"},updated:{variant:"soft",color:"info"}}[o]||{variant:"soft",color:"neutral"}}),R=t(()=>{const o=(o=>{let a=0;for(let t=0;t<o.length;t++)a=(a<<5)-a+o.charCodeAt(t),a&=a;return Math.abs(a)})([A.product.id,A.product.title,A.product.to,...A.product.tags||[]].filter(Boolean).join("|")),a=O[((o^o>>>16)>>>0)%O.length];return{gradient:`bg-gradient-to-br ${null==a?void 0:a.from} ${null==a?void 0:a.to}`,shadow:null==a?void 0:a.shadow,glow:null==a?void 0:a.glow}});return(o,a)=>{var t;const P=u,A=p,F=w;return e(),r("div",b,[l("div",{class:s(["absolute -inset-2 rounded-3xl opacity-0 group-hover:opacity-100 transition-all duration-500 pointer-events-none blur-md motion-reduce:transition-none",`bg-gradient-to-br ${i(R).glow}`]),"aria-hidden":"true"},null,2),l("div",{class:s(["relative h-full rounded-2xl hover:shadow-xl transition-all duration-300 border transform hover:-translate-y-1 p-4 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary/50 motion-reduce:transition-none motion-reduce:transform-none",[i(M).card,i(M).cardHover,i(M).border,{"cursor-pointer":o.clickable}]]),tabindex:o.clickable?0:-1,role:o.clickable?"button":"article","aria-label":o.clickable?`${i(W)("productCard.clickToView")} ${o.product.title}`:`${i(W)("productCard.productInfo")} ${o.product.title}`,onClick:E,onKeydown:K},[l("div",x,[l("div",{class:s(["flex items-center justify-center size-12 rounded-xl text-white shadow-lg transition-shadow duration-300 motion-reduce:transition-none",[i(R).gradient,i(R).shadow]])},[d(P,{name:o.product.icon,class:"w-6 h-6"},null,8,["name"])],2),l("div",k,[l("div",C,[l("div",$,[l("h3",{id:`product-title-${o.product.id}`,class:"text-lg font-semibold text-primary group-hover:text-default transition-colors duration-200 text-wrap line-clamp-3 motion-reduce:transition-none"},c(o.product.title),9,T),o.showStatus&&o.product.status&&i(Q)?(e(),r("span",z,[d(A,{label:i(W)(`productCard.status.${o.product.status}`),variant:i(Q).variant,color:i(Q).color,size:"md","aria-label":`${i(W)("productCard.status.label")} ${i(W)(`productCard.status.${o.product.status}`)}`},null,8,["label","variant","color","aria-label"])])):n("",!0)]),l("p",{id:`product-desc-${o.product.id}`,class:"text-sm line-clamp-3 transition-colors duration-200 motion-reduce:transition-none"},c(o.product.description),9,j)]),o.showStats&&(o.product.docsCount||o.product.lastUpdated)?(e(),r("div",{key:0,class:"flex items-center justify-between text-xs mb-4",role:"group","aria-label":i(W)("productCard.statistics")},[o.product.docsCount?(e(),r("span",{key:0,class:"flex items-center gap-1","aria-label":i(W)("productCard.docsCount",{count:o.product.docsCount})},[d(P,{name:"i-heroicons-document-text",class:"w-3 h-3","aria-hidden":!0}),m(" "+c(i(W)("productCard.docsCount",{count:o.product.docsCount})),1)],8,_)):n("",!0),o.product.lastUpdated?(e(),r("span",{key:1,class:"flex items-center gap-1 font-semibold","aria-label":`${i(W)("common.updated")} ${V(o.product.lastUpdated)}`},[d(P,{name:"i-heroicons-clock",class:"w-3 h-3","aria-hidden":!0}),m(" "+c(i(W)("common.updated"))+" "+c(V(o.product.lastUpdated)),1)],8,D)):n("",!0)],8,B)):n("",!0),o.showTags&&(null==(t=o.product.tags)?void 0:t.length)?(e(),r("div",{key:1,class:"flex flex-wrap gap-1",role:"group","aria-label":i(W)("productCard.tags.label")},[(e(!0),r(h,null,g(i(G),o=>(e(),f(A,{key:o,label:o,variant:"soft",size:"md",class:"font-medium","aria-label":`${i(W)("productCard.tags.item")} ${o}`},null,8,["label","aria-label"]))),128)),i(J)>0?(e(),f(F,{key:0,mode:"hover",popper:{placement:"top"}},{content:v(()=>[l("div",U,[l("h3",H,c(i(W)("productCard.tags.additional",{count:i(J)})),1),l("div",I,[(e(!0),r(h,null,g(i(L),o=>(e(),f(A,{key:o,label:o,variant:"soft",size:"sm",class:"font-medium"},null,8,["label"]))),128))])])]),default:v(()=>[d(A,{label:`+${i(J)}`,variant:"outline",size:"md",class:"font-medium text-muted transition-colors cursor-pointer",role:"button",tabindex:0,"aria-label":i(W)("productCard.tags.additional",{count:i(J)})},null,8,["label","aria-label"])]),_:1})):n("",!0)],8,S)):n("",!0)])]),o.clickable?(e(),r("div",N,[d(P,{name:"i-heroicons-arrow-top-right-on-square",class:"w-4 h-4 text-primary-500"})])):n("",!0)],42,y)])}}}),A=Object.assign(P,{__name:"ProductCard"});export{A as P};
