import{aF as e,r as a,A as t,G as r,o as l,aS as o,D as n,H as s,d as i,W as d,e as u,w as c,bs as p,h as f,U as g,f as y,aq as h,aN as m,I as v,aL as b,n as x,aY as k}from"#entry";const z={class:"inline-flex items-center group"},w={key:1,class:"inline-flex items-center group"},C=["aria-disabled"],_={class:"inline-flex items-center group"},B={key:1,class:"inline-flex items-center"},T=n({__name:"ProseA",props:{href:{default:""},to:{default:""},target:{default:void 0},showExternalIcon:{type:Boolean,default:!0},underline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},external:{type:Boolean,default:void 0},prefetch:{type:Boolean,default:void 0},noPrefetch:{type:Boolean,default:void 0},tooltip:{default:void 0},open:{type:Boolean,default:!1},glossary:{default:void 0},side:{default:"top"},badge:{default:void 0},badgeColor:{default:"primary"},badgeVariant:{default:"solid"},badgeSize:{default:"sm"}},setup(n){const T=n,{getTerm:L}=(()=>{const{locale:n}=e(),s=a({}),i=a(!1),d=a(null),u=async(e=n.value)=>{try{i.value=!0,d.value=null;const a=await $fetch(`/glossary/${e}.json`);s.value=a||{}}catch(a){d.value=`Failed to load glossary for language: ${e}`,console.warn("Glossary loading failed:",a),s.value={}}finally{i.value=!1}},c=e=>{const a=e.toLowerCase().trim();return s.value[a]||null},p=t(()=>Object.entries(s.value).map(([e,a])=>({key:e,...a})));return r(n,e=>{e&&u(e)}),l(()=>{u(n.value||"en")}),{glossaryData:o(s),isLoading:o(i),error:o(d),loadGlossary:u,getTerm:c,hasTerm:e=>!!c(e),parseTermsInText:e=>{if(!e)return[];const a=[],t=/\*([^*]+)\*/g;let r=0,l=t.exec(e);for(;null!==l;){if(l.index>r){const t=e.slice(r,l.index);t&&a.push({type:"text",content:t})}const o=l[1];if(o){const e=c(o);e?a.push({type:"term",content:o,term:e}):a.push({type:"text",content:l[0]})}r=t.lastIndex,l=t.exec(e)}if(r<e.length){const t=e.slice(r);t&&a.push({type:"text",content:t})}return a},getAllTerms:p,getTermsByCategory:e=>Object.entries(s.value).filter(([,a])=>a.tags===e||a.category===e).map(([e,a])=>({key:e,term:a})),searchTerms:e=>{if(!e.trim())return[];const a=e.toLowerCase();return Object.entries(s.value).filter(([e,t])=>e.toLowerCase().includes(a)||t.term.toLowerCase().includes(a)||t.definition.toLowerCase().includes(a)).map(([e,a])=>({key:e,term:a}))}}})(),$=k(),P=t(()=>T.to||T.href||""),S=t(()=>P.value?P.value.startsWith("mailto:")?"mailto":P.value.startsWith("tel:")?"tel":P.value.startsWith("http://")||P.value.startsWith("https://")?"external":"internal":"empty"),j=t(()=>["inline-flex items-center gap-1 transition-colors duration-200","text-primary hover:text-default",{"opacity-50 cursor-not-allowed pointer-events-none":T.disabled},"focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-1 rounded-sm",{"font-medium":"external"===S.value},{"px-1 underline decoration-1 decoration-dotted underline-offset-4 decoration-neutral-500/40 dark:decoration-neutral-300/40":!(T.underline||!T.tooltip&&!T.glossary),"hover:no-underline hover:bg-primary/10 hover:dark:bg-default/20 hover:rounded":!(T.underline||!T.tooltip&&!T.glossary)}]),I=t(()=>{if(!T.showExternalIcon)return null;switch(S.value){case"mailto":return"i-heroicons-envelope";case"tel":return"i-heroicons-phone";case"external":return"i-heroicons-arrow-top-right-on-square";default:return null}}),V=t(()=>{const e={to:P.value};return void 0!==T.external&&(e.external=T.external),void 0!==T.prefetch&&(e.prefetch=T.prefetch),T.noPrefetch&&(e.noPrefetch=T.noPrefetch),T.disabled&&(e["aria-disabled"]="true",e.tabindex=-1),e}),W=t(()=>{if(T.glossary){const e=L(T.glossary);if(e)return e.definition}return T.tooltip||""}),A=t(()=>!!W.value),O=t(()=>A.value?(T.glossary&&L(T.glossary),"i-heroicons-question-mark-circle"):null),q=e=>{$.info("tooltip state changed",e)};return(e,a)=>{const t=h,r=m,l=p,o=b;return d(P)?(u(),s(o,v({key:0},d(V),{target:"external"===d(S)?"_blank":"_self",class:d(j)}),{default:c(()=>[d(A)?(u(),s(l,{key:0,text:d(W),content:{side:T.side},"delay-duration":200,"onUpdate:open":q},{default:c(()=>[f("span",z,[g(e.$slots,"default"),d(O)?(u(),s(t,{key:0,name:d(O),class:"ml-1 size-3.5 flex-shrink-0 opacity-60 group-hover:opacity-100 transition-opacity duration-200","aria-hidden":!0},null,8,["name"])):y("",!0),d(I)?(u(),s(t,{key:1,name:d(I),class:"ml-1 size-3.5 flex-shrink-0 opacity-60 group-hover:opacity-100 transition-opacity duration-200","aria-hidden":!0},null,8,["name"])):y("",!0),T.badge?(u(),s(r,{key:2,label:T.badge,color:T.badgeColor,variant:T.badgeVariant,size:T.badgeSize,class:"ml-1.5 flex-shrink-0 group-hover:bg-primary/80"},null,8,["label","color","variant","size"])):y("",!0)])]),_:3},8,["text","content"])):(u(),i("span",w,[g(e.$slots,"default"),d(I)?(u(),s(t,{key:0,name:d(I),class:"ml-1 size-3.5 flex-shrink-0 opacity-60 group-hover:opacity-100 transition-opacity duration-200","aria-hidden":!0},null,8,["name"])):y("",!0),T.badge?(u(),s(r,{key:1,label:T.badge,color:T.badgeColor,variant:T.badgeVariant,size:T.badgeSize,class:"ml-1.5 flex-shrink-0 group-hover:bg-primary/80"},null,8,["label","color","variant","size"])):y("",!0)]))]),_:3},16,["target","class"])):(u(),i("span",{key:1,class:x(d(j)),"aria-disabled":T.disabled?"true":void 0},[d(A)?(u(),s(l,{key:0,text:d(W),"delay-duration":200,content:{side:T.side},"onUpdate:open":q},{default:c(()=>[f("span",_,[g(e.$slots,"default"),d(O)?(u(),s(t,{key:0,name:d(O),class:"ml-1 size-3.5 flex-shrink-0 opacity-60 group-hover:opacity-100 transition-opacity duration-200","aria-hidden":!0},null,8,["name"])):y("",!0),T.badge?(u(),s(r,{key:1,label:T.badge,color:T.badgeColor,variant:T.badgeVariant,size:T.badgeSize,class:"ml-1.5 flex-shrink-0 group-hover:bg-primary/80"},null,8,["label","color","variant","size"])):y("",!0)])]),_:3},8,["text","content"])):(u(),i("span",B,[g(e.$slots,"default"),T.badge?(u(),s(r,{key:0,label:T.badge,color:T.badgeColor,variant:T.badgeVariant,size:T.badgeSize,class:"ml-1.5 flex-shrink-0 group-hover:bg-primary/80"},null,8,["label","color","variant","size"])):y("",!0)]))],10,C))}}}),L=Object.assign(T,{__name:"ProseA"});export{L as default};
