import{T as e,a,b as l,c as t,d as s}from"./DxCgBWCe.js";import{a7 as i,a8 as r,a9 as o,z as u,A as n,ae as d,r as c,o as p,aR as g,G as m,bA as v,H as f,e as b,w as y,g as h,d as x,W as V,n as S,J as k,F as w,h as _,t as I,aZ as q}from"#entry";import j from"./6j61VbQ4.js";import"./B60-lSj8.js";const z={slots:{root:"relative group *:not-first:!my-0 *:not-first:!static my-5",list:"relative flex items-center gap-1 border border-muted bg-default border-b-0 rounded-t-md overflow-x-auto p-2",indicator:"absolute left-0 inset-y-2 w-(--reka-tabs-indicator-size) translate-x-(--reka-tabs-indicator-position) transition-[translate,width] duration-200 bg-elevated rounded-md shadow-xs",trigger:["relative inline-flex items-center gap-1.5 text-default data-[state=active]:text-highlighted hover:bg-elevated/50 px-2 py-1.5 text-sm rounded-md disabled:cursor-not-allowed disabled:opacity-75 focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary focus:outline-none","transition-colors"],triggerIcon:"size-4 shrink-0",triggerLabel:"truncate"}},G={__name:"ProseCodeGroup",props:i({defaultValue:{type:String,required:!1,default:"0"},sync:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},{modelValue:{type:String},modelModifiers:{}}),emits:["update:modelValue"],setup(i){const G=i,L=r(),A=o(i,"modelValue"),M=u(),$=n(()=>d({extend:d(z),...M.ui?.prose?.codeGroup||{}})()),B=c(1),C=n(()=>(B.value,L.default?.()?.flatMap(F).filter(Boolean)||[]));function F(e,a){return"symbol"==typeof e.type?e.children?.map(F):{label:e.props?.filename||e.props?.label||`${a}`,icon:e.props?.icon,component:e}}return p(()=>{if(G.sync){const e=`code-group-${G.sync}`,a=g(e,()=>localStorage.getItem(e));m(a,()=>{a.value&&(A.value=a.value)},{immediate:!0}),m(A,()=>{A.value&&(a.value=A.value,localStorage.setItem(e,A.value))})}}),v(()=>B.value++),(r,o)=>(b(),f(V(l),{modelValue:A.value,"onUpdate:modelValue":o[0]||(o[0]=e=>A.value=e),"default-value":i.defaultValue,"unmount-on-hide":!1,class:S($.value.root({class:[G.ui?.root,G.class]}))},{default:y(()=>[h(V(a),{class:S($.value.list({class:G.ui?.list}))},{default:y(()=>[h(V(e),{class:S($.value.indicator({class:G.ui?.indicator}))},null,8,["class"]),(b(!0),x(w,null,k(C.value,(e,a)=>(b(),f(V(t),{key:a,value:String(a),class:S($.value.trigger({class:G.ui?.trigger}))},{default:y(()=>[h(j,{icon:e.icon,filename:e.label,class:S($.value.triggerIcon({class:G.ui?.triggerIcon}))},null,8,["icon","filename","class"]),_("span",{class:S($.value.triggerLabel({class:G.ui?.triggerLabel}))},I(e.label),3)]),_:2},1032,["value","class"]))),128))]),_:1},8,["class"]),(b(!0),x(w,null,k(C.value,(e,a)=>(b(),f(V(s),{key:a,value:String(a),"as-child":""},{default:y(()=>[(b(),f(q(e.component),{"hide-header":"",tabindex:"-1"}))]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","default-value","class"]))}};export{G as default};
