const e=["INPUT","TEXTAREA"];function r(r,l,n,o={}){if(!l||o.enableIgnoredElement&&e.includes(l.nodeName))return null;const{arrowKeyOptions:u="both",attributeName:i="[data-reka-collection-item]",itemsArray:a=[],loop:f=!0,dir:s="ltr",preventScroll:c=!0,focus:d=!1}=o,[A,g,y,h,p,w]=["ArrowRight"===r.key,"ArrowLeft"===r.key,"ArrowUp"===r.key,"ArrowDown"===r.key,"Home"===r.key,"End"===r.key],b=y||h,k=A||g;if(!p&&!w&&(!b&&!k||"vertical"===u&&k||"horizontal"===u&&b))return null;const m=n?Array.from(n.querySelectorAll(i)):a;if(!m.length)return null;c&&r.preventDefault();let E=null;if(k||b){E=t(m,l,{goForward:b?h:"ltr"===s?A:g,loop:f})}else p?E=m.at(0)||null:w&&(E=m.at(-1)||null);return d&&(null==E||E.focus()),E}function t(e,r,l,n=e.length){if(0===--n)return null;const o=e.indexOf(r),u=l.goForward?o+1:o-1;if(!l.loop&&(u<0||u>=e.length))return null;const i=e[(u+e.length)%e.length];if(!i)return null;return i.hasAttribute("disabled")&&"false"!==i.getAttribute("disabled")?t(e,i,l,n):i}export{r as u};
