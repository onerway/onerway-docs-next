import{D as a,A as t,aY as e,H as n,e as o,b$ as l,W as i,v as r,bi as s,bj as c,bk as u,d,g as h,w as p,bn as g,b7 as m,aT as f,U as v,f as b,bo as y,bp as _}from"#entry";import{_ as k}from"./CEjEJbNn.js";import{_ as w}from"./Bylju2po.js";import{_ as j}from"./SRxIwu9j.js";const x=a({__name:"DocsNavigation",props:{navigation:{},color:{default:"primary"},highlight:{type:Boolean,default:!0},orientation:{default:"vertical"},collapsible:{type:Boolean},type:{default:"multiple"},moduleUi:{default:()=>({group:"border-t border-default mt-3 py-2 text-highlighted font-semibold",label:""})}},setup(a){const r=a,s=e();function c(a,t){if(a)for(const e of a){e.module&&e.path&&t.add(e.path),e.children?.length&&c(e.children,t)}}function u(a,t){return a?a.map(a=>{const e={...a};return e.to&&t.has(e.to)&&(e.class=[e.class,r.moduleUi.group].filter(Boolean).join(" "),e.labelClass=[e.labelClass,r.moduleUi.label].filter(Boolean).join(" "),e["data-module"]=!0,e.ui={linkTrailingIcon:"hidden"}),Array.isArray(e.children)&&e.children.length&&(e.children=u(e.children,t)),e}):a}const d=t(()=>{const a=function a(t){return t.map(t=>{const e=Array.isArray(t.children)&&t.children.length>0,n=!!e&&t.children.some(a=>a.path===t.path),o={label:String(t.title||""),value:String(t.path||"")};e&&n||(o.to=String(t.path||"")),e&&(o.children=a(t.children),o.defaultOpen=!0);const l=t;return l.icon&&(o.icon=l.icon),o})}(r.navigation),t=new Set;return c(r.navigation,t),u(a,t)});s.info("navigation",d?.value);const h=a=>{s.info("navigation model-value changed",a)};return(a,t)=>{const e=l;return o(),n(e,{"trailing-icon":"i-lucide-chevron-right",items:i(d),highlight:a.highlight,color:a.color,orientation:a.orientation,variant:"link",type:a.type,ui:{link:"cursor-pointer",linkTrailingIcon:"group-data-[state=open]:rotate-90",linkLabel:"line-clamp-2 text-wrap text-sm",childLinkLabel:"line-clamp-2 text-wrap"},class:"sm:mt-8","onUpdate:modelValue":h},null,8,["items","highlight","color","orientation","type"])}}}),N=Object.assign(x,{__name:"DocsNavigation"}),A={class:"min-h-screen"},U=a({__name:"docs",async setup(a){let l,x;const U=r(),$=e(),{pathInfo:B}=s();$.info("module信息",B.value.module);const{data:C}=([l,x]=c(()=>g(m(U.path),async()=>{const a=B.value;if(!a.collectionName)throw y({statusCode:404,statusMessage:"Collection not found"});return _(a.collectionName).path(a.contentPath).first()},"$XHYI4-VaW0")),l=await l,x(),l),I=u("navigation"),S=t(()=>`${B.value.module||"root"}:${I?.value&&I.value.length?"ready":"loading"}`),D=t(()=>I?.value||[]);$.info("safeNavigation",D.value);const L={root:"border-r border-default"};return(a,t)=>{const e=N,l=k,r=w,s=f,c=j;return o(),d("div",A,[h(c,null,{default:p(()=>[h(s,{class:"max-w-8xl"},{default:p(()=>[h(r,null,{left:p(()=>[i(C)?.showNavigation&&i(D).length>0?(o(),n(l,{key:0,ui:L,class:"-translate-y-6"},{default:p(()=>[(o(),n(e,{key:i(S),navigation:i(D),highlight:"",color:"primary",orientation:"vertical",type:"multiple",class:"sm:mt-12"},null,8,["navigation"]))]),_:1})):b("",!0)]),default:p(()=>[v(a.$slots,"default")]),_:3})]),_:3})]),_:3})])}}});export{U as default};
