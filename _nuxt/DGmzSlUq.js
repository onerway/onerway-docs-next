import{t as e}from"./BY4ec_Pk.js";import a from"./CNSUacam.js";import{a2 as l,aa as t,a3 as s,y as r,z as i,r as o,o as u,aY as n,E as d,aW as c,G as v,d as p,w as m,f as g,c as f,S as b,n as y,J as h,F as x,g as j,t as S,aX as V}from"./BOEjTd95.js";import{_,a as k,b as w,c as I,d as q}from"./BLjbsI3n.js";import"./DOW1UQBU.js";import"./m8uzoPnc.js";import"./DL4gl6Xz.js";import"./B1APjQ1Z.js";import"./wjg-Jxpu.js";const z={slots:{root:"relative group *:not-first:!my-0 *:not-first:!static my-5",list:"relative flex items-center gap-1 border border-muted bg-default border-b-0 rounded-t-md overflow-x-auto p-2",indicator:"absolute left-0 inset-y-2 w-(--reka-tabs-indicator-size) translate-x-(--reka-tabs-indicator-position) transition-[translate,width] duration-200 bg-elevated rounded-md shadow-xs",trigger:["relative inline-flex items-center gap-1.5 text-default data-[state=active]:text-highlighted hover:bg-elevated/50 px-2 py-1.5 text-sm rounded-md disabled:cursor-not-allowed disabled:opacity-75 focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary focus:outline-none","transition-colors"],triggerIcon:"size-4 shrink-0",triggerLabel:"truncate"}},G={__name:"ProseCodeGroup",props:l({defaultValue:{type:String,required:!1,default:"0"},sync:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},{modelValue:{type:String},modelModifiers:{}}),emits:["update:modelValue"],setup(l){const G=l,L=t(),M=s(l,"modelValue"),P=r(),$=i((()=>{var a,l;return e({extend:e(z),...(null==(l=null==(a=P.uiPro)?void 0:a.prose)?void 0:l.codeGroup)||{}})()})),B=o(1),C=i((()=>{var e,a;return B.value,(null==(a=null==(e=L.default)?void 0:e.call(L))?void 0:a.flatMap(E).filter(Boolean))||[]}));function E(e,a){var l,t,s,r;return"symbol"==typeof e.type?null==(l=e.children)?void 0:l.map(E):{label:(null==(t=e.props)?void 0:t.filename)||(null==(s=e.props)?void 0:s.label)||`${a}`,icon:null==(r=e.props)?void 0:r.icon,component:e}}return u((()=>{if(G.sync){const e=`code-group-${G.sync}`,a=n(e,(()=>localStorage.getItem(e)));d(a,(()=>{a.value&&(M.value=a.value)}),{immediate:!0}),d(M,(()=>{M.value&&(a.value=M.value,localStorage.setItem(e,M.value))}))}})),c((()=>B.value++)),(e,t)=>{var s;return p(),v(b(w),{modelValue:M.value,"onUpdate:modelValue":t[0]||(t[0]=e=>M.value=e),"default-value":l.defaultValue,"unmount-on-hide":!1,class:y($.value.root({class:[null==(s=G.ui)?void 0:s.root,G.class]}))},{default:m((()=>{var e;return[g(b(k),{class:y($.value.list({class:null==(e=G.ui)?void 0:e.list}))},{default:m((()=>{var e;return[g(b(_),{class:y($.value.indicator({class:null==(e=G.ui)?void 0:e.indicator}))},null,8,["class"]),(p(!0),f(x,null,h(C.value,((e,l)=>{var t;return p(),v(b(I),{key:l,value:String(l),class:y($.value.trigger({class:null==(t=G.ui)?void 0:t.trigger}))},{default:m((()=>{var l,t;return[g(a,{icon:e.icon,filename:e.label,class:y($.value.triggerIcon({class:null==(l=G.ui)?void 0:l.triggerIcon}))},null,8,["icon","filename","class"]),j("span",{class:y($.value.triggerLabel({class:null==(t=G.ui)?void 0:t.triggerLabel}))},S(e.label),3)]})),_:2},1032,["value","class"])})),128))]})),_:1},8,["class"]),(p(!0),f(x,null,h(C.value,((e,a)=>(p(),v(b(q),{key:a,value:String(a),"as-child":""},{default:m((()=>[(p(),v(V(e.component),{"hide-header":"",tabindex:"-1"}))])),_:2},1032,["value"])))),128))]})),_:1},8,["modelValue","default-value","class"])}}};export{G as default};
