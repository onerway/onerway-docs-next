import{aF as e,r as t,A as a,G as n,o,aS as r,D as l,H as s,d as i,W as u,e as d,w as c,bs as p,h as f,U as y,f as h,aq as m,I as g,aL as v,n as x,aY as k}from"#entry";const b={class:"inline-flex items-center group"},w={key:1,class:"inline-flex items-center group"},_=["aria-disabled"],B={class:"inline-flex items-center group"},T={key:1,class:"inline-flex items-center"},L=l({__name:"ProseA",props:{href:{default:""},to:{default:""},target:{default:void 0},showExternalIcon:{type:Boolean,default:!0},underline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},external:{type:Boolean,default:void 0},prefetch:{type:Boolean,default:void 0},noPrefetch:{type:Boolean,default:void 0},tooltip:{default:void 0},open:{type:Boolean,default:!1},glossary:{default:void 0},side:{default:"top"}},setup(l){const L=l,{getTerm:$}=(()=>{const{locale:l}=e(),s=t({}),i=t(!1),u=t(null),d=async(e=l.value)=>{try{i.value=!0,u.value=null;const t=await $fetch(`/glossary/${e}.json`);s.value=t||{}}catch(t){u.value=`Failed to load glossary for language: ${e}`,console.warn("Glossary loading failed:",t),s.value={}}finally{i.value=!1}},c=e=>{const t=e.toLowerCase().trim();return s.value[t]||null},p=a(()=>Object.entries(s.value).map(([e,t])=>({key:e,...t})));return n(l,e=>{e&&d(e)}),o(()=>{d(l.value||"en")}),{glossaryData:r(s),isLoading:r(i),error:r(u),loadGlossary:d,getTerm:c,hasTerm:e=>!!c(e),parseTermsInText:e=>{if(!e)return[];const t=[],a=/\*([^*]+)\*/g;let n=0,o=a.exec(e);for(;null!==o;){if(o.index>n){const a=e.slice(n,o.index);a&&t.push({type:"text",content:a})}const r=o[1];if(r){const e=c(r);e?t.push({type:"term",content:r,term:e}):t.push({type:"text",content:o[0]})}n=a.lastIndex,o=a.exec(e)}if(n<e.length){const a=e.slice(n);a&&t.push({type:"text",content:a})}return t},getAllTerms:p,getTermsByCategory:e=>Object.entries(s.value).filter(([,t])=>t.tags===e||t.category===e).map(([e,t])=>({key:e,term:t})),searchTerms:e=>{if(!e.trim())return[];const t=e.toLowerCase();return Object.entries(s.value).filter(([e,a])=>e.toLowerCase().includes(t)||a.term.toLowerCase().includes(t)||a.definition.toLowerCase().includes(t)).map(([e,t])=>({key:e,term:t}))}}})(),C=k(),P=a(()=>L.to||L.href||""),j=a(()=>P.value?P.value.startsWith("mailto:")?"mailto":P.value.startsWith("tel:")?"tel":P.value.startsWith("http://")||P.value.startsWith("https://")?"external":"internal":"empty"),I=a(()=>["inline-flex items-center gap-1 transition-colors duration-200","text-primary hover:text-default",{"underline decoration-1 underline-offset-2":L.underline,"no-underline":!L.underline&&0===L.tooltip?.length&&0===L.glossary?.length},{"opacity-50 cursor-not-allowed pointer-events-none":L.disabled},"focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-1 rounded-sm",{"font-medium":"external"===j.value},{"px-1 underline decoration-1 decoration-dotted underline-offset-4 decoration-neutral-500/40 hover:decoration-neutral-500/100 dark:decoration-neutral-300/40 hover:dark:decoration-neutral-300/100":!(L.underline||!L.tooltip&&!L.glossary),"hover:bg-primary/20 hover:dark:bg-default/40 hover:rounded":!(L.underline||!L.tooltip&&!L.glossary)}]),W=a(()=>{if(!L.showExternalIcon)return null;switch(j.value){case"mailto":return"i-heroicons-envelope";case"tel":return"i-heroicons-phone";case"external":return"i-heroicons-arrow-top-right-on-square";default:return null}}),z=a(()=>{const e={to:P.value};return void 0!==L.external&&(e.external=L.external),void 0!==L.prefetch&&(e.prefetch=L.prefetch),L.noPrefetch&&(e.noPrefetch=L.noPrefetch),L.disabled&&(e["aria-disabled"]="true",e.tabindex=-1),e}),A=a(()=>{if(L.glossary){const e=$(L.glossary);if(e)return e.definition}return L.tooltip||""}),O=a(()=>!!A.value),q=a(()=>O.value?(L.glossary&&$(L.glossary),"i-heroicons-question-mark-circle"):null),G=e=>{C.info("tooltip state changed",e)};return(e,t)=>{const a=m,n=p,o=v;return u(P)?(d(),s(o,g({key:0},u(z),{target:"external"===u(j)?"_blank":"_self",class:u(I)}),{default:c(()=>[u(O)?(d(),s(n,{key:0,text:u(A),"data-text":u(A),content:{side:L.side},"delay-duration":200,"onUpdate:open":G},{default:c(()=>[f("span",b,[y(e.$slots,"default"),u(q)?(d(),s(a,{key:0,name:u(q),class:"ml-1 size-3.5 flex-shrink-0 opacity-60 group-hover:opacity-100 transition-opacity duration-200","aria-hidden":!0},null,8,["name"])):h("",!0),u(W)?(d(),s(a,{key:1,name:u(W),class:"ml-1 size-3.5 flex-shrink-0 opacity-60 group-hover:opacity-100 transition-opacity duration-200","aria-hidden":!0},null,8,["name"])):h("",!0)])]),_:3},8,["text","data-text","content"])):(d(),i("span",w,[y(e.$slots,"default"),u(W)?(d(),s(a,{key:0,name:u(W),class:"ml-1 size-3.5 flex-shrink-0 opacity-60 group-hover:opacity-100 transition-opacity duration-200","aria-hidden":!0},null,8,["name"])):h("",!0)]))]),_:3},16,["target","class"])):(d(),i("span",{key:1,class:x(u(I)),"aria-disabled":L.disabled?"true":void 0},[u(O)?(d(),s(n,{key:0,text:u(A),"data-text":u(A),"delay-duration":200,content:{side:L.side},"onUpdate:open":G},{default:c(()=>[f("span",B,[y(e.$slots,"default"),u(q)?(d(),s(a,{key:0,name:u(q),class:"ml-1 size-3.5 flex-shrink-0 opacity-60 group-hover:opacity-100 transition-opacity duration-200","aria-hidden":!0},null,8,["name"])):h("",!0)])]),_:3},8,["text","data-text","content"])):(d(),i("span",T,[y(e.$slots,"default")]))],10,_))}}}),$=Object.assign(L,{__name:"ProseA"});export{$ as default};
