import{A as e,B as t,C as i,D as a,e as n,w as l,E as s,G as r,H as o,P as u,I as c,J as d,K as h,L as p,M as v,N as f,d as g,O as m,F as y,Q as b,R as A,S as x,U as C,V as E,W as k,r as B,X as F,Y as _,Z as L,f as M,$ as S,a0 as D,g as I,a1 as w,a2 as $,a3 as q,a4 as K,o as O,c as T,a5 as R,a6 as P,a7 as j,a8 as H,a9 as z,aa as N,z as V,ab as W,ac as U,ad as G,ae as J,af as Q,n as X,ag as Y,t as Z,ah as ee,ai as te,aj as ie,ak as ae,al as ne,am as le,an as se,ao as re,ap as oe,aq as ue,ar as ce,as as de,at as he,au as pe,h as ve,av as fe,aw as ge,ax as me,ay as ye,az as be,aA as Ae,aB as xe,aC as Ce,aD as Ee,aE as ke,aF as Be,aG as Fe,aH as _e,aI as Le,aJ as Me,aK as Se,aL as De,aM as Ie,aN as we,aO as $e,aP as qe,aQ as Ke,aR as Oe,aS as Te,aT as Re,aU as Pe,aV as je}from"./DG2-Gjhr.js";const He=e({__name:"DialogClose",props:{asChild:{type:Boolean},as:{default:"button"}},setup(e){const c=e;t();const d=i();return(e,t)=>(n(),a(o(u),r(c,{type:"button"===e.as?"button":void 0,onClick:t[0]||(t[0]=e=>o(d).onOpenChange(!1))}),{default:l(()=>[s(e.$slots,"default")]),_:3},16,["type"]))}});const ze=e({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(e){const t=e,{primitiveElement:i,currentElement:l}=p(),s=c(()=>t.checked??t.value);return v(s,(e,t)=>{if(!l.value)return;const i=l.value,a=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(a,"value").set;if(n&&e!==t){const t=new Event("input",{bubbles:!0}),a=new Event("change",{bubbles:!0});n.call(i,e),i.dispatchEvent(t),i.dispatchEvent(a)}}),(e,l)=>(n(),a(f,r({ref_key:"primitiveElement",ref:i},{...t,...e.$attrs},{as:"input"}),null,16))}}),Ne=e({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(e){const t=e,i=c(()=>"object"==typeof t.value&&Array.isArray(t.value)&&0===t.value.length&&t.required),l=c(()=>"string"==typeof t.value||"number"==typeof t.value||"boolean"==typeof t.value?[{name:t.name,value:t.value}]:"object"==typeof t.value&&Array.isArray(t.value)?t.value.flatMap((e,i)=>"object"==typeof e?Object.entries(e).map(([e,a])=>({name:`[${t.name}][${i}][${e}]`,value:a})):{name:`[${t.name}][${i}]`,value:e}):null===t.value||"object"!=typeof t.value||Array.isArray(t.value)?[]:Object.entries(t.value).map(([e,i])=>({name:`[${t.name}][${e}]`,value:i})));return(e,s)=>i.value?(n(),a(ze,r({key:e.name},{...t,...e.$attrs},{name:e.name,value:e.value}),null,16,["name","value"])):(n(!0),g(y,{key:1},m(l.value,i=>(n(),a(ze,r({key:i.name,ref_for:!0},{...t,...e.$attrs},{name:i.name,value:i.value}),null,16,["name","value"]))),128))}});function Ve(e,t,i){return void 0!==e&&void 0!==t&&("string"==typeof e?e===t:"function"==typeof i?i(e,t):"string"==typeof i?(null==e?void 0:e[i])===(null==t?void 0:t[i]):b(e,t))}const[We,Ue]=A("ListboxRoot"),Ge=e({__name:"ListboxRoot",props:{modelValue:{},defaultValue:{},multiple:{type:Boolean},orientation:{default:"vertical"},dir:{},disabled:{type:Boolean},selectionBehavior:{default:"toggle"},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(e,{expose:t,emit:i}){const r=e,f=i,{multiple:g,highlightOnHover:m,orientation:y,disabled:A,selectionBehavior:D,dir:I}=x(r),{getItems:w}=C({isProvider:!0}),{handleTypeaheadSearch:$}=E(),{primitiveElement:q,currentElement:K}=p(),O={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"},T=k(I),R=(P=K,c(()=>{var e;return!d(P)||Boolean(null==(e=h(P))?void 0:e.closest("form"))}));var P;const j=B(),H=B(!1),z=B(!0),N=F(r,"modelValue",f,{defaultValue:r.defaultValue??(g.value?[]:void 0),passive:void 0===r.modelValue,deep:!0});const V=B(null),W=B(null),U=B(!1),G=B(!1),J=L(),Q=L(),X=L();function Y(){return w().map(e=>e.ref).filter(e=>""!==e.dataset.disabled)}function Z(e,t=!0){if(!e)return;V.value=e,z.value&&V.value.focus(),t&&V.value.scrollIntoView({block:"nearest"});const i=w().find(t=>t.ref===e);f("highlight",i)}function ee(){_(()=>{ie(new KeyboardEvent("keydown",{key:"PageUp"}))})}function te(e){const t=V.value;(null==t?void 0:t.isConnected)&&(W.value=t),V.value=null,f("leave",e)}function ie(e){const t=S(e,y.value,T.value);if(!t)return;let i=Y();if(V.value){if("last"===t)i.reverse();else if("prev"===t||"next"===t){"prev"===t&&i.reverse();const e=i.indexOf(V.value);i=i.slice(e+1)}!function(e,t){var i;if(U.value||"replace"!==r.selectionBehavior||!g.value||!Array.isArray(N.value))return;const a=e.altKey||e.ctrlKey||e.metaKey;if(a&&!e.shiftKey)return;if(e.shiftKey){const a=w().filter(e=>""!==e.ref.dataset.disabled);let n=null==(i=a.find(e=>e.ref===t))?void 0:i.value;if(e.key===O.END?n=a[a.length-1].value:e.key===O.HOME&&(n=a[0].value),!n||!j.value)return;const l=function(e,t,i){const a=e.findIndex(e=>b(e,t)),n=e.findIndex(e=>b(e,i));if(-1===a||-1===n)return[];const[l,s]=[a,n].sort((e,t)=>e-t);return e.slice(l,s+1)}(a.map(e=>e.value),j.value,n);N.value=l}}(e,i[0])}if(i.length){Z(i[V.value||"prev"!==t?0:i.length-1])}return U.value?Q.trigger(e):void 0}async function ae(e){if(await _(),U.value)J.trigger(e);else{const e=Y(),t=e.find(e=>"checked"===e.dataset.state);t?Z(t):e.length&&Z(e[0])}}return v(N,()=>{H.value||_(()=>{ae()})},{immediate:!0,deep:!0}),t({highlightedElement:V,highlightItem:function(e){if(U.value)X.trigger(e);else{const t=w().find(t=>Ve(t.value,e,r.by));t&&(V.value=t.ref,Z(t.ref))}},highlightFirstItem:ee,highlightSelected:ae,getItems:w}),Ue({modelValue:N,onValueChange:function(e){if(H.value=!0,r.multiple){const t=Array.isArray(N.value)?[...N.value]:[],i=t.findIndex(t=>Ve(t,e,r.by));"toggle"===r.selectionBehavior?(-1===i?t.push(e):t.splice(i,1),N.value=t):(N.value=[e],j.value=e)}else"toggle"===r.selectionBehavior&&Ve(N.value,e,r.by)?N.value=void 0:N.value=e;setTimeout(()=>{H.value=!1},1)},multiple:g,orientation:y,dir:T,disabled:A,highlightOnHover:m,highlightedElement:V,isVirtual:U,virtualFocusHook:J,virtualKeydownHook:Q,virtualHighlightHook:X,by:r.by,firstValue:j,selectionBehavior:D,focusable:z,onLeave:te,onEnter:function(e){var t,i;const a=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if(null==(t=e.currentTarget)||t.dispatchEvent(a),f("entryFocus",a),!a.defaultPrevented)if(W.value)Z(W.value);else{Z(null==(i=Y())?void 0:i[0])}},changeHighlight:Z,onKeydownEnter:function(e){V.value&&V.value.isConnected&&(e.preventDefault(),e.stopPropagation(),G.value||V.value.click())},onKeydownNavigation:ie,onKeydownTypeAhead:function(e){if(z.value){if(H.value=!0,U.value)Q.trigger(e);else{const t=e.altKey||e.ctrlKey||e.metaKey;if(t&&"a"===e.key&&g.value){const t=w(),i=t.map(e=>e.value);N.value=[...i],e.preventDefault(),Z(t[t.length-1].ref)}else if(!t){const t=$(e.key,w());t&&Z(t)}}setTimeout(()=>{H.value=!1},1)}},onCompositionStart:function(){G.value=!0},onCompositionEnd:function(){requestAnimationFrame(()=>{G.value=!1})},highlightFirstItem:ee}),(e,t)=>(n(),a(o(u),{ref_key:"primitiveElement",ref:q,as:e.as,"as-child":e.asChild,dir:o(T),"data-disabled":o(A)?"":void 0,onPointerleave:te,onFocusout:t[0]||(t[0]=async e=>{const t=e.relatedTarget||e.target;await _(),V.value&&o(K)&&!o(K).contains(t)&&te(e)})},{default:l(()=>[s(e.$slots,"default",{modelValue:o(N)}),o(R)&&e.name?(n(),a(o(Ne),{key:0,name:e.name,value:o(N),disabled:o(A),required:e.required},null,8,["name","value","disabled","required"])):M("",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),Je=e({__name:"ListboxContent",props:{asChild:{type:Boolean},as:{}},setup(e){const{CollectionSlot:t}=C(),i=We(),r=D(!1,10);return(e,c)=>(n(),a(o(t),null,{default:l(()=>[I(o(u),{role:"listbox",as:e.as,"as-child":e.asChild,tabindex:o(i).focusable.value?o(i).highlightedElement.value?"-1":"0":void 0,"aria-orientation":o(i).orientation.value,"aria-multiselectable":!!o(i).multiple.value,"data-orientation":o(i).orientation.value,onMousedown:c[0]||(c[0]=$(e=>r.value=!0,["left"])),onFocus:c[1]||(c[1]=e=>{o(r)||o(i).onEnter(e)}),onKeydown:[c[2]||(c[2]=w($(e=>{o(i).focusable.value&&o(i).onKeydownNavigation(e)},["prevent"]),["down","up","left","right","home","end"])),w(o(i).onKeydownEnter,["enter"]),o(i).onKeydownTypeAhead]},{default:l(()=>[s(e.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),[Qe,Xe]=A("ListboxGroup"),Ye=e({__name:"ListboxGroup",props:{asChild:{type:Boolean},as:{}},setup(e){const t=e,i=q(void 0,"reka-listbox-group");return Xe({id:i}),(e,c)=>(n(),a(o(u),r({role:"group"},t,{"aria-labelledby":o(i)}),{default:l(()=>[s(e.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),Ze=e({__name:"ListboxFilter",props:{modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"input"}},emits:["update:modelValue"],setup(e,{emit:t}){const i=e,r=F(i,"modelValue",t,{defaultValue:"",passive:void 0===i.modelValue}),d=We(),{primitiveElement:h,currentElement:v}=p(),f=c(()=>i.disabled||d.disabled.value||!1),g=B();return K(()=>{var e;return g.value=null==(e=d.highlightedElement.value)?void 0:e.id}),O(()=>{d.focusable.value=!1,setTimeout(()=>{var e;i.autoFocus&&(null==(e=v.value)||e.focus())},1)}),T(()=>{d.focusable.value=!0}),(e,t)=>(n(),a(o(u),{ref_key:"primitiveElement",ref:h,as:e.as,"as-child":e.asChild,value:o(r),disabled:f.value?"":void 0,"data-disabled":f.value?"":void 0,"aria-disabled":f.value??void 0,"aria-activedescendant":g.value,type:"text",onKeydown:[w($(o(d).onKeydownNavigation,["prevent"]),["down","up","home","end"]),w(o(d).onKeydownEnter,["enter"])],onInput:t[0]||(t[0]=e=>{r.value=e.target.value,o(d).highlightFirstItem()}),onCompositionstart:o(d).onCompositionStart,onCompositionend:o(d).onCompositionEnd},{default:l(()=>[s(e.$slots,"default",{modelValue:o(r)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),[et,tt]=A("ListboxItem"),it=e({__name:"ListboxItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"div"}},emits:["select"],setup(e,{emit:i}){const d=e,h=i,p=q(void 0,"reka-listbox-item"),{CollectionItem:v}=C(),{forwardRef:f,currentElement:g}=t(),m=We(),y=c(()=>g.value===m.highlightedElement.value),b=c(()=>{return e=m.modelValue.value,t=d.value,i=m.by,void 0!==e&&(Array.isArray(e)?e.some(e=>Ve(e,t,i)):Ve(e,t,i));var e,t,i}),A=c(()=>m.disabled.value||d.disabled);async function x(e){h("select",e),(null==e?void 0:e.defaultPrevented)||!A.value&&e&&(m.onValueChange(d.value),m.changeHighlight(g.value))}function E(e){const t={originalEvent:e,value:d.value};P("listbox.select",x,t)}return tt({isSelected:b}),(e,t)=>(n(),a(o(v),{value:e.value},{default:l(()=>[R([y.value,b.value],()=>I(o(u),r({id:o(p)},e.$attrs,{ref:o(f),role:"option",tabindex:o(m).focusable.value?y.value?"0":"-1":-1,"aria-selected":b.value,as:e.as,"as-child":e.asChild,disabled:A.value?"":void 0,"data-disabled":A.value?"":void 0,"data-highlighted":y.value?"":void 0,"data-state":b.value?"checked":"unchecked",onClick:E,onKeydown:w($(E,["prevent"]),["space"]),onPointermove:t[0]||(t[0]=e=>{o(m).highlightedElement.value!==o(g)&&(o(m).highlightOnHover.value?o(m).changeHighlight(o(g),!1):o(m).focusable.value||o(m).changeHighlight(o(g),!1))})}),{default:l(()=>[s(e.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),t,1)]),_:3},8,["value"]))}}),at=e({__name:"ListboxItemIndicator",props:{asChild:{type:Boolean},as:{default:"span"}},setup(e){const i=e;t();const c=et();return(e,t)=>o(c).isSelected.value?(n(),a(o(u),r({key:0,"aria-hidden":"true"},i),{default:l(()=>[s(e.$slots,"default")]),_:3},16)):M("",!0)}}),nt=e({__name:"ListboxGroupLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(e){const t=e,i=Qe({id:""});return(e,c)=>(n(),a(o(u),r(t,{id:o(i).id}),{default:l(()=>[s(e.$slots,"default")]),_:3},16,["id"]))}});function lt(e){return Array.isArray?Array.isArray(e):"[object Array]"===ht(e)}function st(e){return"string"==typeof e}function rt(e){return"number"==typeof e}function ot(e){return!0===e||!1===e||function(e){return ut(e)&&null!==e}(e)&&"[object Boolean]"==ht(e)}function ut(e){return"object"==typeof e}function ct(e){return null!=e}function dt(e){return!e.trim().length}function ht(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const pt=Object.prototype.hasOwnProperty;class vt{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(e=>{let i=ft(e);this._keys.push(i),this._keyMap[i.id]=i,t+=i.weight}),this._keys.forEach(e=>{e.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function ft(e){let t=null,i=null,a=null,n=1,l=null;if(st(e)||lt(e))a=e,t=gt(e),i=mt(e);else{if(!pt.call(e,"name"))throw new Error((e=>`Missing ${e} property in key`)("name"));const s=e.name;if(a=s,pt.call(e,"weight")&&(n=e.weight,n<=0))throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(s));t=gt(s),i=mt(s),l=e.getFn}return{path:t,id:i,weight:n,src:a,getFn:l}}function gt(e){return lt(e)?e:e.split(".")}function mt(e){return lt(e)?e.join("."):e}var yt={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,t){let i=[],a=!1;const n=(e,t,l)=>{if(ct(e))if(t[l]){const s=e[t[l]];if(!ct(s))return;if(l===t.length-1&&(st(s)||rt(s)||ot(s)))i.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(s));else if(lt(s)){a=!0;for(let e=0,i=s.length;e<i;e+=1)n(s[e],t,l+1)}else t.length&&n(s,t,l+1)}else i.push(e)};return n(e,st(t)?t.split("."):t,0),a?i:i[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const bt=/[^ ]+/g;class At{constructor({getFn:e=yt.getFn,fieldNormWeight:t=yt.fieldNormWeight}={}){this.norm=function(e=1,t=3){const i=new Map,a=Math.pow(10,t);return{get(t){const n=t.match(bt).length;if(i.has(n))return i.get(n);const l=1/Math.pow(n,.5*e),s=parseFloat(Math.round(l*a)/a);return i.set(n,s),s},clear(){i.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((e,t)=>{this._keysMap[e.id]=t})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,st(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();st(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,i=this.size();t<i;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!ct(e)||dt(e))return;let i={v:e,i:t,n:this.norm.get(e)};this.records.push(i)}_addObject(e,t){let i={i:t,$:{}};this.keys.forEach((t,a)=>{let n=t.getFn?t.getFn(e):this.getFn(e,t.path);if(ct(n))if(lt(n)){let e=[];const t=[{nestedArrIndex:-1,value:n}];for(;t.length;){const{nestedArrIndex:i,value:a}=t.pop();if(ct(a))if(st(a)&&!dt(a)){let t={v:a,i:i,n:this.norm.get(a)};e.push(t)}else lt(a)&&a.forEach((e,i)=>{t.push({nestedArrIndex:i,value:e})})}i.$[a]=e}else if(st(n)&&!dt(n)){let e={v:n,n:this.norm.get(n)};i.$[a]=e}}),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}}function xt(e,t,{getFn:i=yt.getFn,fieldNormWeight:a=yt.fieldNormWeight}={}){const n=new At({getFn:i,fieldNormWeight:a});return n.setKeys(e.map(ft)),n.setSources(t),n.create(),n}function Ct(e,{errors:t=0,currentLocation:i=0,expectedLocation:a=0,distance:n=yt.distance,ignoreLocation:l=yt.ignoreLocation}={}){const s=t/e.length;if(l)return s;const r=Math.abs(a-i);return n?s+r/n:r?1:s}const Et=32;function kt(e,t,i,{location:a=yt.location,distance:n=yt.distance,threshold:l=yt.threshold,findAllMatches:s=yt.findAllMatches,minMatchCharLength:r=yt.minMatchCharLength,includeMatches:o=yt.includeMatches,ignoreLocation:u=yt.ignoreLocation}={}){if(t.length>Et)throw new Error(`Pattern length exceeds max of ${Et}.`);const c=t.length,d=e.length,h=Math.max(0,Math.min(a,d));let p=l,v=h;const f=r>1||o,g=f?Array(d):[];let m;for(;(m=e.indexOf(t,v))>-1;){let e=Ct(t,{currentLocation:m,expectedLocation:h,distance:n,ignoreLocation:u});if(p=Math.min(e,p),v=m+c,f){let e=0;for(;e<c;)g[m+e]=1,e+=1}}v=-1;let y=[],b=1,A=c+d;const x=1<<c-1;for(let E=0;E<c;E+=1){let a=0,l=A;for(;a<l;){Ct(t,{errors:E,currentLocation:h+l,expectedLocation:h,distance:n,ignoreLocation:u})<=p?a=l:A=l,l=Math.floor((A-a)/2+a)}A=l;let r=Math.max(1,h-l+1),o=s?d:Math.min(h+l,d)+c,m=Array(o+2);m[o+1]=(1<<E)-1;for(let s=o;s>=r;s-=1){let a=s-1,l=i[e.charAt(a)];if(f&&(g[a]=+!!l),m[s]=(m[s+1]<<1|1)&l,E&&(m[s]|=(y[s+1]|y[s])<<1|1|y[s+1]),m[s]&x&&(b=Ct(t,{errors:E,currentLocation:a,expectedLocation:h,distance:n,ignoreLocation:u}),b<=p)){if(p=b,v=a,v<=h)break;r=Math.max(1,2*h-v)}}if(Ct(t,{errors:E+1,currentLocation:h,expectedLocation:h,distance:n,ignoreLocation:u})>p)break;y=m}const C={isMatch:v>=0,score:Math.max(.001,b)};if(f){const e=function(e=[],t=yt.minMatchCharLength){let i=[],a=-1,n=-1,l=0;for(let s=e.length;l<s;l+=1){let s=e[l];s&&-1===a?a=l:s||-1===a||(n=l-1,n-a+1>=t&&i.push([a,n]),a=-1)}return e[l-1]&&l-a>=t&&i.push([a,l-1]),i}(g,r);e.length?o&&(C.indices=e):C.isMatch=!1}return C}function Bt(e){let t={};for(let i=0,a=e.length;i<a;i+=1){const n=e.charAt(i);t[n]=(t[n]||0)|1<<a-i-1}return t}const Ft=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class _t{constructor(e,{location:t=yt.location,threshold:i=yt.threshold,distance:a=yt.distance,includeMatches:n=yt.includeMatches,findAllMatches:l=yt.findAllMatches,minMatchCharLength:s=yt.minMatchCharLength,isCaseSensitive:r=yt.isCaseSensitive,ignoreDiacritics:o=yt.ignoreDiacritics,ignoreLocation:u=yt.ignoreLocation}={}){if(this.options={location:t,threshold:i,distance:a,includeMatches:n,findAllMatches:l,minMatchCharLength:s,isCaseSensitive:r,ignoreDiacritics:o,ignoreLocation:u},e=r?e:e.toLowerCase(),e=o?Ft(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const c=(e,t)=>{this.chunks.push({pattern:e,alphabet:Bt(e),startIndex:t})},d=this.pattern.length;if(d>Et){let e=0;const t=d%Et,i=d-t;for(;e<i;)c(this.pattern.substr(e,Et),e),e+=Et;if(t){const e=d-Et;c(this.pattern.substr(e),e)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:i,includeMatches:a}=this.options;if(e=t?e:e.toLowerCase(),e=i?Ft(e):e,this.pattern===e){let t={isMatch:!0,score:0};return a&&(t.indices=[[0,e.length-1]]),t}const{location:n,distance:l,threshold:s,findAllMatches:r,minMatchCharLength:o,ignoreLocation:u}=this.options;let c=[],d=0,h=!1;this.chunks.forEach(({pattern:t,alphabet:i,startIndex:p})=>{const{isMatch:v,score:f,indices:g}=kt(e,t,i,{location:n+p,distance:l,threshold:s,findAllMatches:r,minMatchCharLength:o,includeMatches:a,ignoreLocation:u});v&&(h=!0),d+=f,v&&g&&(c=[...c,...g])});let p={isMatch:h,score:h?d/this.chunks.length:1};return h&&a&&(p.indices=c),p}}class Lt{constructor(e){this.pattern=e}static isMultiMatch(e){return Mt(e,this.multiRegex)}static isSingleMatch(e){return Mt(e,this.singleRegex)}search(){}}function Mt(e,t){const i=e.match(t);return i?i[1]:null}class St extends Lt{constructor(e,{location:t=yt.location,threshold:i=yt.threshold,distance:a=yt.distance,includeMatches:n=yt.includeMatches,findAllMatches:l=yt.findAllMatches,minMatchCharLength:s=yt.minMatchCharLength,isCaseSensitive:r=yt.isCaseSensitive,ignoreDiacritics:o=yt.ignoreDiacritics,ignoreLocation:u=yt.ignoreLocation}={}){super(e),this._bitapSearch=new _t(e,{location:t,threshold:i,distance:a,includeMatches:n,findAllMatches:l,minMatchCharLength:s,isCaseSensitive:r,ignoreDiacritics:o,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Dt extends Lt{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,i=0;const a=[],n=this.pattern.length;for(;(t=e.indexOf(this.pattern,i))>-1;)i=t+n,a.push([t,i-1]);const l=!!a.length;return{isMatch:l,score:l?0:1,indices:a}}}const It=[class extends Lt{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},Dt,class extends Lt{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends Lt{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends Lt{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends Lt{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends Lt{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},St],wt=It.length,$t=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const qt=new Set([St.type,Dt.type]);class Kt{constructor(e,{isCaseSensitive:t=yt.isCaseSensitive,ignoreDiacritics:i=yt.ignoreDiacritics,includeMatches:a=yt.includeMatches,minMatchCharLength:n=yt.minMatchCharLength,ignoreLocation:l=yt.ignoreLocation,findAllMatches:s=yt.findAllMatches,location:r=yt.location,threshold:o=yt.threshold,distance:u=yt.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:i,includeMatches:a,minMatchCharLength:n,findAllMatches:s,ignoreLocation:l,location:r,threshold:o,distance:u},e=t?e:e.toLowerCase(),e=i?Ft(e):e,this.pattern=e,this.query=function(e,t={}){return e.split("|").map(e=>{let i=e.trim().split($t).filter(e=>e&&!!e.trim()),a=[];for(let n=0,l=i.length;n<l;n+=1){const e=i[n];let l=!1,s=-1;for(;!l&&++s<wt;){const i=It[s];let n=i.isMultiMatch(e);n&&(a.push(new i(n,t)),l=!0)}if(!l)for(s=-1;++s<wt;){const i=It[s];let n=i.isSingleMatch(e);if(n){a.push(new i(n,t));break}}}return a})}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:i,isCaseSensitive:a,ignoreDiacritics:n}=this.options;e=a?e:e.toLowerCase(),e=n?Ft(e):e;let l=0,s=[],r=0;for(let o=0,u=t.length;o<u;o+=1){const a=t[o];s.length=0,l=0;for(let t=0,n=a.length;t<n;t+=1){const n=a[t],{isMatch:o,indices:u,score:c}=n.search(e);if(!o){r=0,l=0,s.length=0;break}if(l+=1,r+=c,i){const e=n.constructor.type;qt.has(e)?s=[...s,...u]:s.push(u)}}if(l){let e={isMatch:!0,score:r/l};return i&&(e.indices=s),e}}return{isMatch:!1,score:1}}}const Ot=[];function Tt(e,t){for(let i=0,a=Ot.length;i<a;i+=1){let a=Ot[i];if(a.condition(e,t))return new a(e,t)}return new _t(e,t)}const Rt="$and",Pt="$or",jt="$path",Ht="$val",zt=e=>!(!e[Rt]&&!e[Pt]),Nt=e=>({[Rt]:Object.keys(e).map(t=>({[t]:e[t]}))});function Vt(e,t,{auto:i=!0}={}){const a=e=>{let n=Object.keys(e);const l=(e=>!!e[jt])(e);if(!l&&n.length>1&&!zt(e))return a(Nt(e));if((e=>!lt(e)&&ut(e)&&!zt(e))(e)){const a=l?e[jt]:n[0],s=l?e[Ht]:e[a];if(!st(s))throw new Error((e=>`Invalid value for key ${e}`)(a));const r={keyId:mt(a),pattern:s};return i&&(r.searcher=Tt(s,t)),r}let s={children:[],operator:n[0]};return n.forEach(t=>{const i=e[t];lt(i)&&i.forEach(e=>{s.children.push(a(e))})}),s};return zt(e)||(e=Nt(e)),a(e)}function Wt(e,t){const i=e.matches;t.matches=[],ct(i)&&i.forEach(e=>{if(!ct(e.indices)||!e.indices.length)return;const{indices:i,value:a}=e;let n={indices:i,value:a};e.key&&(n.key=e.key.src),e.idx>-1&&(n.refIndex=e.idx),t.matches.push(n)})}function Ut(e,t){t.score=e.score}class Gt{constructor(e,t={},i){this.options={...yt,...t},this.options.useExtendedSearch,this._keyStore=new vt(this.options.keys),this.setCollection(e,i)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof At))throw new Error("Incorrect 'index' type");this._myIndex=t||xt(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){ct(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let i=0,a=this._docs.length;i<a;i+=1){const n=this._docs[i];e(n,i)&&(this.removeAt(i),i-=1,a-=1,t.push(n))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:i,includeScore:a,shouldSort:n,sortFn:l,ignoreFieldNorm:s}=this.options;let r=st(e)?st(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=yt.ignoreFieldNorm}){e.forEach(e=>{let i=1;e.matches.forEach(({key:e,norm:a,score:n})=>{const l=e?e.weight:null;i*=Math.pow(0===n&&l?Number.EPSILON:n,(l||1)*(t?1:a))}),e.score=i})}(r,{ignoreFieldNorm:s}),n&&r.sort(l),rt(t)&&t>-1&&(r=r.slice(0,t)),function(e,t,{includeMatches:i=yt.includeMatches,includeScore:a=yt.includeScore}={}){const n=[];return i&&n.push(Wt),a&&n.push(Ut),e.map(e=>{const{idx:i}=e,a={item:t[i],refIndex:i};return n.length&&n.forEach(t=>{t(e,a)}),a})}(r,this._docs,{includeMatches:i,includeScore:a})}_searchStringList(e){const t=Tt(e,this.options),{records:i}=this._myIndex,a=[];return i.forEach(({v:e,i:i,n:n})=>{if(!ct(e))return;const{isMatch:l,score:s,indices:r}=t.searchIn(e);l&&a.push({item:e,idx:i,matches:[{score:s,value:e,norm:n,indices:r}]})}),a}_searchLogical(e){const t=Vt(e,this.options),i=(e,t,a)=>{if(!e.children){const{keyId:i,searcher:n}=e,l=this._findMatches({key:this._keyStore.get(i),value:this._myIndex.getValueForItemAtKeyId(t,i),searcher:n});return l&&l.length?[{idx:a,item:t,matches:l}]:[]}const n=[];for(let l=0,s=e.children.length;l<s;l+=1){const s=e.children[l],r=i(s,t,a);if(r.length)n.push(...r);else if(e.operator===Rt)return[]}return n},a=this._myIndex.records,n={},l=[];return a.forEach(({$:e,i:a})=>{if(ct(e)){let s=i(t,e,a);s.length&&(n[a]||(n[a]={idx:a,item:e,matches:[]},l.push(n[a])),s.forEach(({matches:e})=>{n[a].matches.push(...e)}))}}),l}_searchObjectList(e){const t=Tt(e,this.options),{keys:i,records:a}=this._myIndex,n=[];return a.forEach(({$:e,i:a})=>{if(!ct(e))return;let l=[];i.forEach((i,a)=>{l.push(...this._findMatches({key:i,value:e[a],searcher:t}))}),l.length&&n.push({idx:a,item:e,matches:l})}),n}_findMatches({key:e,value:t,searcher:i}){if(!ct(t))return[];let a=[];if(lt(t))t.forEach(({v:t,i:n,n:l})=>{if(!ct(t))return;const{isMatch:s,score:r,indices:o}=i.searchIn(t);s&&a.push({score:r,key:e,value:t,idx:n,norm:l,indices:o})});else{const{v:n,n:l}=t,{isMatch:s,score:r,indices:o}=i.searchIn(n);s&&a.push({score:r,key:e,value:n,norm:l,indices:o})}return a}}function Jt(e,t,i,a){var n;function l(e,i=[]){e=e||"";let a="",n=0;i.forEach(i=>{if(2===i.length&&i[0]===i[1])return;const l=i[1]+1,s=l-i[0]>=t.length;a+=[e.substring(n,i[0]),s&&"<mark>",e.substring(i[0],l),s&&"</mark>"].filter(Boolean).join(""),n=l}),a+=e.substring(n);const l=a.indexOf("<mark>");return-1!==l&&(a=function(e,t){let i="",a=0,n=!1;for(let l=e.length-1;l>=0;l--){if(">"===e[l])n=!0;else if("<"===e[l]){n=!1,i=e[l]+i;continue}if(n||a++,!(a<=t)){i="..."+i;break}i=e[l]+i}return i}(a,a.length-l)),a}if(null==(n=e.matches)?void 0:n.length)for(const s of e.matches)if(!(i&&s.key!==i||(null==a?void 0:a.includes(s.key))))return l(s.value,s.indices)}Gt.version="7.1.0",Gt.createIndex=xt,Gt.parseIndex=function(e,{getFn:t=yt.getFn,fieldNormWeight:i=yt.fieldNormWeight}={}){const{keys:a,records:n}=e,l=new At({getFn:t,fieldNormWeight:i});return l.setKeys(a),l.setIndexRecords(n),l},Gt.config=yt,Gt.parseQuery=Vt,function(...e){Ot.push(...e)}(Kt);const Qt=Object.assign({inheritAttrs:!1},{__name:"UChip",props:H({as:{type:null,required:!1},text:{type:[String,Number],required:!1},color:{type:null,required:!1},size:{type:null,required:!1},position:{type:null,required:!1},inset:{type:Boolean,required:!1,default:!1},standalone:{type:Boolean,required:!1,default:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},{show:{type:Boolean,default:!0},showModifiers:{}}),emits:["update:show"],setup(e){const t=e,i=z(e,"show",{type:Boolean,default:!0}),{size:r}=N(t),d=V(),h=c(()=>{var e;return W({extend:W(U),...(null==(e=d.ui)?void 0:e.chip)||{}})({color:t.color,size:r.value,position:t.position,inset:t.inset,standalone:t.standalone})});return(r,c)=>{var d;return n(),a(o(u),{as:e.as,class:X(h.value.root({class:[null==(d=t.ui)?void 0:d.root,t.class]}))},{default:l(()=>{var a;return[I(o(G),J(Q(r.$attrs)),{default:l(()=>[s(r.$slots,"default")]),_:3},16),i.value?(n(),g("span",{key:0,class:X(h.value.base({class:null==(a=t.ui)?void 0:a.base}))},[s(r.$slots,"content",{},()=>[Y(Z(e.text),1)])],2)):M("",!0)]}),_:3},8,["as","class"])}}}),Xt={slots:{root:"flex flex-col min-h-0 min-w-0 divide-y divide-default",input:"[&>input]:h-12",close:"",content:"relative overflow-hidden flex flex-col",viewport:"relative divide-y divide-default scroll-py-1 overflow-y-auto flex-1 focus:outline-none",group:"p-1 isolate",empty:"py-6 text-center text-sm text-muted",label:"p-1.5 text-xs font-semibold text-highlighted",item:"group relative w-full flex items-center gap-1.5 p-1.5 text-sm select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0 size-5",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"2xs",itemLeadingChip:"shrink-0 size-5",itemLeadingChipSize:"md",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0 size-5",itemTrailingHighlightedIcon:"shrink-0 size-5 text-dimmed hidden group-data-highlighted:inline-flex",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0 gap-0.5",itemTrailingKbdsSize:"md",itemLabel:"truncate space-x-1 rtl:space-x-reverse text-dimmed",itemLabelBase:"text-highlighted [&>mark]:text-inverted [&>mark]:bg-primary",itemLabelPrefix:"text-default",itemLabelSuffix:"text-dimmed [&>mark]:text-inverted [&>mark]:bg-primary"},variants:{active:{true:{item:"text-highlighted before:bg-elevated",itemLeadingIcon:"text-default"},false:{item:["text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}}}},Yt=["innerHTML"],Zt=["innerHTML"],ei={__name:"UCommandPalette",props:H({as:{type:null,required:!1},icon:{type:String,required:!1},selectedIcon:{type:String,required:!1},placeholder:{type:String,required:!1},autofocus:{type:Boolean,required:!1,default:!0},close:{type:[Boolean,Object],required:!1},closeIcon:{type:String,required:!1},groups:{type:Array,required:!1},fuse:{type:Object,required:!1},labelKey:{type:String,required:!1,default:"label"},class:{type:null,required:!1},ui:{type:null,required:!1},multiple:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},modelValue:{type:null,required:!1,default:""},defaultValue:{type:null,required:!1},highlightOnHover:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:H(["update:modelValue","highlight","entryFocus","leave","update:open"],["update:searchTerm"]),setup(e,{emit:t}){const i=e,u=t,d=ee(),h=z(e,"searchTerm",{type:String,default:""}),{t:p}=te(),f=V(),b=ie(ae(i,"as","disabled","multiple","modelValue","defaultValue","highlightOnHover"),u),A=ne(ae(i,"loading","loadingIcon")),x=c(()=>{var e;return W({extend:W(Xt),...(null==(e=f.ui)?void 0:e.commandPalette)||{}})()}),C=c(()=>le({},i.fuse,{fuseOptions:{ignoreLocation:!0,threshold:.1,keys:[i.labelKey,"suffix"]},resultLimit:12,matchAllWhenSearchEmpty:!0})),E=c(()=>{var e;return(null==(e=i.groups)?void 0:e.filter(e=>e.id?!e.ignoreFilter:(console.warn("[@nuxt/ui] CommandPalette group is missing an `id` property"),!1)).flatMap(e=>{var t;return(null==(t=e.items)?void 0:t.map(t=>({...t,group:e.id})))||[]}))||[]}),{results:k}=function(e,t,i){const a=()=>{var e,a;return new Gt(null!=(e=j(t))?e:[],null==(a=j(i))?void 0:a.fuseOptions)},n=B(a());v(()=>{var e;return null==(e=j(i))?void 0:e.fuseOptions},()=>{n.value=a()},{deep:!0}),v(()=>j(t),e=>{n.value.setCollection(e)},{deep:!0});const l=c(()=>{const a=j(i);if((null==a?void 0:a.matchAllWhenSearchEmpty)&&!j(e))return j(t).map((e,t)=>({item:e,refIndex:t}));const l=null==a?void 0:a.resultLimit;return n.value.search(j(e),l?{limit:l}:void 0)});return{fuse:n,results:l}}(h,E,C);function F(e,t){return(null==e?void 0:e.postFilter)&&"function"==typeof e.postFilter&&(t=e.postFilter(h.value,t)),{...e,items:t.slice(0,C.value.resultLimit).map(e=>({...e,labelHtml:Jt(e,h.value,i.labelKey),suffixHtml:Jt(e,h.value,void 0,[i.labelKey])}))}}const _=c(()=>{var e,t,a;const n=k.value.reduce((e,t)=>{var i,a;const{item:n,matches:l}=t;return n.group?(e[i=n.group]||(e[i]=[]),null==(a=e[n.group])||a.push({...n,matches:l}),e):e},{}),l=Object.entries(n).map(([e,t])=>{var a;const n=null==(a=i.groups)?void 0:a.find(t=>t.id===e);if(n)return F(n,t)}).filter(e=>!!e);return((null==(a=null==(t=null==(e=i.groups)?void 0:e.map((e,t)=>({...e,index:t})))?void 0:t.filter(e=>{var t;return e.ignoreFilter&&(null==(t=e.items)?void 0:t.length)}))?void 0:a.map(e=>({...F(e,e.items||[]),index:e.index})))||[]).reduce((e,t)=>(e.splice(t.index,0,t),e),[...l])});return(t,c)=>{var v;return n(),a(o(Ge),r(o(b),{class:x.value.root({class:[null==(v=i.ui)?void 0:v.root,i.class]})}),{default:l(()=>{var v;return[I(o(Ze),{modelValue:h.value,"onUpdate:modelValue":c[1]||(c[1]=e=>h.value=e),"as-child":""},{default:l(()=>{var h;return[I(se,r({placeholder:e.placeholder||o(p)("commandPalette.placeholder"),variant:"none",autofocus:e.autofocus},o(A),{icon:e.icon||o(f).ui.icons.search,class:x.value.input({class:null==(h=i.ui)?void 0:h.input})}),re({_:2},[e.close||d.close?{name:"trailing",fn:l(()=>[s(t.$slots,"close",{ui:x.value},()=>{var t;return[e.close?(n(),a(oe,r({key:0,icon:e.closeIcon||o(f).ui.icons.close,size:"md",color:"neutral",variant:"ghost","aria-label":o(p)("commandPalette.close")},"object"==typeof e.close?e.close:{},{class:x.value.close({class:null==(t=i.ui)?void 0:t.close}),onClick:c[0]||(c[0]=e=>u("update:open",!1))}),null,16,["icon","aria-label","class"])):M("",!0)]})]),key:"0"}:void 0]),1040,["placeholder","autofocus","icon","class"])]}),_:3},8,["modelValue"]),I(o(Je),{class:X(x.value.content({class:null==(v=i.ui)?void 0:v.content}))},{default:l(()=>{var u,c,v;return[(null==(u=_.value)?void 0:u.length)?(n(),g("div",{key:0,role:"presentation",class:X(x.value.viewport({class:null==(c=i.ui)?void 0:c.viewport}))},[(n(!0),g(y,null,m(_.value,u=>{var c;return n(),a(o(Ye),{key:`group-${u.id}`,class:X(x.value.group({class:null==(c=i.ui)?void 0:c.group}))},{default:l(()=>{var c;return[o(ue)(u,i.labelKey)?(n(),a(o(nt),{key:0,class:X(x.value.label({class:null==(c=i.ui)?void 0:c.label}))},{default:l(()=>[Y(Z(o(ue)(u,i.labelKey)),1)]),_:2},1032,["class"])):M("",!0),(n(!0),g(y,null,m(u.items,(c,h)=>(n(),a(o(it),{key:`group-${u.id}-${h}`,value:o(ce)(c,["matches","group","onSelect","labelHtml","suffixHtml"]),disabled:c.disabled,"as-child":"",onSelect:c.onSelect},{default:l(()=>[I(de,r({ref_for:!0},o(he)(c),{custom:""}),{default:l(({active:p,...v})=>{var b,A;return[I(pe,r({ref_for:!0},v,{class:x.value.item({class:[null==(b=i.ui)?void 0:b.item,null==(A=c.ui)?void 0:A.item,c.class],active:p||c.active})}),{default:l(()=>[s(t.$slots,c.slot||u.slot||"item",{item:c,index:h},()=>{var v,b,A,C;return[s(t.$slots,c.slot?`${c.slot}-leading`:u.slot?`${u.slot}-leading`:"item-leading",{item:c,index:h},()=>{var t,l,s,u,d,h,v,g,m,y,b,A;return[c.loading?(n(),a(fe,{key:0,name:e.loadingIcon||o(f).ui.icons.loading,class:X(x.value.itemLeadingIcon({class:[null==(t=i.ui)?void 0:t.itemLeadingIcon,null==(l=c.ui)?void 0:l.itemLeadingIcon],loading:!0}))},null,8,["name","class"])):c.icon?(n(),a(fe,{key:1,name:c.icon,class:X(x.value.itemLeadingIcon({class:[null==(s=i.ui)?void 0:s.itemLeadingIcon,null==(u=c.ui)?void 0:u.itemLeadingIcon],active:p||c.active}))},null,8,["name","class"])):c.avatar?(n(),a(ge,r({key:2,size:(null==(d=c.ui)?void 0:d.itemLeadingAvatarSize)||(null==(h=i.ui)?void 0:h.itemLeadingAvatarSize)||x.value.itemLeadingAvatarSize()},{ref_for:!0},c.avatar,{class:x.value.itemLeadingAvatar({class:[null==(v=i.ui)?void 0:v.itemLeadingAvatar,null==(g=c.ui)?void 0:g.itemLeadingAvatar],active:p||c.active})}),null,16,["size","class"])):c.chip?(n(),a(Qt,r({key:3,size:(null==(m=c.ui)?void 0:m.itemLeadingChipSize)||(null==(y=i.ui)?void 0:y.itemLeadingChipSize)||x.value.itemLeadingChipSize(),inset:"",standalone:""},{ref_for:!0},c.chip,{class:x.value.itemLeadingChip({class:[null==(b=i.ui)?void 0:b.itemLeadingChip,null==(A=c.ui)?void 0:A.itemLeadingChip],active:p||c.active})}),null,16,["size","class"])):M("",!0)]}),c.labelHtml||o(ue)(c,i.labelKey)||d[c.slot?`${c.slot}-label`:u.slot?`${u.slot}-label`:"item-label"]?(n(),g("span",{key:0,class:X(x.value.itemLabel({class:[null==(v=i.ui)?void 0:v.itemLabel,null==(b=c.ui)?void 0:b.itemLabel],active:p||c.active}))},[s(t.$slots,c.slot?`${c.slot}-label`:u.slot?`${u.slot}-label`:"item-label",{item:c,index:h},()=>{var e,t,a,l,s,r;return[c.prefix?(n(),g("span",{key:0,class:X(x.value.itemLabelPrefix({class:[null==(e=i.ui)?void 0:e.itemLabelPrefix,null==(t=c.ui)?void 0:t.itemLabelPrefix]}))},Z(c.prefix),3)):M("",!0),ve("span",{class:X(x.value.itemLabelBase({class:[null==(a=i.ui)?void 0:a.itemLabelBase,null==(l=c.ui)?void 0:l.itemLabelBase],active:p||c.active})),innerHTML:c.labelHtml||o(ue)(c,i.labelKey)},null,10,Yt),ve("span",{class:X(x.value.itemLabelSuffix({class:[null==(s=i.ui)?void 0:s.itemLabelSuffix,null==(r=c.ui)?void 0:r.itemLabelSuffix],active:p||c.active})),innerHTML:c.suffixHtml||c.suffix},null,10,Zt)]})],2)):M("",!0),ve("span",{class:X(x.value.itemTrailing({class:[null==(A=i.ui)?void 0:A.itemTrailing,null==(C=c.ui)?void 0:C.itemTrailing]}))},[s(t.$slots,c.slot?`${c.slot}-trailing`:u.slot?`${u.slot}-trailing`:"item-trailing",{item:c,index:h},()=>{var e,t,l,s,o;return[(null==(e=c.kbds)?void 0:e.length)?(n(),g("span",{key:0,class:X(x.value.itemTrailingKbds({class:[null==(t=i.ui)?void 0:t.itemTrailingKbds,null==(l=c.ui)?void 0:l.itemTrailingKbds]}))},[(n(!0),g(y,null,m(c.kbds,(e,t)=>{var l,s;return n(),a(me,r({key:t,size:(null==(l=c.ui)?void 0:l.itemTrailingKbdsSize)||(null==(s=i.ui)?void 0:s.itemTrailingKbdsSize)||x.value.itemTrailingKbdsSize()},{ref_for:!0},"string"==typeof e?{value:e}:e),null,16,["size"])}),128))],2)):u.highlightedIcon?(n(),a(fe,{key:1,name:u.highlightedIcon,class:X(x.value.itemTrailingHighlightedIcon({class:[null==(s=i.ui)?void 0:s.itemTrailingHighlightedIcon,null==(o=c.ui)?void 0:o.itemTrailingHighlightedIcon]}))},null,8,["name","class"])):M("",!0)]}),I(o(at),{"as-child":""},{default:l(()=>{var t,a;return[I(fe,{name:e.selectedIcon||o(f).ui.icons.check,class:X(x.value.itemTrailingIcon({class:[null==(t=i.ui)?void 0:t.itemTrailingIcon,null==(a=c.ui)?void 0:a.itemTrailingIcon]}))},null,8,["name","class"])]}),_:2},1024)],2)]})]),_:2},1040,["class"])]}),_:2},1040)]),_:2},1032,["value","disabled","onSelect"]))),128))]}),_:2},1032,["class"])}),128))],2)):(n(),g("div",{key:1,class:X(x.value.empty({class:null==(v=i.ui)?void 0:v.empty}))},[s(t.$slots,"empty",{searchTerm:h.value},()=>[Y(Z(h.value?o(p)("commandPalette.noMatch",{searchTerm:h.value}):o(p)("commandPalette.noData")),1)])],2))]}),_:3},8,["class"])]}),_:3},16,["class"])}}},ti={__name:"UModal",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},transition:{type:Boolean,required:!1,default:!0},fullscreen:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:String,required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","after:enter","close:prevent","update:open"],setup(e,{emit:t}){const i=e,u=t,d=ee(),{t:h}=te(),p=V(),v=ie(ae(i,"open","defaultOpen","modal"),u),m=ye(be(()=>i.portal)),y=be(()=>i.content),b=c(()=>{if(!i.dismissible){return["pointerDownOutside","interactOutside","escapeKeyDown","closeAutoFocus"].reduce((e,t)=>(e[t]=e=>{e.preventDefault(),u("close:prevent")},e),{})}return{closeAutoFocus:e=>e.preventDefault()}}),A=c(()=>{var e;return W({extend:W(Ae),...(null==(e=p.ui)?void 0:e.modal)||{}})({transition:i.transition,fullscreen:i.fullscreen})});return(t,c)=>(n(),a(o(Le),J(Q(o(v))),{default:l(({open:v})=>[d.default?(n(),a(o(xe),{key:0,"as-child":"",class:X(i.class)},{default:l(()=>[s(t.$slots,"default",{open:v})]),_:2},1032,["class"])):M("",!0),I(o(Ce),J(Q(o(m))),{default:l(()=>{var v,m;return[e.overlay?(n(),a(o(Ee),{key:0,class:X(A.value.overlay({class:null==(v=i.ui)?void 0:v.overlay}))},null,8,["class"])):M("",!0),I(o(ke),r({class:A.value.content({class:[!d.default&&i.class,null==(m=i.ui)?void 0:m.content]})},y.value,{onAfterEnter:c[0]||(c[0]=e=>u("after:enter")),onAfterLeave:c[1]||(c[1]=e=>u("after:leave"))},Be(b.value)),{default:l(()=>[d.content&&(e.title||d.title||e.description||d.description)?(n(),a(o(f),{key:0},{default:l(()=>[e.title||d.title?(n(),a(o(Fe),{key:0},{default:l(()=>[s(t.$slots,"title",{},()=>[Y(Z(e.title),1)])]),_:3})):M("",!0),e.description||d.description?(n(),a(o(_e),{key:1},{default:l(()=>[s(t.$slots,"description",{},()=>[Y(Z(e.description),1)])]),_:3})):M("",!0)]),_:3})):M("",!0),s(t.$slots,"content",{},()=>{var u,c,v;return[d.header||e.title||d.title||e.description||d.description||e.close||d.close?(n(),g("div",{key:0,class:X(A.value.header({class:null==(u=i.ui)?void 0:u.header}))},[s(t.$slots,"header",{},()=>{var u,c,v;return[ve("div",{class:X(A.value.wrapper({class:null==(u=i.ui)?void 0:u.wrapper}))},[e.title||d.title?(n(),a(o(Fe),{key:0,class:X(A.value.title({class:null==(c=i.ui)?void 0:c.title}))},{default:l(()=>[s(t.$slots,"title",{},()=>[Y(Z(e.title),1)])]),_:3},8,["class"])):M("",!0),e.description||d.description?(n(),a(o(_e),{key:1,class:X(A.value.description({class:null==(v=i.ui)?void 0:v.description}))},{default:l(()=>[s(t.$slots,"description",{},()=>[Y(Z(e.description),1)])]),_:3},8,["class"])):M("",!0)],2),e.close||d.close?(n(),a(o(He),{key:0,"as-child":""},{default:l(()=>[s(t.$slots,"close",{ui:A.value},()=>{var t;return[e.close?(n(),a(oe,r({key:0,icon:e.closeIcon||o(p).ui.icons.close,size:"md",color:"neutral",variant:"ghost","aria-label":o(h)("modal.close")},"object"==typeof e.close?e.close:{},{class:A.value.close({class:null==(t=i.ui)?void 0:t.close})}),null,16,["icon","aria-label","class"])):M("",!0)]})]),_:3})):M("",!0)]})],2)):M("",!0),d.body?(n(),g("div",{key:1,class:X(A.value.body({class:null==(c=i.ui)?void 0:c.body}))},[s(t.$slots,"body")],2)):M("",!0),d.footer?(n(),g("div",{key:2,class:X(A.value.footer({class:null==(v=i.ui)?void 0:v.footer}))},[s(t.$slots,"footer")],2)):M("",!0)]})]),_:3},16,["class"])]}),_:3},16)]),_:3},16))}},ii={slots:{modal:"sm:max-w-3xl sm:h-[28rem]",input:"[&>input]:text-base/5"}},ai=/^[^-]+.*-.*[^-]+$/,ni=/^[^_]+.*_.*[^_]+$/;const li={__name:"UContentSearch",props:H({icon:{type:String,required:!1},placeholder:{type:null,required:!1},autofocus:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:String,required:!1},shortcut:{type:String,required:!1,default:"meta_k"},links:{type:Array,required:!1},navigation:{type:Array,required:!1},groups:{type:Array,required:!1},files:{type:Array,required:!1},fuse:{type:Object,required:!1},colorMode:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:void 0,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:["update:searchTerm"],setup(e,{expose:t}){const i=e,u=ee(),d=z(e,"searchTerm",{type:String,default:""}),{t:h}=we(),{open:p}=$e(),v=qe(),f=V(),g=Ke(ae(i,"icon","placeholder","autofocus","loading","loadingIcon","close","closeIcon")),y=Oe(u,["content"]),b=c(()=>le({},i.fuse,{fuseOptions:{includeMatches:!0}})),A=c(()=>{var e;return Te({extend:Te(ii),...(null==(e=f.uiPro)?void 0:e.contentSearch)||{}})()});function x(e,t){return e.flatMap(e=>{var a,n,l;return(null==(a=e.children)?void 0:a.length)?x(e.children,e):(null==(l=null==(n=i.files)?void 0:n.filter(t=>t.id===e.path||t.id.startsWith(`${e.path}#`)))?void 0:l.map(i=>function(e,t,i){const a=[...new Set([null==i?void 0:i.title,...e.titles].filter(Boolean))];return{prefix:(null==a?void 0:a.length)?a.join(" > ")+" >":void 0,label:e.id===t.path?t.title:e.title,suffix:e.content.replaceAll("<","&lt;").replaceAll(">","&gt;"),to:e.id,icon:t.icon||(null==i?void 0:i.icon)||(e.level>1?f.ui.icons.hash:f.ui.icons.file),level:e.level}}(i,e,t)))||[]})}const C=c(()=>{var e,t;const a=[];var n;return(null==(e=i.links)?void 0:e.length)&&a.push({id:"links",label:h("contentSearch.links"),items:(n=i.links,n.flatMap(e=>{var t;return[{...e,suffix:e.description,icon:e.icon||f.ui.icons.file},...(null==(t=e.children)?void 0:t.map(t=>({...t,prefix:e.label+" >",suffix:t.description,icon:t.icon||e.icon||f.ui.icons.file})))||[]]}))}),(null==(t=i.navigation)?void 0:t.length)&&(i.navigation.some(e=>{var t;return!!(null==(t=e.children)?void 0:t.length)})?a.push(...i.navigation.map(e=>({id:e.path,label:e.title,items:x(e.children||[]),postFilter:E}))):a.push({id:"docs",items:x(i.navigation),postFilter:E})),a.push(...i.groups||[]),i.colorMode&&!(null==v?void 0:v.forced)&&a.push({id:"theme",label:h("contentSearch.theme"),items:[{label:h("colorMode.system"),icon:f.ui.icons.system,active:"system"===v.preference,onSelect:()=>{v.preference="system"}},{label:h("colorMode.light"),icon:f.ui.icons.light,active:"light"===v.preference,onSelect:()=>{v.preference="light"}},{label:h("colorMode.dark"),icon:f.ui.icons.dark,active:"dark"===v.preference,onSelect:()=>{v.preference="dark"}}]}),a});function E(e,t){return e?t:null==t?void 0:t.filter(e=>1===e.level)}function k(e){e.disabled||(p.value=!1,d.value="")}!function(e,t={}){const i=B([]),a=()=>{i.value.splice(0,i.value.length)},n=Me(a,t.chainDelay??800),{macOS:l}=Se(),s=De(),r=c(()=>{var e,t,i;const a=null==(e=s.value)?void 0:e.tagName,n=null==(t=s.value)?void 0:t.contentEditable;return!("INPUT"!==a&&"TEXTAREA"!==a&&"true"!==n&&"plaintext-only"!==n)&&((null==(i=s.value)?void 0:i.name)||!0)}),o=c(()=>Object.entries(j(e)).map(([e,t])=>{var i,a;if(!t)return null;let n;e.includes("-")&&"-"!==e&&!(null==(i=e.match(ai))?void 0:i.length)&&console.trace(`[Shortcut] Invalid key: "${e}"`),e.includes("_")&&"_"!==e&&!(null==(a=e.match(ni))?void 0:a.length)&&console.trace(`[Shortcut] Invalid key: "${e}"`);const s=e.includes("-")&&"-"!==e;if(s)n={key:e.toLowerCase(),metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1};else{const t=e.toLowerCase().split("_").map(e=>e);n={key:t.filter(e=>!["meta","command","ctrl","shift","alt","option"].includes(e)).join("_"),metaKey:t.includes("meta")||t.includes("command"),ctrlKey:t.includes("ctrl"),shiftKey:t.includes("shift"),altKey:t.includes("alt")||t.includes("option")}}if(n.chained=s,l.value||!n.metaKey||n.ctrlKey||(n.metaKey=!1,n.ctrlKey=!0),"function"==typeof t?n.handler=t:"object"==typeof t&&(n={...n,handler:t.handler}),!n.handler)return console.trace("[Shortcut] Invalid value"),null;let o=!0;return t.usingInput?"string"==typeof t.usingInput&&(o=r.value===t.usingInput):o=!r.value,n.enabled=o,n}).filter(Boolean));Ie("keydown",e=>{if(!e.key)return;const t=/^[a-z]{1}$/i.test(e.key);let l;if(i.value.push(e.key),i.value.length>=2){l=i.value.slice(-2).join("-");for(const t of o.value.filter(e=>e.chained))if(t.key===l)return t.enabled&&(e.preventDefault(),t.handler(e)),void a()}for(const i of o.value.filter(e=>!e.chained))if(e.key.toLowerCase()===i.key&&e.metaKey===i.metaKey&&e.ctrlKey===i.ctrlKey&&(!t||e.shiftKey===i.shiftKey))return i.enabled&&(e.preventDefault(),i.handler()),void a();n()})}({[i.shortcut]:{usingInput:!0,handler:()=>p.value=!p.value}});const F=Re("commandPaletteRef");return t({commandPaletteRef:F}),(e,t)=>{const u=ei,c=ti;return n(),a(c,{open:o(p),"onUpdate:open":t[2]||(t[2]=e=>je(p)?p.value=e:null),title:o(h)("contentSearch.title"),description:o(h)("contentSearch.description"),class:X(A.value.modal({class:i.class}))},{content:l(()=>[s(e.$slots,"content",{},()=>[I(u,r({ref_key:"commandPaletteRef",ref:F,"search-term":d.value,"onUpdate:searchTerm":t[0]||(t[0]=e=>d.value=e)},o(g),{groups:C.value,fuse:b.value,ui:o(Pe)(o(Oe)(A.value,["modal"]),i.ui),"onUpdate:modelValue":k,"onUpdate:open":t[1]||(t[1]=e=>p.value=e)}),re({_:2},[m(o(y),(t,i)=>({name:i,fn:l(t=>[s(e.$slots,i,J(Q(t)))])}))]),1040,["search-term","groups","fuse","ui"])])]),_:3},8,["open","title","description","class"])}}};export{li as default};
