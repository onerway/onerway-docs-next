import{C as e,L as a,O as t,M as n,Z as o,G as s,d as l,w as d,R as i,S as u,U as r,r as p,z as v,E as c,o as m,dr as f,f as b,H as h,e as y,b3 as C,P as g}from"./BOEjTd95.js";import{u as _}from"./wjg-Jxpu.js";const[O,B]=a("CollapsibleRoot"),k=e({__name:"CollapsibleRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},disabled:{type:Boolean},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},emits:["update:open"],setup(e,{expose:a,emit:p}){const v=e,c=t(v,"open",p,{defaultValue:v.defaultOpen,passive:void 0===v.open}),{disabled:m,unmountOnHide:f}=n(v);return B({contentId:"",disabled:m,open:c,unmountOnHide:f,onOpenToggle:()=>{m.value||(c.value=!c.value)}}),a({open:c}),o(),(e,a)=>(l(),s(u(r),{as:e.as,"as-child":v.asChild,"data-state":u(c)?"open":"closed","data-disabled":u(m)?"":void 0},{default:d((()=>[i(e.$slots,"default",{open:u(c)})])),_:3},8,["as","as-child","data-state","data-disabled"]))}}),x=e({inheritAttrs:!1,__name:"CollapsibleContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["contentFound"],setup(e,{emit:a}){const t=e,n=a,B=O();B.contentId||(B.contentId=_(void 0,"reka-collapsible-content"));const k=p(),{forwardRef:x,currentElement:H}=o(),R=p(0),$=p(0),w=v((()=>B.open.value)),D=p(w.value),I=p();c((()=>{var e;return[w.value,null==(e=k.value)?void 0:e.present]}),(async()=>{await g();const e=H.value;if(!e)return;I.value=I.value||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const a=e.getBoundingClientRect();$.value=a.height,R.value=a.width,D.value||(e.style.transitionDuration=I.value.transitionDuration,e.style.animationName=I.value.animationName)}),{immediate:!0});const N=v((()=>D.value&&B.open.value));return m((()=>{requestAnimationFrame((()=>{D.value=!1}))})),f(H,"beforematch",(e=>{requestAnimationFrame((()=>{B.onOpenToggle(),n("contentFound")}))})),(e,a)=>(l(),s(u(C),{ref_key:"presentRef",ref:k,present:e.forceMount||u(B).open.value,"force-mount":!0},{default:d((({present:a})=>{var n;return[b(u(r),h(e.$attrs,{id:u(B).contentId,ref:u(x),"as-child":t.asChild,as:e.as,hidden:a?void 0:u(B).unmountOnHide.value?"":"until-found","data-state":N.value?void 0:u(B).open.value?"open":"closed","data-disabled":(null==(n=u(B).disabled)?void 0:n.value)?"":void 0,style:{"--reka-collapsible-content-height":`${$.value}px`,"--reka-collapsible-content-width":`${R.value}px`}}),{default:d((()=>[!u(B).unmountOnHide.value||a?i(e.$slots,"default",{key:0}):y("",!0)])),_:2},1040,["id","as-child","as","hidden","data-state","data-disabled","style"])]})),_:3},8,["present"]))}}),H=e({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(e){const a=e;o();const t=O();return(e,n)=>{var o,p;return l(),s(u(r),{type:"button"===e.as?"button":void 0,as:e.as,"as-child":a.asChild,"aria-controls":u(t).contentId,"aria-expanded":u(t).open.value,"data-state":u(t).open.value?"open":"closed","data-disabled":(null==(o=u(t).disabled)?void 0:o.value)?"":void 0,disabled:null==(p=u(t).disabled)?void 0:p.value,onClick:u(t).onOpenToggle},{default:d((()=>[i(e.$slots,"default")])),_:3},8,["type","as","as-child","aria-controls","aria-expanded","data-state","data-disabled","disabled","onClick"])}}});export{H as _,x as a,k as b};
