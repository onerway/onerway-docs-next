import{D as a,A as t,aY as e,H as n,e as l,b$ as o,W as i,v as r,bi as s,c0 as c,bp as u,d,g as h,w as p,aT as m,U as g,f,bj as v,b7 as b,bl as y,bm as x}from"#entry";import{_}from"./CEjEJbNn.js";import{_ as w}from"./Bylju2po.js";import{_ as k}from"./SRxIwu9j.js";const j=a({__name:"DocsNavigation",props:{navigation:{},color:{default:"primary"},highlight:{type:Boolean,default:!0},orientation:{default:"vertical"},collapsible:{type:Boolean},type:{default:"multiple"},moduleUi:{default:()=>({group:"border-t border-default mt-3 py-2 text-highlighted font-semibold",label:""})}},setup(a){const r=a,s=e();function c(a,t){if(a)for(const e of a){e.module&&e.path&&t.add(e.path),e.children?.length&&c(e.children,t)}}function u(a,t){return a?a.map(a=>{const e={...a};return e.to&&t.has(e.to)&&(e.class=[e.class,r.moduleUi.group].filter(Boolean).join(" "),e.labelClass=[e.labelClass,r.moduleUi.label].filter(Boolean).join(" "),e["data-module"]=!0,e.ui={linkTrailingIcon:"hidden"}),Array.isArray(e.children)&&e.children.length&&(e.children=u(e.children,t)),e}):a}const d=t(()=>{const a=function a(t){return t.map(t=>{const e=Array.isArray(t.children)&&t.children.length>0,n=!!e&&t.children.some(a=>a.path===t.path),l={label:String(t.title||""),value:String(t.path||"")};e&&n||(l.to=String(t.path||"")),e&&(l.children=a(t.children),l.defaultOpen=!0);const o=t;return o.icon&&(l.icon=o.icon),l})}(r.navigation),t=new Set;return c(r.navigation,t),u(a,t)});s.info("navigation",d?.value);const h=a=>{s.info("navigation model-value changed",a)};return(a,t)=>{const e=o;return l(),n(e,{items:i(d),highlight:a.highlight,color:a.color,orientation:a.orientation,variant:"link",type:a.type,ui:{label:"px-0 py-0",link:"cursor-pointer px-0.5 py-1",linkLeadingIcon:"group-data-[state=open]:rotate-90",linkLabel:"line-clamp-2 text-wrap text-sm font-normal text-left ",childLinkLabel:"line-clamp-2 text-wrap",childList:"ms-1.5 border-none"},class:"sm:mt-8","onUpdate:modelValue":h},null,8,["items","highlight","color","orientation","type"])}}}),N=Object.assign(j,{__name:"DocsNavigation"}),A={class:"min-h-screen"},L=a({__name:"docs",async setup(a){let o,j;const L=r(),U=e(),{pathInfo:$}=s();U.info("module信息",$.value.module);const{data:B}=([o,j]=c(()=>v(b(L.path),async()=>{const a=$.value;if(!a.collectionName)throw y({statusCode:404,statusMessage:"Collection not found"});return x(a.collectionName).path(a.contentPath).first()},"$XHYI4-VaW0")),o=await o,j(),o),C=u("navigation"),I=t(()=>`${$.value.module||"root"}:${C?.value&&C.value.length?"ready":"loading"}`),S=t(()=>C?.value||[]);U.info("safeNavigation",S.value);const D={root:"border-r border-default max-w-3xs"};return(a,t)=>{const e=N,o=_,r=w,s=m,c=k;return l(),d("div",A,[h(c,null,{default:p(()=>[h(s,{class:"max-w-8xl px-4 sm:px-4 lg:px-4"},{default:p(()=>[h(r,null,{left:p(()=>[i(B)?.showNavigation&&i(S).length>0?(l(),n(o,{key:0,ui:D,class:"-translate-y-6"},{default:p(()=>[(l(),n(e,{key:i(I),navigation:i(S),highlight:"",color:"primary",orientation:"vertical",type:"multiple",class:"sm:mt-12"},null,8,["navigation"]))]),_:1})):f("",!0)]),default:p(()=>[g(a.$slots,"default")]),_:3})]),_:3})]),_:3})])}}});export{L as default};
