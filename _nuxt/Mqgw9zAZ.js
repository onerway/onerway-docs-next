var t,e,n,i,s,o,r,a,p,l,d,c,h,g,y,u,f,m=Object.defineProperty,A=t=>{throw TypeError(t)},w=(t,e,n)=>((t,e,n)=>e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n)(t,"symbol"!=typeof e?e+"":e,n),T=(t,e,n)=>e.has(t)||A("Cannot "+n),b=(t,e,n)=>(T(t,e,"read from private field"),n?n.call(t):e.get(t)),E=(t,e,n)=>e.has(t)?A("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),v=(t,e,n,i)=>(T(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),_=(t,e,n)=>(T(t,e,"access private method"),n);import{s as R,u as x,a as j,r as C,o as N,_ as O,b as L,c as P,d as V,e as H,f as U,n as S,F as X,g as z,w as D,T as M,t as $,h as I,i as k,j as B,k as F,l as W,m as q,p as Y,q as K,v as Z,x as G,y as Q}from"./BOEjTd95.js";import{_ as J}from"./BCo6x5W8.js";import{loadDatabaseAdapter as tt}from"./DkET4T0x.js";const et=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],nt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],it=[];class st{constructor(){w(this,"_data",new ot),w(this,"_hash",new ot([...et])),w(this,"_nDataBytes",0),w(this,"_minBufferSize",0)}finalize(t){t&&this._append(t);const e=8*this._nDataBytes,n=8*this._data.sigBytes;return this._data.words[n>>>5]|=128<<24-n%32,this._data.words[14+(n+64>>>9<<4)]=Math.floor(e/4294967296),this._data.words[15+(n+64>>>9<<4)]=e,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash}_doProcessBlock(t,e){const n=this._hash.words;let i=n[0],s=n[1],o=n[2],r=n[3],a=n[4],p=n[5],l=n[6],d=n[7];for(let c=0;c<64;c++){if(c<16)it[c]=0|t[e+c];else{const t=it[c-15],e=(t<<25|t>>>7)^(t<<14|t>>>18)^t>>>3,n=it[c-2],i=(n<<15|n>>>17)^(n<<13|n>>>19)^n>>>10;it[c]=e+it[c-7]+i+it[c-16]}const n=i&s^i&o^s&o,h=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),g=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&p^~a&l)+nt[c]+it[c];d=l,l=p,p=a,a=r+g|0,r=o,o=s,s=i,i=g+(h+n)|0}n[0]=n[0]+i|0,n[1]=n[1]+s|0,n[2]=n[2]+o|0,n[3]=n[3]+r|0,n[4]=n[4]+a|0,n[5]=n[5]+p|0,n[6]=n[6]+l|0,n[7]=n[7]+d|0}_append(t){"string"==typeof t&&(t=ot.fromUtf8(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_process(t){let e,n=this._data.sigBytes/64;n=t?Math.ceil(n):Math.max((0|n)-this._minBufferSize,0);const i=16*n,s=Math.min(4*i,this._data.sigBytes);if(i){for(let t=0;t<i;t+=16)this._doProcessBlock(this._data.words,t);e=this._data.words.splice(0,i),this._data.sigBytes-=s}return new ot(e,s)}}class ot{constructor(t,e){w(this,"words"),w(this,"sigBytes"),t=this.words=t||[],this.sigBytes=void 0===e?4*t.length:e}static fromUtf8(t){const e=unescape(encodeURIComponent(t)),n=e.length,i=[];for(let s=0;s<n;s++)i[s>>>2]|=(255&e.charCodeAt(s))<<24-s%4*8;return new ot(i,n)}toBase64(){const t=[];for(let e=0;e<this.sigBytes;e+=3){const n=(this.words[e>>>2]>>>24-e%4*8&255)<<16|(this.words[e+1>>>2]>>>24-(e+1)%4*8&255)<<8|this.words[e+2>>>2]>>>24-(e+2)%4*8&255;for(let i=0;i<4&&8*e+6*i<8*this.sigBytes;i++)t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(n>>>6*(3-i)&63))}return t.join("")}concat(t){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let e=0;e<t.sigBytes;e++){const n=t.words[e>>>2]>>>24-e%4*8&255;this.words[this.sigBytes+e>>>2]|=n<<24-(this.sigBytes+e)%4*8}else for(let e=0;e<t.sigBytes;e+=4)this.words[this.sigBytes+e>>>2]=t.words[e>>>2];this.sigBytes+=t.sigBytes}}function rt(t){return e=R(t),(new st).finalize(e).toBase64();var e}const at={key:0},pt={key:0},lt={id:"__preview_loader"},dt=J({__name:"ContentPreviewMode",props:{previewToken:{type:String,required:!0},api:{type:String,required:!0},initializePreview:{type:Function,required:!0}},setup(t){const e=t,n=["__nuxt_preview","__preview_enabled"],i=x(),s=j(),o=C(!0),r=C(!1),a=C(!1),p=C("");let l;const d=async()=>{I("previewToken").value="",window.sessionStorage.removeItem("previewToken"),window.sessionStorage.removeItem("previewAPI"),await s.replace({query:{preview:void 0}}),window.location.reload()};return N((async()=>{const t=await O((()=>import("./ByEGEbBs.js")),[],import.meta.url);let o;l=t.connect(`${e.api}/preview`,{transports:["websocket","polling"],auth:{token:e.previewToken}}),l.on("connect",(()=>{o=setTimeout((()=>{a.value||(o=setTimeout((()=>{p.value="Preview sync timed out",a.value=!1}),3e4),l.emit("draft:requestSync"))}),3e4)}));const r=()=>{o&&(clearTimeout(o),o=null)};l.on("draft:sync",(async t=>{if(r(),t)(async t=>{await e.initializePreview(t),I("previewToken").value&&(a.value=!0,await s.replace({query:{}}),i.callHook("nuxt-content:preview:ready"),window.parent&&window.self!==window.parent&&l.disconnect())})(t);else try{l.once("draft:ready",(()=>{l.emit("draft:requestSync")})),await $fetch("api/projects/preview/sync",{baseURL:e.api,method:"POST",params:{token:e.previewToken}})}catch(n){if(r(),404===n.response.status)p.value="Preview draft not found",a.value=!1;else p.value="An error occurred while syncing preview",a.value=!1}})),l.on("draft:unauthorized",(()=>{r(),p.value="Unauthorized preview",a.value=!1})),l.on("disconnect",(()=>{r()})),document.body.classList.add(...n)})),L((()=>{document.body.classList.remove(...n)})),(t,e)=>(V(),P("div",null,[o.value?(V(),P("div",{key:0,id:"__nuxt_preview",class:S({__preview_ready:a.value,__preview_refreshing:r.value})},[a.value?(V(),P(X,{key:0},[e[0]||(e[0]=z("svg",{viewBox:"0 0 90 90",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[z("path",{d:"M50.0016 71.0999h29.2561c.9293.0001 1.8422-.241 2.6469-.6992.8047-.4582 1.4729-1.1173 1.9373-1.9109.4645-.7936.7088-1.6939.7083-2.6102-.0004-.9162-.2455-1.8163-.7106-2.6095L64.192 29.713c-.4644-.7934-1.1325-1.4523-1.937-1.9105-.8046-.4581-1.7173-.6993-2.6463-.6993-.9291 0-1.8418.2412-2.6463.6993-.8046.4582-1.4726 1.1171-1.937 1.9105l-5.0238 8.5861-9.8224-16.7898c-.4648-.7934-1.1332-1.4522-1.938-1.9102-.8047-.4581-1.7176-.6992-2.6468-.6992-.9292 0-1.842.2411-2.6468.6992-.8048.458-1.4731 1.1168-1.9379 1.9102L6.56062 63.2701c-.46512.7932-.71021 1.6933-.71061 2.6095-.00041.9163.24389 1.8166.70831 2.6102.46443.7936 1.1326 1.4527 1.93732 1.9109.80473.4582 1.71766.6993 2.64686.6992h18.3646c7.2763 0 12.6422-3.1516 16.3345-9.3002l8.9642-15.3081 4.8015-8.1925 14.4099 24.6083H54.8058l-4.8042 8.1925ZM29.2077 62.899l-12.8161-.0028L35.603 30.0869l9.5857 16.4047-6.418 10.9645c-2.4521 3.9894-5.2377 5.4429-9.563 5.4429Z",fill:"currentColor"})],-1)),e[1]||(e[1]=z("span",null,"Preview enabled",-1)),z("button",{onClick:d}," Close ")],64)):H("",!0)],2)):H("",!0),U(M,{name:"preview-loading"},{default:D((()=>[!o.value||a.value||p.value?H("",!0):(V(),P("div",at,[e[4]||(e[4]=z("div",{id:"__preview_background"},null,-1)),z("div",{id:"__preview_loader"},[e[2]||(e[2]=z("svg",{id:"__preview_loading_icon",width:"32",height:"32",viewBox:"0 0 24 24"},[z("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 0 0 4.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 0 1-15.357-2m15.357 2H15"})],-1)),e[3]||(e[3]=z("p",null,"Initializing the preview...",-1)),z("button",{onClick:d}," Cancel ")])]))])),_:1}),U(M,{name:"preview-loading"},{default:D((()=>[p.value?(V(),P("div",pt,[e[5]||(e[5]=z("div",{id:"__preview_background"},null,-1)),z("div",lt,[z("p",null,$(p.value),1),z("button",{onClick:d}," Exit preview ")])])):H("",!0)])),_:1})]))}},[["__scopeId","data-v-b1ec4e60"]]),ct=/^[A-Za-z]:\//;function ht(t=""){return t?t.replace(/\\/g,"/").replace(ct,(t=>t.toUpperCase())):t}const gt=/^[/\\]{2}/,yt=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,ut=/^[A-Za-z]:$/,ft=/.(\.[^./]+|\.)$/,mt=/^[/\\]|^[a-zA-Z]:[/\\]/,At=function(...t){let e="";for(const n of t)if(n)if(e.length>0){const t="/"===e[e.length-1],i="/"===n[0];e+=t&&i?n.slice(1):t||i?n:`/${n}`}else e+=n;return function(t){if(0===t.length)return".";const e=(t=ht(t)).match(gt),n=wt(t),i="/"===t[t.length-1];return 0===(t=function(t,e){let n="",i=0,s=-1,o=0,r=null;for(let a=0;a<=t.length;++a){if(a<t.length)r=t[a];else{if("/"===r)break;r="/"}if("/"===r){if(s===a-1||1===o);else if(2===o){if(n.length<2||2!==i||"."!==n[n.length-1]||"."!==n[n.length-2]){if(n.length>2){const t=n.lastIndexOf("/");-1===t?(n="",i=0):(n=n.slice(0,t),i=n.length-1-n.lastIndexOf("/")),s=a,o=0;continue}if(n.length>0){n="",i=0,s=a,o=0;continue}}e&&(n+=n.length>0?"/..":"..",i=2)}else n.length>0?n+=`/${t.slice(s+1,a)}`:n=t.slice(s+1,a),i=a-s-1;s=a,o=0}else"."===r&&-1!==o?++o:o=-1}return n}(t,!n)).length?n?"/":i?"./":".":(i&&(t+="/"),ut.test(t)&&(t+="/"),e?n?`//${t}`:`//./${t}`:n&&!wt(t)?`/${t}`:t)}(e)};const wt=function(t){return yt.test(t)},Tt=function(t){const e=ht(t).replace(/\/$/,"").split("/").slice(0,-1);return 1===e.length&&ut.test(e[0])&&(e[0]+="/"),e.join("/")||(wt(t)?"/":".")},bt=function(t){var e,n;const i=(null==(n=null==(e=mt.exec(t))?void 0:e[0])?void 0:n.replace(/\\/g,"/"))||"",s=function(t,e){const n=ht(t).split("/");let i="";for(let s=n.length-1;s>=0;s--){const t=n[s];if(t){i=t;break}}return e&&i.endsWith(e)?i.slice(0,-e.length):i}(t),o=function(t){if(".."===t)return"";const e=ft.exec(ht(t));return e&&e[1]||""}(s);return{root:i,dir:Tt(t),base:s,ext:o,name:s.slice(0,s.length-o.length)}},Et={appConfig:"app.config.ts",appConfigV4:"app/app.config.ts",nuxtConfig:"nuxt.config.ts"};function vt(t){return(null==t?void 0:t.startsWith("content/"))?t.split("/").slice(1).join("/"):k(t)}function _t(t,e=!1){return t?e?B(t.replace(/\/\d+\./,"/")):k(t.replace(/^\d+\./,"")):t}function Rt(t){const e=vt(t);return At(Tt(e),bt(e).name)}const xt=F(((t,e,n)=>{if(Array.isArray(t[e])&&Array.isArray(n))return t[e]=n,!0}));function jt(t,e){for(const n in t){const i=e[n];n in e||delete t[n],null!==i&&"object"==typeof i&&jt(t[n],e[n])}}function Ct(t,e){for(const n in e){const i=e[n];null!==i&&"object"==typeof i?Array.isArray(i)&&Array.isArray(t[n])?t[n]=i:(t[n]=t[n]||{},Ct(t[n],i)):t[n]=i}}function Nt(t){const[e,...n]=t.include.includes("*")?t.include.split("*"):["",t.include];return{fixed:e||"",dynamic:"*"+n.join("*")}}const Ot=(t,e,n)=>{const{fixed:i}=Nt(n);if(!t.parsed)return;const s=_t(i||""),o=_t((null==n?void 0:n.prefix)||"",!0),r=t.parsed._path.substring(s.length),a=At(o,r),p={id:t.parsed._id,stem:t.parsed._stem,meta:{},extension:t.parsed._extension,path:a},l=e.schema.definitions[e.name].properties;return Object.keys(t.parsed).forEach((e=>{e in l?p[e]=t.parsed[e]:p.meta[e]=t.parsed[e]})),p},Lt=(t,e,n)=>{const i=t instanceof RegExp?Pt(t,n):t,s=e instanceof RegExp?Pt(e,n):e,o=null!==i&&null!=s&&Vt(i,s,n);return o&&{start:o[0],end:o[1],pre:n.slice(0,o[0]),body:n.slice(o[0]+i.length,o[1]),post:n.slice(o[1]+s.length)}},Pt=(t,e)=>{const n=e.match(t);return n?n[0]:null},Vt=(t,e,n)=>{let i,s,o,r,a,p=n.indexOf(t),l=n.indexOf(e,p+1),d=p;if(p>=0&&l>0){if(t===e)return[p,l];for(i=[],o=n.length;d>=0&&!a;){if(d===p)i.push(d),p=n.indexOf(t,d+1);else if(1===i.length){const t=i.pop();void 0!==t&&(a=[t,l])}else s=i.pop(),void 0!==s&&s<o&&(o=s,r=l),l=n.indexOf(e,d+1);d=p<l&&p>=0?p:l}i.length&&void 0!==r&&(a=[o,r])}return a},Ht="\0SLASH"+Math.random()+"\0",Ut="\0OPEN"+Math.random()+"\0",St="\0CLOSE"+Math.random()+"\0",Xt="\0COMMA"+Math.random()+"\0",zt="\0PERIOD"+Math.random()+"\0",Dt=new RegExp(Ht,"g"),Mt=new RegExp(Ut,"g"),$t=new RegExp(St,"g"),It=new RegExp(Xt,"g"),kt=new RegExp(zt,"g"),Bt=/\\\\/g,Ft=/\\{/g,Wt=/\\}/g,qt=/\\,/g,Yt=/\\./g;function Kt(t){return isNaN(t)?t.charCodeAt(0):parseInt(t,10)}function Zt(t){return t.replace(Dt,"\\").replace(Mt,"{").replace($t,"}").replace(It,",").replace(kt,".")}function Gt(t){if(!t)return[""];const e=[],n=Lt("{","}",t);if(!n)return t.split(",");const{pre:i,body:s,post:o}=n,r=i.split(",");r[r.length-1]+="{"+s+"}";const a=Gt(o);return o.length&&(r[r.length-1]+=a.shift(),r.push.apply(r,a)),e.push.apply(e,r),e}function Qt(t){return t?("{}"===t.slice(0,2)&&(t="\\{\\}"+t.slice(2)),ie(function(t){return t.replace(Bt,Ht).replace(Ft,Ut).replace(Wt,St).replace(qt,Xt).replace(Yt,zt)}(t),!0).map(Zt)):[]}function Jt(t){return"{"+t+"}"}function te(t){return/^-?0\d/.test(t)}function ee(t,e){return t<=e}function ne(t,e){return t>=e}function ie(t,e){const n=[],i=Lt("{","}",t);if(!i)return[t];const s=i.pre,o=i.post.length?ie(i.post,!1):[""];if(/\$$/.test(i.pre))for(let r=0;r<o.length;r++){const t=s+"{"+i.body+"}"+o[r];n.push(t)}else{const r=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),p=r||a,l=i.body.indexOf(",")>=0;if(!p&&!l)return i.post.match(/,(?!,).*\}/)?ie(t=i.pre+"{"+i.body+St+i.post):[t];let d,c;if(p)d=i.body.split(/\.\./);else if(d=Gt(i.body),1===d.length&&void 0!==d[0]&&(d=ie(d[0],!1).map(Jt),1===d.length))return o.map((t=>i.pre+d[0]+t));if(p&&void 0!==d[0]&&void 0!==d[1]){const t=Kt(d[0]),e=Kt(d[1]),n=Math.max(d[0].length,d[1].length);let i=3===d.length&&void 0!==d[2]?Math.abs(Kt(d[2])):1,s=ee;e<t&&(i*=-1,s=ne);const o=d.some(te);c=[];for(let r=t;s(r,e);r+=i){let t;if(a)t=String.fromCharCode(r),"\\"===t&&(t="");else if(t=String(r),o){const e=n-t.length;if(e>0){const n=new Array(e+1).join("0");t=r<0?"-"+n+t.slice(1):n+t}}c.push(t)}}else{c=[];for(let t=0;t<d.length;t++)c.push.apply(c,ie(d[t],!1))}for(let t=0;t<c.length;t++)for(let i=0;i<o.length;i++){const r=s+c[t]+o[i];(!e||p||r)&&n.push(r)}}return n}const se=t=>{if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")},oe={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},re=t=>t.replace(/[[\]\\-]/g,"\\$&"),ae=t=>t.join(""),pe=(t,e)=>{const n=e;if("["!==t.charAt(n))throw new Error("not in a brace expression");const i=[],s=[];let o=n+1,r=!1,a=!1,p=!1,l=!1,d=n,c="";t:for(;o<t.length;){const e=t.charAt(o);if("!"!==e&&"^"!==e||o!==n+1){if("]"===e&&r&&!p){d=o+1;break}if(r=!0,"\\"!==e||p){if("["===e&&!p)for(const[e,[r,p,l]]of Object.entries(oe))if(t.startsWith(e,o)){if(c)return["$.",!1,t.length-n,!0];o+=e.length,l?s.push(r):i.push(r),a=a||p;continue t}p=!1,c?(e>c?i.push(re(c)+"-"+re(e)):e===c&&i.push(re(e)),c="",o++):t.startsWith("-]",o+1)?(i.push(re(e+"-")),o+=2):t.startsWith("-",o+1)?(c=e,o+=2):(i.push(re(e)),o++)}else p=!0,o++}else l=!0,o++}if(d<o)return["",!1,0,!1];if(!i.length&&!s.length)return["$.",!1,t.length-n,!0];if(0===s.length&&1===i.length&&/^\\?.$/.test(i[0])&&!l){const t=2===i[0].length?i[0].slice(-1):i[0];return[(h=t,h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,d-n,!1]}var h;const g="["+(l?"^":"")+ae(i)+"]",y="["+(l?"":"^")+ae(s)+"]";return[i.length&&s.length?"("+g+"|"+y+")":i.length?g:y,a,d-n,!0]},le=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),de=new Set(["!","?","+","*","@"]),ce=t=>de.has(t),he="(?!\\.)",ge=new Set(["[","."]),ye=new Set(["..","."]),ue=new Set("().*{}+?[]^$\\!"),fe="[^/]",me=fe+"*?",Ae=fe+"+?",we=class m{constructor(h,g,y={}){E(this,c),w(this,"type"),E(this,t),E(this,e),E(this,n,!1),E(this,i,[]),E(this,s),E(this,o),E(this,r),E(this,a,!1),E(this,p),E(this,l),E(this,d,!1),this.type=h,h&&v(this,e,!0),v(this,s,g),v(this,t,b(this,s)?b(b(this,s),t):this),v(this,p,b(this,t)===this?y:b(b(this,t),p)),v(this,r,b(this,t)===this?[]:b(b(this,t),r)),"!"!==h||b(b(this,t),a)||b(this,r).push(this),v(this,o,b(this,s)?b(b(this,s),i).length:0)}get hasMagic(){if(void 0!==b(this,e))return b(this,e);for(const t of b(this,i))if("string"!=typeof t&&(t.type||t.hasMagic))return v(this,e,!0);return b(this,e)}toString(){return void 0!==b(this,l)?b(this,l):this.type?v(this,l,this.type+"("+b(this,i).map((t=>String(t))).join("|")+")"):v(this,l,b(this,i).map((t=>String(t))).join(""))}push(...t){for(const e of t)if(""!==e){if("string"!=typeof e&&!(e instanceof m&&b(e,s)===this))throw new Error("invalid part: "+e);b(this,i).push(e)}}toJSON(){var e;const n=null===this.type?b(this,i).slice().map((t=>"string"==typeof t?t:t.toJSON())):[this.type,...b(this,i).map((t=>t.toJSON()))];return this.isStart()&&!this.type&&n.unshift([]),this.isEnd()&&(this===b(this,t)||b(b(this,t),a)&&"!"===(null==(e=b(this,s))?void 0:e.type))&&n.push({}),n}isStart(){var e;if(b(this,t)===this)return!0;if(!(null==(e=b(this,s))?void 0:e.isStart()))return!1;if(0===b(this,o))return!0;const n=b(this,s);for(let t=0;t<b(this,o);t++){const e=b(n,i)[t];if(!(e instanceof m&&"!"===e.type))return!1}return!0}isEnd(){var e,n,r;if(b(this,t)===this)return!0;if("!"===(null==(e=b(this,s))?void 0:e.type))return!0;if(!(null==(n=b(this,s))?void 0:n.isEnd()))return!1;if(!this.type)return null==(r=b(this,s))?void 0:r.isEnd();const a=b(this,s)?b(b(this,s),i).length:0;return b(this,o)===a-1}copyIn(t){"string"==typeof t?this.push(t):this.push(t.clone(this))}clone(t){const e=new m(this.type,t);for(const n of b(this,i))e.copyIn(n);return e}static fromGlob(t,e={}){var n;const i=new m(null,void 0,e);return _(n=m,g,y).call(n,t,i,0,e),i}toMMPattern(){if(this!==b(this,t))return b(this,t).toMMPattern();const n=this.toString(),[i,s,o,r]=this.toRegExpSource();if(!(o||b(this,e)||b(this,p).nocase&&!b(this,p).nocaseMagicOnly&&n.toUpperCase()!==n.toLowerCase()))return s;const a=(b(this,p).nocase?"i":"")+(r?"u":"");return Object.assign(new RegExp(`^${i}$`,a),{_src:i,_glob:n})}get options(){return b(this,p)}toRegExpSource(o){var r;const l=o??!!b(this,p).dot;if(b(this,t)===this&&_(this,c,h).call(this),!this.type){const p=this.isStart()&&this.isEnd(),d=b(this,i).map((t=>{var i;const[s,r,a,l]="string"==typeof t?_(i=m,g,f).call(i,t,b(this,e),p):t.toRegExpSource(o);return v(this,e,b(this,e)||a),v(this,n,b(this,n)||l),s})).join("");let c="";if(this.isStart()&&"string"==typeof b(this,i)[0]){if(!(1===b(this,i).length&&ye.has(b(this,i)[0]))){const t=ge,e=l&&t.has(d.charAt(0))||d.startsWith("\\.")&&t.has(d.charAt(2))||d.startsWith("\\.\\.")&&t.has(d.charAt(4)),n=!l&&!o&&t.has(d.charAt(0));c=e?"(?!(?:^|/)\\.\\.?(?:$|/))":n?he:""}}let h="";this.isEnd()&&b(b(this,t),a)&&"!"===(null==(r=b(this,s))?void 0:r.type)&&(h="(?:$|\\/)");return[c+d+h,le(d),v(this,e,!!b(this,e)),b(this,n)]}const y="*"===this.type||"+"===this.type,A="!"===this.type?"(?:(?!(?:":"(?:";let w=_(this,c,u).call(this,l);if(this.isStart()&&this.isEnd()&&!w&&"!"!==this.type){const t=this.toString();return v(this,i,[t]),this.type=null,v(this,e,void 0),[t,le(this.toString()),!1,!1]}let T=!y||o||l?"":_(this,c,u).call(this,!0);T===w&&(T=""),T&&(w=`(?:${w})(?:${T})*?`);let E="";if("!"===this.type&&b(this,d))E=(this.isStart()&&!l?he:"")+Ae;else{E=A+w+("!"===this.type?"))"+(!this.isStart()||l||o?"":he)+me+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&T?")":"*"===this.type&&T?")?":`)${this.type}`)}return[E,le(w),v(this,e,!!b(this,e)),b(this,n)]}};t=new WeakMap,e=new WeakMap,n=new WeakMap,i=new WeakMap,s=new WeakMap,o=new WeakMap,r=new WeakMap,a=new WeakMap,p=new WeakMap,l=new WeakMap,d=new WeakMap,c=new WeakSet,h=function(){if(this!==b(this,t))throw new Error("should only call on root");if(b(this,a))return this;let e;for(this.toString(),v(this,a,!0);e=b(this,r).pop();){if("!"!==e.type)continue;let t=e,n=b(t,s);for(;n;){for(let s=b(t,o)+1;!n.type&&s<b(n,i).length;s++)for(const t of b(e,i)){if("string"==typeof t)throw new Error("string part in extglob AST??");t.copyIn(b(n,i)[s])}t=n,n=b(t,s)}}return this},g=new WeakSet,y=function(t,n,s,o){var r,a;let p=!1,l=!1,c=-1,h=!1;if(null===n.type){let e=s,i="";for(;e<t.length;){const s=t.charAt(e++);if(p||"\\"===s)p=!p,i+=s;else if(l)e===c+1?"^"!==s&&"!"!==s||(h=!0):"]"!==s||e===c+2&&h||(l=!1),i+=s;else if("["!==s)if(o.noext||!ce(s)||"("!==t.charAt(e))i+=s;else{n.push(i),i="";const a=new we(s,n);e=_(r=we,g,y).call(r,t,a,e,o),n.push(a)}else l=!0,c=e,h=!1,i+=s}return n.push(i),e}let u=s+1,f=new we(null,n);const m=[];let A="";for(;u<t.length;){const e=t.charAt(u++);if(p||"\\"===e)p=!p,A+=e;else if(l)u===c+1?"^"!==e&&"!"!==e||(h=!0):"]"!==e||u===c+2&&h||(l=!1),A+=e;else if("["!==e)if(ce(e)&&"("===t.charAt(u)){f.push(A),A="";const n=new we(e,f);f.push(n),u=_(a=we,g,y).call(a,t,n,u,o)}else if("|"!==e){if(")"===e)return""===A&&0===b(n,i).length&&v(n,d,!0),f.push(A),A="",n.push(...m,f),u;A+=e}else f.push(A),A="",m.push(f),f=new we(null,n);else l=!0,c=u,h=!1,A+=e}return n.type=null,v(n,e,void 0),v(n,i,[t.substring(s-1)]),u},u=function(t){return b(this,i).map((e=>{if("string"==typeof e)throw new Error("string type in extglob ast??");const[i,s,o,r]=e.toRegExpSource(t);return v(this,n,b(this,n)||r),i})).filter((t=>!(this.isStart()&&this.isEnd()&&!t))).join("|")},f=function(t,e,n=!1){let i=!1,s="",o=!1;for(let r=0;r<t.length;r++){const a=t.charAt(r);if(i)i=!1,s+=(ue.has(a)?"\\":"")+a;else if("\\"!==a){if("["===a){const[n,i,a,p]=pe(t,r);if(a){s+=n,o=o||i,r+=a-1,e=e||p;continue}}"*"!==a?"?"!==a?s+=a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(s+=fe,e=!0):(s+=n&&"*"===t?Ae:me,e=!0)}else r===t.length-1?s+="\\\\":i=!0}return[s,le(t),!!e,o]},E(we,g);let Te=we;var be={};const Ee=(t,e,n={})=>(se(e),!(!n.nocomment&&"#"===e.charAt(0))&&new Ye(e,n).match(t)),ve=/^\*+([^+@!?\*\[\(]*)$/,_e=t=>e=>!e.startsWith(".")&&e.endsWith(t),Re=t=>e=>e.endsWith(t),xe=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),je=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),Ce=/^\*+\.\*+$/,Ne=t=>!t.startsWith(".")&&t.includes("."),Oe=t=>"."!==t&&".."!==t&&t.includes("."),Le=/^\.\*+$/,Pe=t=>"."!==t&&".."!==t&&t.startsWith("."),Ve=/^\*+$/,He=t=>0!==t.length&&!t.startsWith("."),Ue=t=>0!==t.length&&"."!==t&&".."!==t,Se=/^\?+([^+@!?\*\[\(]*)?$/,Xe=([t,e=""])=>{const n=$e([t]);return e?(e=e.toLowerCase(),t=>n(t)&&t.toLowerCase().endsWith(e)):n},ze=([t,e=""])=>{const n=Ie([t]);return e?(e=e.toLowerCase(),t=>n(t)&&t.toLowerCase().endsWith(e)):n},De=([t,e=""])=>{const n=Ie([t]);return e?t=>n(t)&&t.endsWith(e):n},Me=([t,e=""])=>{const n=$e([t]);return e?t=>n(t)&&t.endsWith(e):n},$e=([t])=>{const e=t.length;return t=>t.length===e&&!t.startsWith(".")},Ie=([t])=>{const e=t.length;return t=>t.length===e&&"."!==t&&".."!==t},ke="object"==typeof process&&process?be&&be.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";Ee.sep="win32"===ke?{sep:"\\"}.sep:{sep:"/"}.sep;const Be=Symbol("globstar **");Ee.GLOBSTAR=Be;Ee.filter=(t,e={})=>n=>Ee(n,t,e);const Fe=(t,e={})=>Object.assign({},t,e);Ee.defaults=t=>{if(!t||"object"!=typeof t||!Object.keys(t).length)return Ee;const e=Ee;return Object.assign(((n,i,s={})=>e(n,i,Fe(t,s))),{Minimatch:class extends e.Minimatch{constructor(e,n={}){super(e,Fe(t,n))}static defaults(n){return e.defaults(Fe(t,n)).Minimatch}},AST:class extends e.AST{constructor(e,n,i={}){super(e,n,Fe(t,i))}static fromGlob(n,i={}){return e.AST.fromGlob(n,Fe(t,i))}},unescape:(n,i={})=>e.unescape(n,Fe(t,i)),escape:(n,i={})=>e.escape(n,Fe(t,i)),filter:(n,i={})=>e.filter(n,Fe(t,i)),defaults:n=>e.defaults(Fe(t,n)),makeRe:(n,i={})=>e.makeRe(n,Fe(t,i)),braceExpand:(n,i={})=>e.braceExpand(n,Fe(t,i)),match:(n,i,s={})=>e.match(n,i,Fe(t,s)),sep:e.sep,GLOBSTAR:Be})};const We=(t,e={})=>(se(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Qt(t));Ee.braceExpand=We;Ee.makeRe=(t,e={})=>new Ye(t,e).makeRe();Ee.match=(t,e,n={})=>{const i=new Ye(e,n);return t=t.filter((t=>i.match(t))),i.options.nonull&&!t.length&&t.push(e),t};const qe=/[?*]|[+@!]\(.*?\)|\[|\]/;class Ye{constructor(t,e={}){w(this,"options"),w(this,"set"),w(this,"pattern"),w(this,"windowsPathsNoEscape"),w(this,"nonegate"),w(this,"negate"),w(this,"comment"),w(this,"empty"),w(this,"preserveMultipleSlashes"),w(this,"partial"),w(this,"globSet"),w(this,"globParts"),w(this,"nocase"),w(this,"isWindows"),w(this,"platform"),w(this,"windowsNoMagicRoot"),w(this,"regexp"),se(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||ke,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==e.windowsNoMagicRoot?e.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const e of t)if("string"!=typeof e)return!0;return!1}debug(...t){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...t)=>console.error(...t)),this.debug(this.pattern,this.globSet);const n=this.globSet.map((t=>this.slashSplit(t)));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map(((t,e,n)=>{if(this.isWindows&&this.windowsNoMagicRoot){const e=!(""!==t[0]||""!==t[1]||"?"!==t[2]&&qe.test(t[2])||qe.test(t[3])),n=/^[a-z]:/i.test(t[0]);if(e)return[...t.slice(0,4),...t.slice(4).map((t=>this.parse(t)))];if(n)return[t[0],...t.slice(1).map((t=>this.parse(t)))]}return t.map((t=>this.parse(t)))}));if(this.debug(this.pattern,i),this.set=i.filter((t=>-1===t.indexOf(!1))),this.isWindows)for(let s=0;s<this.set.length;s++){const t=this.set[s];""===t[0]&&""===t[1]&&"?"===this.globParts[s][2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3])&&(t[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let e=0;e<t[n].length;e++)"**"===t[n][e]&&(t[n][e]="*");const{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=e>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map((t=>{let e=-1;for(;-1!==(e=t.indexOf("**",e+1));){let n=e;for(;"**"===t[n+1];)n++;n!==e&&t.splice(e,n-e)}return t}))}levelOneOptimize(t){return t.map((t=>0===(t=t.reduce(((t,e)=>{const n=t[t.length-1];return"**"===e&&"**"===n?t:".."===e&&n&&".."!==n&&"."!==n&&"**"!==n?(t.pop(),t):(t.push(e),t)}),[])).length?[""]:t))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let n=1;n<t.length-1;n++){const i=t[n];1===n&&""===i&&""===t[0]||("."!==i&&""!==i||(e=!0,t.splice(n,1),n--))}"."!==t[0]||2!==t.length||"."!==t[1]&&""!==t[1]||(e=!0,t.pop())}let n=0;for(;-1!==(n=t.indexOf("..",n+1));){const i=t[n-1];i&&"."!==i&&".."!==i&&"**"!==i&&(e=!0,t.splice(n-1,2),n-=2)}}while(e);return 0===t.length?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let n of t){let i=-1;for(;-1!==(i=n.indexOf("**",i+1));){let s=i;for(;"**"===n[s+1];)s++;s>i&&n.splice(i+1,s-i);let o=n[i+1];const r=n[i+2],a=n[i+3];if(".."!==o)continue;if(!r||"."===r||".."===r||!a||"."===a||".."===a)continue;e=!0,n.splice(i,1);const p=n.slice(0);p[i]="**",t.push(p),i--}if(!this.preserveMultipleSlashes){for(let t=1;t<n.length-1;t++){const i=n[t];1===t&&""===i&&""===n[0]||("."!==i&&""!==i||(e=!0,n.splice(t,1),t--))}"."!==n[0]||2!==n.length||"."!==n[1]&&""!==n[1]||(e=!0,n.pop())}let s=0;for(;-1!==(s=n.indexOf("..",s+1));){const t=n[s-1];if(t&&"."!==t&&".."!==t&&"**"!==t){e=!0;const t=1===s&&"**"===n[s+1]?["."]:[];n.splice(s-1,2,...t),0===n.length&&n.push(""),s-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let n=e+1;n<t.length;n++){const i=this.partsMatch(t[e],t[n],!this.preserveMultipleSlashes);if(i){t[e]=[],t[n]=i;break}}return t.filter((t=>t.length))}partsMatch(t,e,n=!1){let i=0,s=0,o=[],r="";for(;i<t.length&&s<e.length;)if(t[i]===e[s])o.push("b"===r?e[s]:t[i]),i++,s++;else if(n&&"**"===t[i]&&e[s]===t[i+1])o.push(t[i]),i++;else if(n&&"**"===e[s]&&t[i]===e[s+1])o.push(e[s]),s++;else if("*"!==t[i]||!e[s]||!this.options.dot&&e[s].startsWith(".")||"**"===e[s]){if("*"!==e[s]||!t[i]||!this.options.dot&&t[i].startsWith(".")||"**"===t[i])return!1;if("a"===r)return!1;r="b",o.push(e[s]),i++,s++}else{if("b"===r)return!1;r="a",o.push(t[i]),i++,s++}return t.length===e.length&&o}parseNegate(){if(this.nonegate)return;const t=this.pattern;let e=!1,n=0;for(let i=0;i<t.length&&"!"===t.charAt(i);i++)e=!e,n++;n&&(this.pattern=t.slice(n)),this.negate=e}matchOne(t,e,n=!1){const i=this.options;if(this.isWindows){const n="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),i=!n&&""===t[0]&&""===t[1]&&"?"===t[2]&&/^[a-z]:$/i.test(t[3]),s="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),o=i?3:n?0:void 0,r=!s&&""===e[0]&&""===e[1]&&"?"===e[2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3])?3:s?0:void 0;if("number"==typeof o&&"number"==typeof r){const[n,i]=[t[o],e[r]];n.toLowerCase()===i.toLowerCase()&&(e[r]=n,r>o?e=e.slice(r):o>r&&(t=t.slice(o)))}}const{optimizationLevel:s=1}=this.options;s>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var o=0,r=0,a=t.length,p=e.length;o<a&&r<p;o++,r++){this.debug("matchOne loop");var l=e[r],d=t[o];if(this.debug(e,l,d),!1===l)return!1;if(l===Be){this.debug("GLOBSTAR",[e,l,d]);var c=o,h=r+1;if(h===p){for(this.debug("** at the end");o<a;o++)if("."===t[o]||".."===t[o]||!i.dot&&"."===t[o].charAt(0))return!1;return!0}for(;c<a;){var g=t[c];if(this.debug("\nglobstar while",t,c,e,h,g),this.matchOne(t.slice(c),e.slice(h),n))return this.debug("globstar found match!",c,a,g),!0;if("."===g||".."===g||!i.dot&&"."===g.charAt(0)){this.debug("dot detected!",t,c,e,h);break}this.debug("globstar swallow a segment, and continue"),c++}return!(!n||(this.debug("\n>>> no match, partial?",t,c,e,h),c!==a))}let s;if("string"==typeof l?(s=d===l,this.debug("string match",l,d,s)):(s=l.test(d),this.debug("pattern match",l,d,s)),!s)return!1}if(o===a&&r===p)return!0;if(o===a)return n;if(r===p)return o===a-1&&""===t[o];throw new Error("wtf?")}braceExpand(){return We(this.pattern,this.options)}parse(t){se(t);const e=this.options;if("**"===t)return Be;if(""===t)return"";let n,i=null;(n=t.match(Ve))?i=e.dot?Ue:He:(n=t.match(ve))?i=(e.nocase?e.dot?je:xe:e.dot?Re:_e)(n[1]):(n=t.match(Se))?i=(e.nocase?e.dot?ze:Xe:e.dot?De:Me)(n):(n=t.match(Ce))?i=e.dot?Oe:Ne:(n=t.match(Le))&&(i=Pe);const s=Te.fromGlob(t,this.options).toMMPattern();return i&&"object"==typeof s&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const e=this.options,n=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=new Set(e.nocase?["i"]:[]);let s=t.map((t=>{const e=t.map((t=>{if(t instanceof RegExp)for(const e of t.flags.split(""))i.add(e);return"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t===Be?Be:t._src}));return e.forEach(((t,i)=>{const s=e[i+1],o=e[i-1];t===Be&&o!==Be&&(void 0===o?void 0!==s&&s!==Be?e[i+1]="(?:\\/|"+n+"\\/)?"+s:e[i]=n:void 0===s?e[i-1]=o+"(?:\\/|"+n+")?":s!==Be&&(e[i-1]=o+"(?:\\/|\\/"+n+"\\/)"+s,e[i+1]=Be))})),e.filter((t=>t!==Be)).join("/")})).join("|");const[o,r]=t.length>1?["(?:",")"]:["",""];s="^"+o+s+r+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch(a){this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;const n=this.options;this.isWindows&&(t=t.split("\\").join("/"));const i=this.slashSplit(t);this.debug(this.pattern,"split",i);const s=this.set;this.debug(this.pattern,"set",s);let o=i[i.length-1];if(!o)for(let r=i.length-2;!o&&r>=0;r--)o=i[r];for(let r=0;r<s.length;r++){const t=s[r];let a=i;n.matchBase&&1===t.length&&(a=[o]);if(this.matchOne(a,t,e))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate}static defaults(t){return Ee.defaults(t).Minimatch}}function Ke(t){const e=new Set([t.id?"id":void 0,t.title?"title":void 0,...Object.keys(t).sort()].filter(Boolean));return Array.from(e)}Ee.AST=Te,Ee.Minimatch=Ye,Ee.escape=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&"),Ee.unescape=le;const Ze=(t,e)=>{let n;return{collection:Object.values(e).find((e=>{if(!e.source||0===e.source.length)return;const i=vt(t);return("/"===i?["index.yml","index.yaml","index.md","index.json"]:[i]).some((t=>(n=e.source.find((e=>{var n;const i=Ee(t,e.include),s=null==(n=e.exclude)?void 0:n.some((e=>Ee(t,e)));return i&&!s})),n)))})),matchedSource:n}};function Ge(t,e){const n=function(t,e){const n=[],i=t.schema.definitions[t.name].properties;return Ke(i).forEach((s=>{const o=i[s],r=t.fields[s],a=void 0!==o.default?o.default:"NULL",p=void 0!==e[s]?e[s]:a;"json"===r?n.push(`'${JSON.stringify(p).replace(/'/g,"''")}'`):"string"===r||["string","enum"].includes(o.type)?["data","datetime"].includes(o.format)?n.push("NULL"!==p?`'${new Date(p).toISOString()}'`:a):n.push(`'${String(p).replace(/\n/g,"\\n").replace(/'/g,"''")}'`):"boolean"===r?n.push("NULL"!==p?!!p:p):n.push(p)})),n.push(`'${rt(n)}'`),n}(t,e);let i=0;return`INSERT INTO ${t.tableName} VALUES (${"?, ".repeat(n.length).slice(0,-2)})`.replace(/\?/g,(()=>n[i++]))}function Qe(t,e){return`DELETE FROM ${t.tableName} WHERE stem = '${e}';`}function Je(t,e,n){return`SELECT * FROM ${t.tableName} WHERE ${e} = '${n}';`}const tn=["https://nuxt.studio","https://dev.nuxt.studio"],en={get_started_en:{name:"get_started_en",pascalName:"GetStartedEn",tableName:"_content_get_started_en",source:[{_resolved:!0,prefix:"/en/get-started",include:"en/get-started/**/*.{md,yml}",exclude:["en/get-started/changelog/**"],cwd:"/home/runner/work/onerway-docs-next/onerway-docs-next/content"}],type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json",version:"string",category:"string",tags:"json",lastUpdated:"string",order:"number",draft:"boolean",showToc:"boolean",showNavigation:"boolean",layout:"string"},schema:{$ref:"#/definitions/get_started_en",definitions:{get_started_en:{type:"object",properties:{id:{type:"string"},stem:{type:"string"},extension:{type:"string",enum:["md","yaml","yml","json","csv","xml"]},meta:{type:"object",additionalProperties:{}},path:{type:"string"},title:{type:"string"},description:{type:"string"},seo:{allOf:[{type:"object",properties:{title:{type:"string"},description:{type:"string"}}},{type:"object",additionalProperties:{}}],default:{}},body:{type:"object",properties:{type:{type:"string"},children:{},toc:{}},required:["type"],additionalProperties:!1},navigation:{anyOf:[{type:"boolean"},{type:"object",properties:{title:{type:"string"},description:{type:"string"},icon:{type:"string"}},required:["title","description","icon"],additionalProperties:!1}],default:!0},version:{type:"string"},category:{type:"string"},tags:{type:"array",items:{type:"string"}},lastUpdated:{type:"string"},order:{type:"number"},draft:{type:"boolean",default:!1},showToc:{type:"boolean",default:!0},showNavigation:{type:"boolean",default:!0},layout:{type:"string"}},required:["id","stem","extension","meta","path","title","body"],additionalProperties:!1}},$schema:"http://json-schema.org/draft-07/schema#"},tableDefinition:'CREATE TABLE IF NOT EXISTS _content_get_started_en (id TEXT PRIMARY KEY, "title" VARCHAR, "body" TEXT, "category" VARCHAR, "description" VARCHAR, "draft" BOOLEAN DEFAULT false, "extension" VARCHAR, "lastUpdated" VARCHAR, "layout" VARCHAR, "meta" TEXT, "navigation" TEXT DEFAULT true, "order" INT, "path" VARCHAR, "seo" TEXT DEFAULT \'{}\', "showNavigation" BOOLEAN DEFAULT true, "showToc" BOOLEAN DEFAULT true, "stem" VARCHAR, "tags" TEXT, "version" VARCHAR, "__hash__" TEXT UNIQUE);'},get_started_zh_cn:{name:"get_started_zh_cn",pascalName:"GetStartedZhCn",tableName:"_content_get_started_zh_cn",source:[{_resolved:!0,prefix:"/zh-cn/get-started",include:"zh-cn/get-started/**/*.{md,yml}",exclude:["zh-cn/get-started/changelog/**"],cwd:"/home/runner/work/onerway-docs-next/onerway-docs-next/content"}],type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json",version:"string",category:"string",tags:"json",lastUpdated:"string",order:"number",draft:"boolean",showToc:"boolean",showNavigation:"boolean",layout:"string"},schema:{$ref:"#/definitions/get_started_zh_cn",definitions:{get_started_zh_cn:{type:"object",properties:{id:{type:"string"},stem:{type:"string"},extension:{type:"string",enum:["md","yaml","yml","json","csv","xml"]},meta:{type:"object",additionalProperties:{}},path:{type:"string"},title:{type:"string"},description:{type:"string"},seo:{allOf:[{type:"object",properties:{title:{type:"string"},description:{type:"string"}}},{type:"object",additionalProperties:{}}],default:{}},body:{type:"object",properties:{type:{type:"string"},children:{},toc:{}},required:["type"],additionalProperties:!1},navigation:{anyOf:[{type:"boolean"},{type:"object",properties:{title:{type:"string"},description:{type:"string"},icon:{type:"string"}},required:["title","description","icon"],additionalProperties:!1}],default:!0},version:{type:"string"},category:{type:"string"},tags:{type:"array",items:{type:"string"}},lastUpdated:{type:"string"},order:{type:"number"},draft:{type:"boolean",default:!1},showToc:{type:"boolean",default:!0},showNavigation:{type:"boolean",default:!0},layout:{type:"string"}},required:["id","stem","extension","meta","path","title","body"],additionalProperties:!1}},$schema:"http://json-schema.org/draft-07/schema#"},tableDefinition:'CREATE TABLE IF NOT EXISTS _content_get_started_zh_cn (id TEXT PRIMARY KEY, "title" VARCHAR, "body" TEXT, "category" VARCHAR, "description" VARCHAR, "draft" BOOLEAN DEFAULT false, "extension" VARCHAR, "lastUpdated" VARCHAR, "layout" VARCHAR, "meta" TEXT, "navigation" TEXT DEFAULT true, "order" INT, "path" VARCHAR, "seo" TEXT DEFAULT \'{}\', "showNavigation" BOOLEAN DEFAULT true, "showToc" BOOLEAN DEFAULT true, "stem" VARCHAR, "tags" TEXT, "version" VARCHAR, "__hash__" TEXT UNIQUE);'},get_started_zh_tw:{name:"get_started_zh_tw",pascalName:"GetStartedZhTw",tableName:"_content_get_started_zh_tw",source:[{_resolved:!0,prefix:"/zh-tw/get-started",include:"zh-tw/get-started/**/*.{md,yml}",exclude:["zh-tw/get-started/changelog/**"],cwd:"/home/runner/work/onerway-docs-next/onerway-docs-next/content"}],type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json",version:"string",category:"string",tags:"json",lastUpdated:"string",order:"number",draft:"boolean",showToc:"boolean",showNavigation:"boolean",layout:"string"},schema:{$ref:"#/definitions/get_started_zh_tw",definitions:{get_started_zh_tw:{type:"object",properties:{id:{type:"string"},stem:{type:"string"},extension:{type:"string",enum:["md","yaml","yml","json","csv","xml"]},meta:{type:"object",additionalProperties:{}},path:{type:"string"},title:{type:"string"},description:{type:"string"},seo:{allOf:[{type:"object",properties:{title:{type:"string"},description:{type:"string"}}},{type:"object",additionalProperties:{}}],default:{}},body:{type:"object",properties:{type:{type:"string"},children:{},toc:{}},required:["type"],additionalProperties:!1},navigation:{anyOf:[{type:"boolean"},{type:"object",properties:{title:{type:"string"},description:{type:"string"},icon:{type:"string"}},required:["title","description","icon"],additionalProperties:!1}],default:!0},version:{type:"string"},category:{type:"string"},tags:{type:"array",items:{type:"string"}},lastUpdated:{type:"string"},order:{type:"number"},draft:{type:"boolean",default:!1},showToc:{type:"boolean",default:!0},showNavigation:{type:"boolean",default:!0},layout:{type:"string"}},required:["id","stem","extension","meta","path","title","body"],additionalProperties:!1}},$schema:"http://json-schema.org/draft-07/schema#"},tableDefinition:'CREATE TABLE IF NOT EXISTS _content_get_started_zh_tw (id TEXT PRIMARY KEY, "title" VARCHAR, "body" TEXT, "category" VARCHAR, "description" VARCHAR, "draft" BOOLEAN DEFAULT false, "extension" VARCHAR, "lastUpdated" VARCHAR, "layout" VARCHAR, "meta" TEXT, "navigation" TEXT DEFAULT true, "order" INT, "path" VARCHAR, "seo" TEXT DEFAULT \'{}\', "showNavigation" BOOLEAN DEFAULT true, "showToc" BOOLEAN DEFAULT true, "stem" VARCHAR, "tags" TEXT, "version" VARCHAR, "__hash__" TEXT UNIQUE);'},payments_en:{name:"payments_en",pascalName:"PaymentsEn",tableName:"_content_payments_en",source:[{_resolved:!0,prefix:"/en/payments",include:"en/payments/**/*.{md,yml}",exclude:["en/payments/changelog/**"],cwd:"/home/runner/work/onerway-docs-next/onerway-docs-next/content"}],type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json",version:"string",category:"string",tags:"json",lastUpdated:"string",order:"number",draft:"boolean",showToc:"boolean",showNavigation:"boolean",layout:"string",apiMethod:"string",apiEndpoint:"string"},schema:{$ref:"#/definitions/payments_en",definitions:{payments_en:{type:"object",properties:{id:{type:"string"},stem:{type:"string"},extension:{type:"string",enum:["md","yaml","yml","json","csv","xml"]},meta:{type:"object",additionalProperties:{}},path:{type:"string"},title:{type:"string"},description:{type:"string"},seo:{allOf:[{type:"object",properties:{title:{type:"string"},description:{type:"string"}}},{type:"object",additionalProperties:{}}],default:{}},body:{type:"object",properties:{type:{type:"string"},children:{},toc:{}},required:["type"],additionalProperties:!1},navigation:{anyOf:[{type:"boolean"},{type:"object",properties:{title:{type:"string"},description:{type:"string"},icon:{type:"string"}},required:["title","description","icon"],additionalProperties:!1}],default:!0},version:{type:"string"},category:{type:"string"},tags:{type:"array",items:{type:"string"}},lastUpdated:{type:"string"},order:{type:"number"},draft:{type:"boolean",default:!1},showToc:{type:"boolean",default:!0},showNavigation:{type:"boolean",default:!0},layout:{type:"string"},apiMethod:{type:"string",enum:["GET","POST","PUT","DELETE","PATCH"]},apiEndpoint:{type:"string"}},required:["id","stem","extension","meta","path","title","body"],additionalProperties:!1}},$schema:"http://json-schema.org/draft-07/schema#"},tableDefinition:'CREATE TABLE IF NOT EXISTS _content_payments_en (id TEXT PRIMARY KEY, "title" VARCHAR, "apiEndpoint" VARCHAR, "apiMethod" VARCHAR, "body" TEXT, "category" VARCHAR, "description" VARCHAR, "draft" BOOLEAN DEFAULT false, "extension" VARCHAR, "lastUpdated" VARCHAR, "layout" VARCHAR, "meta" TEXT, "navigation" TEXT DEFAULT true, "order" INT, "path" VARCHAR, "seo" TEXT DEFAULT \'{}\', "showNavigation" BOOLEAN DEFAULT true, "showToc" BOOLEAN DEFAULT true, "stem" VARCHAR, "tags" TEXT, "version" VARCHAR, "__hash__" TEXT UNIQUE);'},payments_zh_cn:{name:"payments_zh_cn",pascalName:"PaymentsZhCn",tableName:"_content_payments_zh_cn",source:[{_resolved:!0,prefix:"/zh-cn/payments",include:"zh-cn/payments/**/*.{md,yml}",exclude:["zh-cn/payments/changelog/**"],cwd:"/home/runner/work/onerway-docs-next/onerway-docs-next/content"}],type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json",version:"string",category:"string",tags:"json",lastUpdated:"string",order:"number",draft:"boolean",showToc:"boolean",showNavigation:"boolean",layout:"string",apiMethod:"string",apiEndpoint:"string"},schema:{$ref:"#/definitions/payments_zh_cn",definitions:{payments_zh_cn:{type:"object",properties:{id:{type:"string"},stem:{type:"string"},extension:{type:"string",enum:["md","yaml","yml","json","csv","xml"]},meta:{type:"object",additionalProperties:{}},path:{type:"string"},title:{type:"string"},description:{type:"string"},seo:{allOf:[{type:"object",properties:{title:{type:"string"},description:{type:"string"}}},{type:"object",additionalProperties:{}}],default:{}},body:{type:"object",properties:{type:{type:"string"},children:{},toc:{}},required:["type"],additionalProperties:!1},navigation:{anyOf:[{type:"boolean"},{type:"object",properties:{title:{type:"string"},description:{type:"string"},icon:{type:"string"}},required:["title","description","icon"],additionalProperties:!1}],default:!0},version:{type:"string"},category:{type:"string"},tags:{type:"array",items:{type:"string"}},lastUpdated:{type:"string"},order:{type:"number"},draft:{type:"boolean",default:!1},showToc:{type:"boolean",default:!0},showNavigation:{type:"boolean",default:!0},layout:{type:"string"},apiMethod:{type:"string",enum:["GET","POST","PUT","DELETE","PATCH"]},apiEndpoint:{type:"string"}},required:["id","stem","extension","meta","path","title","body"],additionalProperties:!1}},$schema:"http://json-schema.org/draft-07/schema#"},tableDefinition:'CREATE TABLE IF NOT EXISTS _content_payments_zh_cn (id TEXT PRIMARY KEY, "title" VARCHAR, "apiEndpoint" VARCHAR, "apiMethod" VARCHAR, "body" TEXT, "category" VARCHAR, "description" VARCHAR, "draft" BOOLEAN DEFAULT false, "extension" VARCHAR, "lastUpdated" VARCHAR, "layout" VARCHAR, "meta" TEXT, "navigation" TEXT DEFAULT true, "order" INT, "path" VARCHAR, "seo" TEXT DEFAULT \'{}\', "showNavigation" BOOLEAN DEFAULT true, "showToc" BOOLEAN DEFAULT true, "stem" VARCHAR, "tags" TEXT, "version" VARCHAR, "__hash__" TEXT UNIQUE);'},payments_zh_tw:{name:"payments_zh_tw",pascalName:"PaymentsZhTw",tableName:"_content_payments_zh_tw",source:[{_resolved:!0,prefix:"/zh-tw/payments",include:"zh-tw/payments/**/*.{md,yml}",exclude:["zh-tw/payments/changelog/**"],cwd:"/home/runner/work/onerway-docs-next/onerway-docs-next/content"}],type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json",version:"string",category:"string",tags:"json",lastUpdated:"string",order:"number",draft:"boolean",showToc:"boolean",showNavigation:"boolean",layout:"string",apiMethod:"string",apiEndpoint:"string"},schema:{$ref:"#/definitions/payments_zh_tw",definitions:{payments_zh_tw:{type:"object",properties:{id:{type:"string"},stem:{type:"string"},extension:{type:"string",enum:["md","yaml","yml","json","csv","xml"]},meta:{type:"object",additionalProperties:{}},path:{type:"string"},title:{type:"string"},description:{type:"string"},seo:{allOf:[{type:"object",properties:{title:{type:"string"},description:{type:"string"}}},{type:"object",additionalProperties:{}}],default:{}},body:{type:"object",properties:{type:{type:"string"},children:{},toc:{}},required:["type"],additionalProperties:!1},navigation:{anyOf:[{type:"boolean"},{type:"object",properties:{title:{type:"string"},description:{type:"string"},icon:{type:"string"}},required:["title","description","icon"],additionalProperties:!1}],default:!0},version:{type:"string"},category:{type:"string"},tags:{type:"array",items:{type:"string"}},lastUpdated:{type:"string"},order:{type:"number"},draft:{type:"boolean",default:!1},showToc:{type:"boolean",default:!0},showNavigation:{type:"boolean",default:!0},layout:{type:"string"},apiMethod:{type:"string",enum:["GET","POST","PUT","DELETE","PATCH"]},apiEndpoint:{type:"string"}},required:["id","stem","extension","meta","path","title","body"],additionalProperties:!1}},$schema:"http://json-schema.org/draft-07/schema#"},tableDefinition:'CREATE TABLE IF NOT EXISTS _content_payments_zh_tw (id TEXT PRIMARY KEY, "title" VARCHAR, "apiEndpoint" VARCHAR, "apiMethod" VARCHAR, "body" TEXT, "category" VARCHAR, "description" VARCHAR, "draft" BOOLEAN DEFAULT false, "extension" VARCHAR, "lastUpdated" VARCHAR, "layout" VARCHAR, "meta" TEXT, "navigation" TEXT DEFAULT true, "order" INT, "path" VARCHAR, "seo" TEXT DEFAULT \'{}\', "showNavigation" BOOLEAN DEFAULT true, "showToc" BOOLEAN DEFAULT true, "stem" VARCHAR, "tags" TEXT, "version" VARCHAR, "__hash__" TEXT UNIQUE);'},payouts_en:{name:"payouts_en",pascalName:"PayoutsEn",tableName:"_content_payouts_en",source:[{_resolved:!0,prefix:"/en/payouts",include:"en/payouts/**/*.{md,yml}",exclude:["en/payouts/changelog/**"],cwd:"/home/runner/work/onerway-docs-next/onerway-docs-next/content"}],type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json",version:"string",category:"string",tags:"json",lastUpdated:"string",order:"number",draft:"boolean",showToc:"boolean",showNavigation:"boolean",layout:"string"},schema:{$ref:"#/definitions/payouts_en",definitions:{payouts_en:{type:"object",properties:{id:{type:"string"},stem:{type:"string"},extension:{type:"string",enum:["md","yaml","yml","json","csv","xml"]},meta:{type:"object",additionalProperties:{}},path:{type:"string"},title:{type:"string"},description:{type:"string"},seo:{allOf:[{type:"object",properties:{title:{type:"string"},description:{type:"string"}}},{type:"object",additionalProperties:{}}],default:{}},body:{type:"object",properties:{type:{type:"string"},children:{},toc:{}},required:["type"],additionalProperties:!1},navigation:{anyOf:[{type:"boolean"},{type:"object",properties:{title:{type:"string"},description:{type:"string"},icon:{type:"string"}},required:["title","description","icon"],additionalProperties:!1}],default:!0},version:{type:"string"},category:{type:"string"},tags:{type:"array",items:{type:"string"}},lastUpdated:{type:"string"},order:{type:"number"},draft:{type:"boolean",default:!1},showToc:{type:"boolean",default:!0},showNavigation:{type:"boolean",default:!0},layout:{type:"string"}},required:["id","stem","extension","meta","path","title","body"],additionalProperties:!1}},$schema:"http://json-schema.org/draft-07/schema#"},tableDefinition:'CREATE TABLE IF NOT EXISTS _content_payouts_en (id TEXT PRIMARY KEY, "title" VARCHAR, "body" TEXT, "category" VARCHAR, "description" VARCHAR, "draft" BOOLEAN DEFAULT false, "extension" VARCHAR, "lastUpdated" VARCHAR, "layout" VARCHAR, "meta" TEXT, "navigation" TEXT DEFAULT true, "order" INT, "path" VARCHAR, "seo" TEXT DEFAULT \'{}\', "showNavigation" BOOLEAN DEFAULT true, "showToc" BOOLEAN DEFAULT true, "stem" VARCHAR, "tags" TEXT, "version" VARCHAR, "__hash__" TEXT UNIQUE);'},payouts_zh_cn:{name:"payouts_zh_cn",pascalName:"PayoutsZhCn",tableName:"_content_payouts_zh_cn",source:[{_resolved:!0,prefix:"/zh-cn/payouts",include:"zh-cn/payouts/**/*.{md,yml}",exclude:["zh-cn/payouts/changelog/**"],cwd:"/home/runner/work/onerway-docs-next/onerway-docs-next/content"}],type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json",version:"string",category:"string",tags:"json",lastUpdated:"string",order:"number",draft:"boolean",showToc:"boolean",showNavigation:"boolean",layout:"string"},schema:{$ref:"#/definitions/payouts_zh_cn",definitions:{payouts_zh_cn:{type:"object",properties:{id:{type:"string"},stem:{type:"string"},extension:{type:"string",enum:["md","yaml","yml","json","csv","xml"]},meta:{type:"object",additionalProperties:{}},path:{type:"string"},title:{type:"string"},description:{type:"string"},seo:{allOf:[{type:"object",properties:{title:{type:"string"},description:{type:"string"}}},{type:"object",additionalProperties:{}}],default:{}},body:{type:"object",properties:{type:{type:"string"},children:{},toc:{}},required:["type"],additionalProperties:!1},navigation:{anyOf:[{type:"boolean"},{type:"object",properties:{title:{type:"string"},description:{type:"string"},icon:{type:"string"}},required:["title","description","icon"],additionalProperties:!1}],default:!0},version:{type:"string"},category:{type:"string"},tags:{type:"array",items:{type:"string"}},lastUpdated:{type:"string"},order:{type:"number"},draft:{type:"boolean",default:!1},showToc:{type:"boolean",default:!0},showNavigation:{type:"boolean",default:!0},layout:{type:"string"}},required:["id","stem","extension","meta","path","title","body"],additionalProperties:!1}},$schema:"http://json-schema.org/draft-07/schema#"},tableDefinition:'CREATE TABLE IF NOT EXISTS _content_payouts_zh_cn (id TEXT PRIMARY KEY, "title" VARCHAR, "body" TEXT, "category" VARCHAR, "description" VARCHAR, "draft" BOOLEAN DEFAULT false, "extension" VARCHAR, "lastUpdated" VARCHAR, "layout" VARCHAR, "meta" TEXT, "navigation" TEXT DEFAULT true, "order" INT, "path" VARCHAR, "seo" TEXT DEFAULT \'{}\', "showNavigation" BOOLEAN DEFAULT true, "showToc" BOOLEAN DEFAULT true, "stem" VARCHAR, "tags" TEXT, "version" VARCHAR, "__hash__" TEXT UNIQUE);'},payouts_zh_tw:{name:"payouts_zh_tw",pascalName:"PayoutsZhTw",tableName:"_content_payouts_zh_tw",source:[{_resolved:!0,prefix:"/zh-tw/payouts",include:"zh-tw/payouts/**/*.{md,yml}",exclude:["zh-tw/payouts/changelog/**"],cwd:"/home/runner/work/onerway-docs-next/onerway-docs-next/content"}],type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json",version:"string",category:"string",tags:"json",lastUpdated:"string",order:"number",draft:"boolean",showToc:"boolean",showNavigation:"boolean",layout:"string"},schema:{$ref:"#/definitions/payouts_zh_tw",definitions:{payouts_zh_tw:{type:"object",properties:{id:{type:"string"},stem:{type:"string"},extension:{type:"string",enum:["md","yaml","yml","json","csv","xml"]},meta:{type:"object",additionalProperties:{}},path:{type:"string"},title:{type:"string"},description:{type:"string"},seo:{allOf:[{type:"object",properties:{title:{type:"string"},description:{type:"string"}}},{type:"object",additionalProperties:{}}],default:{}},body:{type:"object",properties:{type:{type:"string"},children:{},toc:{}},required:["type"],additionalProperties:!1},navigation:{anyOf:[{type:"boolean"},{type:"object",properties:{title:{type:"string"},description:{type:"string"},icon:{type:"string"}},required:["title","description","icon"],additionalProperties:!1}],default:!0},version:{type:"string"},category:{type:"string"},tags:{type:"array",items:{type:"string"}},lastUpdated:{type:"string"},order:{type:"number"},draft:{type:"boolean",default:!1},showToc:{type:"boolean",default:!0},showNavigation:{type:"boolean",default:!0},layout:{type:"string"}},required:["id","stem","extension","meta","path","title","body"],additionalProperties:!1}},$schema:"http://json-schema.org/draft-07/schema#"},tableDefinition:'CREATE TABLE IF NOT EXISTS _content_payouts_zh_tw (id TEXT PRIMARY KEY, "title" VARCHAR, "body" TEXT, "category" VARCHAR, "description" VARCHAR, "draft" BOOLEAN DEFAULT false, "extension" VARCHAR, "lastUpdated" VARCHAR, "layout" VARCHAR, "meta" TEXT, "navigation" TEXT DEFAULT true, "order" INT, "path" VARCHAR, "seo" TEXT DEFAULT \'{}\', "showNavigation" BOOLEAN DEFAULT true, "showToc" BOOLEAN DEFAULT true, "stem" VARCHAR, "tags" TEXT, "version" VARCHAR, "__hash__" TEXT UNIQUE);'},changelog_en:{name:"changelog_en",pascalName:"ChangelogEn",tableName:"_content_changelog_en",source:[{_resolved:!0,prefix:"/en",include:"en/**/changelog/*.md",cwd:"/home/runner/work/onerway-docs-next/onerway-docs-next/content"}],type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json",version:"string",releaseDate:"string",type:"string",domain:"string",breaking:"boolean",features:"json",fixes:"json",improvements:"json",showToc:"boolean",showNavigation:"boolean",layout:"string"},schema:{$ref:"#/definitions/changelog_en",definitions:{changelog_en:{type:"object",properties:{id:{type:"string"},stem:{type:"string"},extension:{type:"string",enum:["md","yaml","yml","json","csv","xml"]},meta:{type:"object",additionalProperties:{}},path:{type:"string"},title:{type:"string"},description:{type:"string"},seo:{allOf:[{type:"object",properties:{title:{type:"string"},description:{type:"string"}}},{type:"object",additionalProperties:{}}],default:{}},body:{type:"object",properties:{type:{type:"string"},children:{},toc:{}},required:["type"],additionalProperties:!1},navigation:{anyOf:[{type:"boolean"},{type:"object",properties:{title:{type:"string"},description:{type:"string"},icon:{type:"string"}},required:["title","description","icon"],additionalProperties:!1}],default:!0},version:{type:"string"},releaseDate:{type:"string"},type:{type:"string",enum:["major","minor","patch"]},domain:{type:"string",enum:["get-started","payments","payouts"]},breaking:{type:"boolean",default:!1},features:{type:"array",items:{type:"string"}},fixes:{type:"array",items:{type:"string"}},improvements:{type:"array",items:{type:"string"}},showToc:{type:"boolean",default:!0},showNavigation:{type:"boolean",default:!0},layout:{type:"string"}},required:["id","stem","extension","meta","path","title","body","version","releaseDate","type","domain"],additionalProperties:!1}},$schema:"http://json-schema.org/draft-07/schema#"},tableDefinition:'CREATE TABLE IF NOT EXISTS _content_changelog_en (id TEXT PRIMARY KEY, "title" VARCHAR, "body" TEXT, "breaking" BOOLEAN DEFAULT false, "description" VARCHAR, "domain" VARCHAR, "extension" VARCHAR, "features" TEXT, "fixes" TEXT, "improvements" TEXT, "layout" VARCHAR, "meta" TEXT, "navigation" TEXT DEFAULT true, "path" VARCHAR, "releaseDate" VARCHAR, "seo" TEXT DEFAULT \'{}\', "showNavigation" BOOLEAN DEFAULT true, "showToc" BOOLEAN DEFAULT true, "stem" VARCHAR, "type" VARCHAR, "version" VARCHAR, "__hash__" TEXT UNIQUE);'},changelog_zh_cn:{name:"changelog_zh_cn",pascalName:"ChangelogZhCn",tableName:"_content_changelog_zh_cn",source:[{_resolved:!0,prefix:"/zh-cn",include:"zh-cn/**/changelog/*.md",cwd:"/home/runner/work/onerway-docs-next/onerway-docs-next/content"}],type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json",version:"string",releaseDate:"string",type:"string",domain:"string",breaking:"boolean",features:"json",fixes:"json",improvements:"json",showToc:"boolean",showNavigation:"boolean",layout:"string"},schema:{$ref:"#/definitions/changelog_zh_cn",definitions:{changelog_zh_cn:{type:"object",properties:{id:{type:"string"},stem:{type:"string"},extension:{type:"string",enum:["md","yaml","yml","json","csv","xml"]},meta:{type:"object",additionalProperties:{}},path:{type:"string"},title:{type:"string"},description:{type:"string"},seo:{allOf:[{type:"object",properties:{title:{type:"string"},description:{type:"string"}}},{type:"object",additionalProperties:{}}],default:{}},body:{type:"object",properties:{type:{type:"string"},children:{},toc:{}},required:["type"],additionalProperties:!1},navigation:{anyOf:[{type:"boolean"},{type:"object",properties:{title:{type:"string"},description:{type:"string"},icon:{type:"string"}},required:["title","description","icon"],additionalProperties:!1}],default:!0},version:{type:"string"},releaseDate:{type:"string"},type:{type:"string",enum:["major","minor","patch"]},domain:{type:"string",enum:["get-started","payments","payouts"]},breaking:{type:"boolean",default:!1},features:{type:"array",items:{type:"string"}},fixes:{type:"array",items:{type:"string"}},improvements:{type:"array",items:{type:"string"}},showToc:{type:"boolean",default:!0},showNavigation:{type:"boolean",default:!0},layout:{type:"string"}},required:["id","stem","extension","meta","path","title","body","version","releaseDate","type","domain"],additionalProperties:!1}},$schema:"http://json-schema.org/draft-07/schema#"},tableDefinition:'CREATE TABLE IF NOT EXISTS _content_changelog_zh_cn (id TEXT PRIMARY KEY, "title" VARCHAR, "body" TEXT, "breaking" BOOLEAN DEFAULT false, "description" VARCHAR, "domain" VARCHAR, "extension" VARCHAR, "features" TEXT, "fixes" TEXT, "improvements" TEXT, "layout" VARCHAR, "meta" TEXT, "navigation" TEXT DEFAULT true, "path" VARCHAR, "releaseDate" VARCHAR, "seo" TEXT DEFAULT \'{}\', "showNavigation" BOOLEAN DEFAULT true, "showToc" BOOLEAN DEFAULT true, "stem" VARCHAR, "type" VARCHAR, "version" VARCHAR, "__hash__" TEXT UNIQUE);'},changelog_zh_tw:{name:"changelog_zh_tw",pascalName:"ChangelogZhTw",tableName:"_content_changelog_zh_tw",source:[{_resolved:!0,prefix:"/zh-tw",include:"zh-tw/**/changelog/*.md",cwd:"/home/runner/work/onerway-docs-next/onerway-docs-next/content"}],type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json",version:"string",releaseDate:"string",type:"string",domain:"string",breaking:"boolean",features:"json",fixes:"json",improvements:"json",showToc:"boolean",showNavigation:"boolean",layout:"string"},schema:{$ref:"#/definitions/changelog_zh_tw",definitions:{changelog_zh_tw:{type:"object",properties:{id:{type:"string"},stem:{type:"string"},extension:{type:"string",enum:["md","yaml","yml","json","csv","xml"]},meta:{type:"object",additionalProperties:{}},path:{type:"string"},title:{type:"string"},description:{type:"string"},seo:{allOf:[{type:"object",properties:{title:{type:"string"},description:{type:"string"}}},{type:"object",additionalProperties:{}}],default:{}},body:{type:"object",properties:{type:{type:"string"},children:{},toc:{}},required:["type"],additionalProperties:!1},navigation:{anyOf:[{type:"boolean"},{type:"object",properties:{title:{type:"string"},description:{type:"string"},icon:{type:"string"}},required:["title","description","icon"],additionalProperties:!1}],default:!0},version:{type:"string"},releaseDate:{type:"string"},type:{type:"string",enum:["major","minor","patch"]},domain:{type:"string",enum:["get-started","payments","payouts"]},breaking:{type:"boolean",default:!1},features:{type:"array",items:{type:"string"}},fixes:{type:"array",items:{type:"string"}},improvements:{type:"array",items:{type:"string"}},showToc:{type:"boolean",default:!0},showNavigation:{type:"boolean",default:!0},layout:{type:"string"}},required:["id","stem","extension","meta","path","title","body","version","releaseDate","type","domain"],additionalProperties:!1}},$schema:"http://json-schema.org/draft-07/schema#"},tableDefinition:'CREATE TABLE IF NOT EXISTS _content_changelog_zh_tw (id TEXT PRIMARY KEY, "title" VARCHAR, "body" TEXT, "breaking" BOOLEAN DEFAULT false, "description" VARCHAR, "domain" VARCHAR, "extension" VARCHAR, "features" TEXT, "fixes" TEXT, "improvements" TEXT, "layout" VARCHAR, "meta" TEXT, "navigation" TEXT DEFAULT true, "path" VARCHAR, "releaseDate" VARCHAR, "seo" TEXT DEFAULT \'{}\', "showNavigation" BOOLEAN DEFAULT true, "showToc" BOOLEAN DEFAULT true, "stem" VARCHAR, "type" VARCHAR, "version" VARCHAR, "__hash__" TEXT UNIQUE);'},metadata:{name:"metadata",pascalName:"Metadata",tableName:"_content_metadata",source:[{_resolved:!0,prefix:"/metadata",include:"metadata/*.yml",cwd:"/home/runner/work/onerway-docs-next/onerway-docs-next/content"}],type:"data",fields:{id:"string",stem:"string",extension:"string",meta:"json",domain:"string",currentVersion:"string",availableVersions:"json",languages:"json"},schema:{$ref:"#/definitions/metadata",definitions:{metadata:{type:"object",properties:{id:{type:"string"},stem:{type:"string"},extension:{type:"string",enum:["md","yaml","yml","json","csv","xml"]},meta:{type:"object",additionalProperties:{}},domain:{type:"string"},currentVersion:{type:"string"},availableVersions:{type:"array",items:{type:"object",properties:{version:{type:"string"},status:{type:"string",enum:["current","deprecated","legacy"]},supportedUntil:{type:"string"}},required:["version","status"],additionalProperties:!1}},languages:{type:"array",items:{type:"object",properties:{code:{type:"string"},name:{type:"string"},completeness:{type:"number",minimum:0,maximum:100}},required:["code","name","completeness"],additionalProperties:!1}}},required:["id","stem","extension","meta","domain","currentVersion","availableVersions","languages"],additionalProperties:!1}},$schema:"http://json-schema.org/draft-07/schema#"},tableDefinition:'CREATE TABLE IF NOT EXISTS _content_metadata (id TEXT PRIMARY KEY, "availableVersions" TEXT, "currentVersion" VARCHAR, "domain" VARCHAR, "extension" VARCHAR, "languages" TEXT, "meta" TEXT, "stem" VARCHAR, "__hash__" TEXT UNIQUE);'},info:{name:"info",pascalName:"Info",tableName:"_content_info",source:[],type:"data",fields:{},schema:{$ref:"#/definitions/info",definitions:{info:{type:"object",properties:{id:{type:"string"},version:{type:"string"},structureVersion:{type:"string"},ready:{type:"boolean"}},required:["id","version","structureVersion","ready"],additionalProperties:!1}},$schema:"http://json-schema.org/draft-07/schema#"},tableDefinition:'CREATE TABLE IF NOT EXISTS _content_info (id TEXT PRIMARY KEY, "ready" BOOLEAN, "structureVersion" VARCHAR, "version" VARCHAR, "__hash__" TEXT UNIQUE);'}},nn=C(!1),sn=(t=>{let e;return n=>(e||(e=t()),e)})((()=>JSON.parse(JSON.stringify(Q())))),on=async t=>{const e=function(t=[],e,n){const i=[...e||[]],s=[...n||[]],o=JSON.parse(JSON.stringify(t));for(const a of i)if(a.new)o.push({path:a.path,parsed:a.parsed});else if(a.oldPath)if(s.splice(s.findIndex((t=>t.path===a.oldPath)),1),i.find((t=>t.path===a.oldPath)))o.push({path:a.path,parsed:a.parsed});else{const t=o.find((t=>t.path===a.oldPath));t&&(t.path=a.path,a.parsed?t.parsed=a.parsed:a.pathMeta&&["_file","_path","_id","_locale"].forEach((e=>{t.parsed[e]=a.pathMeta[e]})))}else{const t=o.find((t=>t.path===a.path));t?Object.assign(t,{path:a.path,parsed:a.parsed}):o.push({path:a.path,parsed:a.parsed})}for(const a of s)o.splice(o.findIndex((t=>t.path===a.path)),1);const r=new Intl.Collator(void 0,{numeric:!0});return o.sort(((t,e)=>r.compare(t.path,e.path))),o}(t.files,t.additions,t.deletions),n=e.filter((t=>![Et.appConfig,Et.appConfigV4,Et.nuxtConfig].includes(t.path)));for(const s of Object.values(en)){const t=tt(s.name);await t.exec(s.tableDefinition)}for(const s of n)await rn(en,s);const i=e.find((t=>[Et.appConfig,Et.appConfigV4].includes(t.path)));i&&an(i.parsed),Z(),nn.value=!0},rn=async(t,e)=>{const{collection:n,matchedSource:i}=Ze(e.path,t);if(!n||!i)return void console.warn(`Content Preview: collection not found for file: ${e.path}, skipping insertion.`);const s=tt(n.name),o=Ge(n,Ot(e,n,i));await s.exec(o)},an=t=>{const e=x(),n=G(e,Q);Ct(n,xt(t||{},sn)),t||jt(n,sn)};function pn(){const t=q().public.preview||{},e=window.sessionStorage.getItem("previewToken"),n=document.createElement("div");n.id="__nuxt_preview_wrapper",document.body.appendChild(n),Y(dt,{previewToken:e,api:window.sessionStorage.getItem("previewAPI")||(null==t?void 0:t.api),initializePreview:on}).mount(n)}function ln(){const t=x(),e=q().public.preview;if(!window.parent||window.self===window.parent)return;const n=j(),i=K();async function s(){if(!nn.value)return;const t=i.path,{collection:e}=((t,e)=>{let n;return{collection:Object.values(e).find((e=>{if(e.source&&0!==e.source.length)return n=e.source.find((e=>{var n;if(!e.prefix)return;const i=_t(e.prefix,!0);if(!t.startsWith(i))return;if("/"===t){const n=["index.yml","index.yaml","index.md","index.json"];return("/"===t?n:n.map((t=>k(W(i,t))))).some((t=>{var n;const i=Ee(t,_t(e.include)),s=null==(n=e.exclude)?void 0:n.some((e=>Ee(t,_t(e))));return i&&!s}))}const{fixed:s}=Nt(e),o=_t(s||""),r=t.substring(i.length),a=W(o,r),p=t=>t.replace(/\.[^/.]+$/,""),l=Ee(a,p(_t(e.include))),d=null==(n=e.exclude)?void 0:n.some((t=>Ee(a,p(_t(t)))));return l&&!d})),n})),matchedSource:n}})(t,en);if(!e||"page"!==e.type)return void window.sendNavigateMessageInPreview(t,!1);const n=tt(e.name),s=Je(e,"path",t),o=await n.first(s);window.sendNavigateMessageInPreview(t,!!(null==o?void 0:o.path))}window.addEventListener("keydown",(t=>{(t.metaKey||t.ctrlKey||t.altKey||t.shiftKey)&&window.parent.postMessage({type:"nuxt-content:preview:keydown",payload:{key:t.key,metaKey:t.metaKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey}},"*")})),window.addEventListener("message",(async t=>{var s;if(!nn.value)return;const o=(null==(s=null==e?void 0:e.iframeMessagingAllowedOrigins)?void 0:s.split(",").map((t=>t.trim())))||[];if(!["http://localhost:3000",...tn,...o].includes(t.origin))return;const{type:r,payload:a={},navigate:p}=t.data||{};switch(r){case"nuxt-content:editor:file-selected":await async function(t){if(!t)return;const{collection:e}=Ze(vt(t),en);if(!e)return void console.warn(`Content Preview: collection not found for file: ${t}, skipping navigation.`);if("page"!==e.type)return;const s=tt(e.name),o=Rt(t),r=Je(e,"stem",o),a=await s.first(r);if(!a||!a.path)return;const p=n.resolve(a.path);if(!p||!p.matched||0===p.matched.length)return;a.path!==i.path&&n.push(a.path)}(a.path);break;case"nuxt-content:editor:file-changed":case"nuxt-content:editor:media-changed":{const{additions:t=[],deletions:e=[]}=a;for(const n of t)await l(n,p);for(const n of e)await d(n.path);!async function(){await x().hooks.callHookParallel("app:data:refresh")}();break}case"nuxt-content:config:file-changed":{const{additions:t=[],deletions:e=[]}=a,n=t.find((t=>[Et.appConfig,Et.appConfigV4].includes(t.path)));n&&an(null==n?void 0:n.parsed);e.find((t=>[Et.appConfig,Et.appConfigV4].includes(t.path)))&&an(void 0)}}async function l(t,e){const{collection:s,matchedSource:o}=Ze(t.path,en);if(!s||!o)return void console.warn(`Content Preview: collection not found for file: ${t.path}, skipping update.`);const r=function(t,e,n){return`${Qe(t,e)}; ${Ge(t,n)}`}(s,Rt(t.path),Ot({path:t.path,parsed:t.parsed},s,o)),a=tt(s.name);if(await a.exec(r),"page"!==s.type||!t.pathRoute)return;const p=B(t.pathRoute);if(e&&p!==i.path){const t=n.resolve(p);if(!t||!t.matched||0===t.matched.length)return;n.push(p)}}async function d(t){const{collection:e}=Ze(vt(t),en);if(!e)return void console.warn(`Content Preview: collection not found for file: ${t}, skipping deletion.`);const n=Qe(e,Rt(t)),i=tt(e.name);await i.exec(n)}})),t.hook("page:finish",(()=>{s()})),t.hook("nuxt-content:preview:ready",(()=>{window.parent.postMessage({type:"nuxt-content:preview:ready"},"*")})),window.sendNavigateMessageInPreview=(t,e)=>{window.parent.postMessage({type:"nuxt-content:preview:navigate",payload:{path:t,navigate:e}},"*")}}export{ln as initIframeCommunication,pn as mountPreviewUI};
