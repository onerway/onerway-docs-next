import{D as t,v as a,A as e,aY as n,H as l,e as o,b$ as i,W as r,bi as s,c0 as c,bp as d,d as u,g as h,w as p,aT as g,U as m,f,bj as v,b7 as b,bl as y,bm as x}from"#entry";import{_}from"./CEjEJbNn.js";import{_ as w}from"./Bylju2po.js";import{_ as k}from"./SRxIwu9j.js";const j=t({__name:"DocsNavigation",props:{navigation:{},color:{default:"primary"},highlight:{type:Boolean,default:!0},orientation:{default:"vertical"},collapsible:{type:Boolean},type:{default:"multiple"},trailingIcon:{default:"i-lucide-chevron-right"},moduleUi:{default:()=>({group:"border-t border-default mt-3 py-2 text-highlighted font-bold aria-[disabled=true]:text-default aria-[disabled=true]:cursor-not-allowed",label:""})}},setup(t){const s=t,c=a(),d=n();function u(t,a){if(t)for(const e of t){e.module&&e.path&&a.add(e.path),e.children?.length&&u(e.children,a)}}function h(t,a){return t?t.map(t=>{const e={...t};return e.to&&a.has(e.to)&&(e.class=[e.class,s.moduleUi.group].filter(Boolean).join(" "),e.labelClass=[e.labelClass,s.moduleUi.label].filter(Boolean).join(" "),e["data-module"]=!0,e.ui={linkTrailingIcon:"hidden"},e.disabled=!0,e.defaultOpen=!0),Array.isArray(e.children)&&e.children.length&&(e.children=h(e.children,a)),e}):t}const p=e(()=>{const t=function t(a){return a.map(a=>{const e=Array.isArray(a.children)&&a.children.length>0,n=!!e&&a.children.some(t=>t.path===a.path),l={label:String(a.title||""),value:String(a.path||"")};e&&n||(l.to=String(a.path||"")),e&&(l.children=t(a.children),l.defaultOpen=c.path.startsWith(a.path));const o=a;return o.icon&&(l.icon=o.icon),l})}(s.navigation),a=new Set;return u(s.navigation,a),h(t,a)});d.info("navigation",p?.value);const g=t=>{d.info("navigation model-value changed",t)};return(t,a)=>{const e=i;return o(),l(e,{items:r(p),highlight:t.highlight,"trailing-icon":t.trailingIcon,color:t.color,orientation:t.orientation,variant:"link",type:t.type,ui:{label:"px-0 py-0",link:"cursor-pointer px-0.5 py-1 font-normal data-[state=open]:font-medium",linkLabel:"line-clamp-2 text-wrap text-sm text-left",childList:"ms-1.5 border-none",childItem:"font-bold",linkTrailing:"self-start",linkTrailingIcon:"group-data-[state=open]:rotate-90"},class:"sm:mt-8","onUpdate:modelValue":g},null,8,["items","highlight","trailing-icon","color","orientation","type"])}}}),I=Object.assign(j,{__name:"DocsNavigation"}),N={class:"min-h-screen"},A=t({__name:"docs",async setup(t){let i,j;const A=a(),U=n(),{pathInfo:$}=s();U.info("module信息",$.value.module);const{data:B}=([i,j]=c(()=>v(b(A.path),async()=>{const t=$.value;if(!t.collectionName)throw y({statusCode:404,statusMessage:"Collection not found"});return x(t.collectionName).path(t.contentPath).first()},"$XHYI4-VaW0")),i=await i,j(),i),C=d("navigation"),S=e(()=>`${$.value.module||"root"}:${C?.value&&C.value.length?"ready":"loading"}`),T=e(()=>C?.value||[]);U.info("safeNavigation",T.value);const D={root:"border-r border-default max-w-3xs"};return(t,a)=>{const e=I,n=_,i=w,s=g,c=k;return o(),u("div",N,[h(c,null,{default:p(()=>[h(s,{class:"max-w-8xl px-4 sm:px-4 lg:px-4"},{default:p(()=>[h(i,null,{left:p(()=>[r(B)?.showNavigation&&r(T).length>0?(o(),l(n,{key:0,ui:D,class:"-translate-y-6"},{default:p(()=>[(o(),l(e,{key:r(S),navigation:r(T),highlight:"",color:"primary",orientation:"vertical",type:"multiple",class:"sm:mt-12"},null,8,["navigation"]))]),_:1})):f("",!0)]),default:p(()=>[m(t.$slots,"default")]),_:3})]),_:3})]),_:3})])}}});export{A as default};
