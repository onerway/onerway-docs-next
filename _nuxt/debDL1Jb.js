import{A as e,B as t,C as i,D as a,E as n,G as l,H as s,e as r,I as u,V as o,d as c,f as d,F as h,J as p,K as g,L as f,M as m,N as v,O as y,P as b,r as A,Q as x,R as C,S as k,w as E,U as F,W as B,X as L,Y as S,Z as M,g as _,$ as D,a0 as I,a1 as w,o as q,c as $,a2 as K,a3 as O,a4 as T,a5 as R,a6 as j,a7 as P,a8 as H,a9 as N,aa as V,z,ab as W,ac as U,ad as G,ae as J,af as Q,ag as X,ah as Y,ai as Z,aj as ee,n as te,ak as ie,al as ae,t as ne,am as le,an as se,ao as re,ap as ue,h as oe,aq as ce,ar as de,as as he,at as pe,au as ge,av as fe,aw as me,ax as ve,ay as ye,az as be,aA as Ae,aB as xe,aC as Ce,aD as ke,aE as Ee}from"#entry";import{f as Fe}from"./C3NS0hSO.js";var Be=a({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(t){const i=t,{primitiveElement:a,currentElement:c}=n(),d=e(()=>i.checked??i.value);return l(d,(e,t)=>{if(!c.value)return;const i=c.value,a=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(a,"value").set;if(n&&e!==t){const t=new Event("input",{bubbles:!0}),a=new Event("change",{bubbles:!0});n.call(i,e),i.dispatchEvent(t),i.dispatchEvent(a)}}),(e,t)=>(r(),s(o,u({ref_key:"primitiveElement",ref:a},{...i,...e.$attrs},{as:"input"}),null,16))}}),Le=a({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(t){const i=t,a=e(()=>"object"==typeof i.value&&Array.isArray(i.value)&&0===i.value.length&&i.required),n=e(()=>"string"==typeof i.value||"number"==typeof i.value||"boolean"==typeof i.value||null===i.value||void 0===i.value?[{name:i.name,value:i.value}]:"object"==typeof i.value&&Array.isArray(i.value)?i.value.flatMap((e,t)=>"object"==typeof e?Object.entries(e).map(([e,a])=>({name:`${i.name}[${t}][${e}]`,value:a})):{name:`${i.name}[${t}]`,value:e}):null===i.value||"object"!=typeof i.value||Array.isArray(i.value)?[]:Object.entries(i.value).map(([e,t])=>({name:`${i.name}[${e}]`,value:t})));return(e,t)=>(r(),c(h,null,[d(" We render single input if it's required "),a.value?(r(),s(Be,u({key:e.name},{...i,...e.$attrs},{name:e.name,value:e.value}),null,16,["name","value"])):(r(!0),c(h,{key:1},p(n.value,t=>(r(),s(Be,u({key:t.name},{ref_for:!0},{...i,...e.$attrs},{name:t.name,value:t.value}),null,16,["name","value"]))),128))],2112))}});function Se(e,t,i){return void 0!==e&&void 0!==t&&("string"==typeof e?e===t:"function"==typeof i?i(e,t):"string"==typeof i?e?.[i]===t?.[i]:g(e,t))}const[Me,_e]=f("ListboxRoot");var De=a({__name:"ListboxRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1,default:"vertical"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1,default:"toggle"},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(a,{expose:u,emit:o}){const c=a,h=o,{multiple:p,highlightOnHover:g,orientation:f,disabled:M,selectionBehavior:_,dir:D}=m(c),{getItems:I}=v({isProvider:!0}),{handleTypeaheadSearch:w}=y(),{primitiveElement:q,currentElement:$}=n(),K={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"},O=b(D),T=(R=$,e(()=>!t(R)||Boolean(i(R)?.closest("form"))));var R;const j=A(),P=A(!1),H=A(!0),N=x(c,"modelValue",h,{defaultValue:c.defaultValue??(p.value?[]:void 0),passive:void 0===c.modelValue,deep:!0});const V=A(null),z=A(null),W=A(!1),U=A(!1),G=k(),J=k(),Q=k();function X(){return I().map(e=>e.ref).filter(e=>""!==e.dataset.disabled)}function Y(e,t=!0){if(!e)return;V.value=e,H.value&&V.value.focus(),t&&V.value.scrollIntoView({block:"nearest"});const i=I().find(t=>t.ref===e);h("highlight",i)}function Z(){C(()=>{te(new KeyboardEvent("keydown",{key:"PageUp"}))})}function ee(e){const t=V.value;t?.isConnected&&(z.value=t),V.value=null,h("leave",e)}function te(e){const t=S(e,f.value,O.value);if(!t)return;let i=X();if(V.value){if("last"===t)i.reverse();else if("prev"===t||"next"===t){"prev"===t&&i.reverse();const e=i.indexOf(V.value);i=i.slice(e+1)}!function(e,t){if(W.value||"replace"!==c.selectionBehavior||!p.value||!Array.isArray(N.value))return;const i=e.altKey||e.ctrlKey||e.metaKey;if(i&&!e.shiftKey)return;if(e.shiftKey){const i=I().filter(e=>""!==e.ref.dataset.disabled);let a=i.find(e=>e.ref===t)?.value;if(e.key===K.END?a=i[i.length-1].value:e.key===K.HOME&&(a=i[0].value),!a||!j.value)return;const n=Fe(i.map(e=>e.value),j.value,a);N.value=n}}(e,i[0])}if(i.length){Y(i[V.value||"prev"!==t?0:i.length-1])}return W.value?J.trigger(e):void 0}async function ie(e){if(await C(),W.value)G.trigger(e);else{const e=X(),t=e.find(e=>"checked"===e.dataset.state);t?Y(t):e.length&&Y(e[0])}}return l(N,()=>{P.value||C(()=>{ie()})},{immediate:!0,deep:!0}),u({highlightedElement:V,highlightItem:function(e){if(W.value)Q.trigger(e);else{const t=I().find(t=>Se(t.value,e,c.by));t&&(V.value=t.ref,Y(t.ref))}},highlightFirstItem:Z,highlightSelected:ie,getItems:I}),_e({modelValue:N,onValueChange:function(e){if(P.value=!0,c.multiple){const t=Array.isArray(N.value)?[...N.value]:[],i=t.findIndex(t=>Se(t,e,c.by));"toggle"===c.selectionBehavior?(-1===i?t.push(e):t.splice(i,1),N.value=t):(N.value=[e],j.value=e)}else"toggle"===c.selectionBehavior&&Se(N.value,e,c.by)?N.value=void 0:N.value=e;setTimeout(()=>{P.value=!1},1)},multiple:p,orientation:f,dir:O,disabled:M,highlightOnHover:g,highlightedElement:V,isVirtual:W,virtualFocusHook:G,virtualKeydownHook:J,virtualHighlightHook:Q,by:c.by,firstValue:j,selectionBehavior:_,focusable:H,onLeave:ee,onEnter:function(e){const t=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if(e.currentTarget?.dispatchEvent(t),h("entryFocus",t),!t.defaultPrevented)if(z.value)Y(z.value);else{const e=X()?.[0];Y(e)}},changeHighlight:Y,onKeydownEnter:function(e){V.value&&V.value.isConnected&&(e.preventDefault(),e.stopPropagation(),U.value||V.value.click())},onKeydownNavigation:te,onKeydownTypeAhead:function(e){if(H.value){if(P.value=!0,W.value)J.trigger(e);else{const t=e.altKey||e.ctrlKey||e.metaKey;if(t&&"a"===e.key&&p.value){const t=I(),i=t.map(e=>e.value);N.value=[...i],e.preventDefault(),Y(t[t.length-1].ref)}else if(!t){const t=w(e.key,I());t&&Y(t)}}setTimeout(()=>{P.value=!1},1)}},onCompositionStart:function(){U.value=!0},onCompositionEnd:function(){C(()=>{U.value=!1})},highlightFirstItem:Z}),(e,t)=>(r(),s(B(L),{ref_key:"primitiveElement",ref:q,as:e.as,"as-child":e.asChild,dir:B(O),"data-disabled":B(M)?"":void 0,onPointerleave:ee,onFocusout:t[0]||(t[0]=async e=>{const t=e.relatedTarget||e.target;await C(),V.value&&B($)&&!B($).contains(t)&&ee(e)})},{default:E(()=>[F(e.$slots,"default",{modelValue:B(N)}),B(T)&&e.name?(r(),s(B(Le),{key:0,name:e.name,value:B(N),disabled:B(M),required:e.required},null,8,["name","value","disabled","required"])):d("v-if",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),Ie=a({__name:"ListboxContent",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const{CollectionSlot:t}=v(),i=Me(),a=M(!1,10);return(e,n)=>(r(),s(B(t),null,{default:E(()=>[_(B(L),{role:"listbox",as:e.as,"as-child":e.asChild,tabindex:B(i).focusable.value?B(i).highlightedElement.value?"-1":"0":void 0,"aria-orientation":B(i).orientation.value,"aria-multiselectable":!!B(i).multiple.value,"data-orientation":B(i).orientation.value,onMousedown:n[0]||(n[0]=I(e=>a.value=!0,["left"])),onFocus:n[1]||(n[1]=e=>{B(a)||B(i).onEnter(e)}),onKeydown:[n[2]||(n[2]=D(I(e=>{B(i).focusable.value&&B(i).onKeydownNavigation(e)},["prevent"]),["down","up","left","right","home","end"])),D(B(i).onKeydownEnter,["enter"]),B(i).onKeydownTypeAhead]},{default:E(()=>[F(e.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),we=a({__name:"ListboxFilter",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(t,{emit:i}){const a=t,l=x(a,"modelValue",i,{defaultValue:"",passive:void 0===a.modelValue}),u=Me(),{primitiveElement:o,currentElement:c}=n(),d=e(()=>a.disabled||u.disabled.value||!1),h=A();return w(()=>h.value=u.highlightedElement.value?.id),q(()=>{u.focusable.value=!1,setTimeout(()=>{a.autoFocus&&c.value?.focus()},1)}),$(()=>{u.focusable.value=!0}),(e,t)=>(r(),s(B(L),{ref_key:"primitiveElement",ref:o,as:e.as,"as-child":e.asChild,value:B(l),disabled:d.value?"":void 0,"data-disabled":d.value?"":void 0,"aria-disabled":d.value??void 0,"aria-activedescendant":h.value,type:"text",onKeydown:[D(I(B(u).onKeydownNavigation,["prevent"]),["down","up","home","end"]),D(B(u).onKeydownEnter,["enter"])],onInput:t[0]||(t[0]=e=>{l.value=e.target.value,B(u).highlightFirstItem()}),onCompositionstart:B(u).onCompositionStart,onCompositionend:B(u).onCompositionEnd},{default:E(()=>[F(e.$slots,"default",{modelValue:B(l)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}});const[qe,$e]=f("ListboxGroup");var Ke=a({__name:"ListboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,i=K(void 0,"reka-listbox-group");return $e({id:i}),(e,a)=>(r(),s(B(L),u({role:"group"},t,{"aria-labelledby":B(i)}),{default:E(()=>[F(e.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),Oe=a({__name:"ListboxGroupLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(e){const t=e,i=qe({id:""});return(e,a)=>(r(),s(B(L),u(t,{id:B(i).id}),{default:E(()=>[F(e.$slots,"default")]),_:3},16,["id"]))}});const[Te,Re]=f("ListboxItem");var je=a({__name:"ListboxItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["select"],setup(t,{emit:i}){const a=t,n=i,l=K(void 0,"reka-listbox-item"),{CollectionItem:o}=v(),{forwardRef:c,currentElement:d}=O(),h=Me(),p=e(()=>d.value===h.highlightedElement.value),g=e(()=>{return e=h.modelValue.value,t=a.value,i=h.by,void 0!==e&&(Array.isArray(e)?e.some(e=>Se(e,t,i)):Se(e,t,i));var e,t,i}),f=e(()=>h.disabled.value||a.disabled);async function m(e){n("select",e),e?.defaultPrevented||!f.value&&e&&(h.onValueChange(a.value),h.changeHighlight(d.value))}function y(e){const t={originalEvent:e,value:a.value};R("listbox.select",m,t)}return Re({isSelected:g}),(e,t)=>(r(),s(B(o),{value:e.value},{default:E(()=>[T([p.value,g.value],()=>_(B(L),u({id:B(l)},e.$attrs,{ref:B(c),role:"option",tabindex:B(h).focusable.value?p.value?"0":"-1":-1,"aria-selected":g.value,as:e.as,"as-child":e.asChild,disabled:f.value?"":void 0,"data-disabled":f.value?"":void 0,"data-highlighted":p.value?"":void 0,"data-state":g.value?"checked":"unchecked",onClick:y,onKeydown:D(I(y,["prevent"]),["space"]),onPointermove:t[0]||(t[0]=e=>{B(h).highlightedElement.value!==B(d)&&(B(h).highlightOnHover.value?B(h).changeHighlight(B(d),!1):B(h).focusable.value||B(h).changeHighlight(B(d),!1))})}),{default:E(()=>[F(e.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),t,1)]),_:3},8,["value"]))}}),Pe=a({__name:"ListboxItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=e;O();const i=Te();return(e,a)=>B(i).isSelected.value?(r(),s(B(L),u({key:0,"aria-hidden":"true"},t),{default:E(()=>[F(e.$slots,"default")]),_:3},16)):d("v-if",!0)}});function He(e){return Array.isArray?Array.isArray(e):"[object Array]"===Je(e)}function Ne(e){return"string"==typeof e}function Ve(e){return"number"==typeof e}function ze(e){return!0===e||!1===e||function(e){return We(e)&&null!==e}(e)&&"[object Boolean]"==Je(e)}function We(e){return"object"==typeof e}function Ue(e){return null!=e}function Ge(e){return!e.trim().length}function Je(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Qe=Object.prototype.hasOwnProperty;class Xe{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(e=>{let i=Ye(e);this._keys.push(i),this._keyMap[i.id]=i,t+=i.weight}),this._keys.forEach(e=>{e.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Ye(e){let t=null,i=null,a=null,n=1,l=null;if(Ne(e)||He(e))a=e,t=Ze(e),i=et(e);else{if(!Qe.call(e,"name"))throw new Error((e=>`Missing ${e} property in key`)("name"));const s=e.name;if(a=s,Qe.call(e,"weight")&&(n=e.weight,n<=0))throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(s));t=Ze(s),i=et(s),l=e.getFn}return{path:t,id:i,weight:n,src:a,getFn:l}}function Ze(e){return He(e)?e:e.split(".")}function et(e){return He(e)?e.join("."):e}var tt={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,t){let i=[],a=!1;const n=(e,t,l)=>{if(Ue(e))if(t[l]){const s=e[t[l]];if(!Ue(s))return;if(l===t.length-1&&(Ne(s)||Ve(s)||ze(s)))i.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(s));else if(He(s)){a=!0;for(let e=0,i=s.length;e<i;e+=1)n(s[e],t,l+1)}else t.length&&n(s,t,l+1)}else i.push(e)};return n(e,Ne(t)?t.split("."):t,0),a?i:i[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const it=/[^ ]+/g;class at{constructor({getFn:e=tt.getFn,fieldNormWeight:t=tt.fieldNormWeight}={}){this.norm=function(e=1,t=3){const i=new Map,a=Math.pow(10,t);return{get(t){const n=t.match(it).length;if(i.has(n))return i.get(n);const l=1/Math.pow(n,.5*e),s=parseFloat(Math.round(l*a)/a);return i.set(n,s),s},clear(){i.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((e,t)=>{this._keysMap[e.id]=t})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,Ne(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();Ne(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,i=this.size();t<i;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!Ue(e)||Ge(e))return;let i={v:e,i:t,n:this.norm.get(e)};this.records.push(i)}_addObject(e,t){let i={i:t,$:{}};this.keys.forEach((t,a)=>{let n=t.getFn?t.getFn(e):this.getFn(e,t.path);if(Ue(n))if(He(n)){let e=[];const t=[{nestedArrIndex:-1,value:n}];for(;t.length;){const{nestedArrIndex:i,value:a}=t.pop();if(Ue(a))if(Ne(a)&&!Ge(a)){let t={v:a,i:i,n:this.norm.get(a)};e.push(t)}else He(a)&&a.forEach((e,i)=>{t.push({nestedArrIndex:i,value:e})})}i.$[a]=e}else if(Ne(n)&&!Ge(n)){let e={v:n,n:this.norm.get(n)};i.$[a]=e}}),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}}function nt(e,t,{getFn:i=tt.getFn,fieldNormWeight:a=tt.fieldNormWeight}={}){const n=new at({getFn:i,fieldNormWeight:a});return n.setKeys(e.map(Ye)),n.setSources(t),n.create(),n}function lt(e,{errors:t=0,currentLocation:i=0,expectedLocation:a=0,distance:n=tt.distance,ignoreLocation:l=tt.ignoreLocation}={}){const s=t/e.length;if(l)return s;const r=Math.abs(a-i);return n?s+r/n:r?1:s}const st=32;function rt(e,t,i,{location:a=tt.location,distance:n=tt.distance,threshold:l=tt.threshold,findAllMatches:s=tt.findAllMatches,minMatchCharLength:r=tt.minMatchCharLength,includeMatches:u=tt.includeMatches,ignoreLocation:o=tt.ignoreLocation}={}){if(t.length>st)throw new Error(`Pattern length exceeds max of ${st}.`);const c=t.length,d=e.length,h=Math.max(0,Math.min(a,d));let p=l,g=h;const f=r>1||u,m=f?Array(d):[];let v;for(;(v=e.indexOf(t,g))>-1;){let e=lt(t,{currentLocation:v,expectedLocation:h,distance:n,ignoreLocation:o});if(p=Math.min(e,p),g=v+c,f){let e=0;for(;e<c;)m[v+e]=1,e+=1}}g=-1;let y=[],b=1,A=c+d;const x=1<<c-1;for(let k=0;k<c;k+=1){let a=0,l=A;for(;a<l;){lt(t,{errors:k,currentLocation:h+l,expectedLocation:h,distance:n,ignoreLocation:o})<=p?a=l:A=l,l=Math.floor((A-a)/2+a)}A=l;let r=Math.max(1,h-l+1),u=s?d:Math.min(h+l,d)+c,v=Array(u+2);v[u+1]=(1<<k)-1;for(let s=u;s>=r;s-=1){let a=s-1,l=i[e.charAt(a)];if(f&&(m[a]=+!!l),v[s]=(v[s+1]<<1|1)&l,k&&(v[s]|=(y[s+1]|y[s])<<1|1|y[s+1]),v[s]&x&&(b=lt(t,{errors:k,currentLocation:a,expectedLocation:h,distance:n,ignoreLocation:o}),b<=p)){if(p=b,g=a,g<=h)break;r=Math.max(1,2*h-g)}}if(lt(t,{errors:k+1,currentLocation:h,expectedLocation:h,distance:n,ignoreLocation:o})>p)break;y=v}const C={isMatch:g>=0,score:Math.max(.001,b)};if(f){const e=function(e=[],t=tt.minMatchCharLength){let i=[],a=-1,n=-1,l=0;for(let s=e.length;l<s;l+=1){let s=e[l];s&&-1===a?a=l:s||-1===a||(n=l-1,n-a+1>=t&&i.push([a,n]),a=-1)}return e[l-1]&&l-a>=t&&i.push([a,l-1]),i}(m,r);e.length?u&&(C.indices=e):C.isMatch=!1}return C}function ut(e){let t={};for(let i=0,a=e.length;i<a;i+=1){const n=e.charAt(i);t[n]=(t[n]||0)|1<<a-i-1}return t}const ot=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class ct{constructor(e,{location:t=tt.location,threshold:i=tt.threshold,distance:a=tt.distance,includeMatches:n=tt.includeMatches,findAllMatches:l=tt.findAllMatches,minMatchCharLength:s=tt.minMatchCharLength,isCaseSensitive:r=tt.isCaseSensitive,ignoreDiacritics:u=tt.ignoreDiacritics,ignoreLocation:o=tt.ignoreLocation}={}){if(this.options={location:t,threshold:i,distance:a,includeMatches:n,findAllMatches:l,minMatchCharLength:s,isCaseSensitive:r,ignoreDiacritics:u,ignoreLocation:o},e=r?e:e.toLowerCase(),e=u?ot(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const c=(e,t)=>{this.chunks.push({pattern:e,alphabet:ut(e),startIndex:t})},d=this.pattern.length;if(d>st){let e=0;const t=d%st,i=d-t;for(;e<i;)c(this.pattern.substr(e,st),e),e+=st;if(t){const e=d-st;c(this.pattern.substr(e),e)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:i,includeMatches:a}=this.options;if(e=t?e:e.toLowerCase(),e=i?ot(e):e,this.pattern===e){let t={isMatch:!0,score:0};return a&&(t.indices=[[0,e.length-1]]),t}const{location:n,distance:l,threshold:s,findAllMatches:r,minMatchCharLength:u,ignoreLocation:o}=this.options;let c=[],d=0,h=!1;this.chunks.forEach(({pattern:t,alphabet:i,startIndex:p})=>{const{isMatch:g,score:f,indices:m}=rt(e,t,i,{location:n+p,distance:l,threshold:s,findAllMatches:r,minMatchCharLength:u,includeMatches:a,ignoreLocation:o});g&&(h=!0),d+=f,g&&m&&(c=[...c,...m])});let p={isMatch:h,score:h?d/this.chunks.length:1};return h&&a&&(p.indices=c),p}}class dt{constructor(e){this.pattern=e}static isMultiMatch(e){return ht(e,this.multiRegex)}static isSingleMatch(e){return ht(e,this.singleRegex)}search(){}}function ht(e,t){const i=e.match(t);return i?i[1]:null}class pt extends dt{constructor(e,{location:t=tt.location,threshold:i=tt.threshold,distance:a=tt.distance,includeMatches:n=tt.includeMatches,findAllMatches:l=tt.findAllMatches,minMatchCharLength:s=tt.minMatchCharLength,isCaseSensitive:r=tt.isCaseSensitive,ignoreDiacritics:u=tt.ignoreDiacritics,ignoreLocation:o=tt.ignoreLocation}={}){super(e),this._bitapSearch=new ct(e,{location:t,threshold:i,distance:a,includeMatches:n,findAllMatches:l,minMatchCharLength:s,isCaseSensitive:r,ignoreDiacritics:u,ignoreLocation:o})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class gt extends dt{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,i=0;const a=[],n=this.pattern.length;for(;(t=e.indexOf(this.pattern,i))>-1;)i=t+n,a.push([t,i-1]);const l=!!a.length;return{isMatch:l,score:l?0:1,indices:a}}}const ft=[class extends dt{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},gt,class extends dt{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends dt{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends dt{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends dt{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends dt{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},pt],mt=ft.length,vt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const yt=new Set([pt.type,gt.type]);class bt{constructor(e,{isCaseSensitive:t=tt.isCaseSensitive,ignoreDiacritics:i=tt.ignoreDiacritics,includeMatches:a=tt.includeMatches,minMatchCharLength:n=tt.minMatchCharLength,ignoreLocation:l=tt.ignoreLocation,findAllMatches:s=tt.findAllMatches,location:r=tt.location,threshold:u=tt.threshold,distance:o=tt.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:i,includeMatches:a,minMatchCharLength:n,findAllMatches:s,ignoreLocation:l,location:r,threshold:u,distance:o},e=t?e:e.toLowerCase(),e=i?ot(e):e,this.pattern=e,this.query=function(e,t={}){return e.split("|").map(e=>{let i=e.trim().split(vt).filter(e=>e&&!!e.trim()),a=[];for(let n=0,l=i.length;n<l;n+=1){const e=i[n];let l=!1,s=-1;for(;!l&&++s<mt;){const i=ft[s];let n=i.isMultiMatch(e);n&&(a.push(new i(n,t)),l=!0)}if(!l)for(s=-1;++s<mt;){const i=ft[s];let n=i.isSingleMatch(e);if(n){a.push(new i(n,t));break}}}return a})}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:i,isCaseSensitive:a,ignoreDiacritics:n}=this.options;e=a?e:e.toLowerCase(),e=n?ot(e):e;let l=0,s=[],r=0;for(let u=0,o=t.length;u<o;u+=1){const a=t[u];s.length=0,l=0;for(let t=0,n=a.length;t<n;t+=1){const n=a[t],{isMatch:u,indices:o,score:c}=n.search(e);if(!u){r=0,l=0,s.length=0;break}if(l+=1,r+=c,i){const e=n.constructor.type;yt.has(e)?s=[...s,...o]:s.push(o)}}if(l){let e={isMatch:!0,score:r/l};return i&&(e.indices=s),e}}return{isMatch:!1,score:1}}}const At=[];function xt(e,t){for(let i=0,a=At.length;i<a;i+=1){let a=At[i];if(a.condition(e,t))return new a(e,t)}return new ct(e,t)}const Ct="$and",kt="$or",Et="$path",Ft="$val",Bt=e=>!(!e[Ct]&&!e[kt]),Lt=e=>({[Ct]:Object.keys(e).map(t=>({[t]:e[t]}))});function St(e,t,{auto:i=!0}={}){const a=e=>{let n=Object.keys(e);const l=(e=>!!e[Et])(e);if(!l&&n.length>1&&!Bt(e))return a(Lt(e));if((e=>!He(e)&&We(e)&&!Bt(e))(e)){const a=l?e[Et]:n[0],s=l?e[Ft]:e[a];if(!Ne(s))throw new Error((e=>`Invalid value for key ${e}`)(a));const r={keyId:et(a),pattern:s};return i&&(r.searcher=xt(s,t)),r}let s={children:[],operator:n[0]};return n.forEach(t=>{const i=e[t];He(i)&&i.forEach(e=>{s.children.push(a(e))})}),s};return Bt(e)||(e=Lt(e)),a(e)}function Mt(e,t){const i=e.matches;t.matches=[],Ue(i)&&i.forEach(e=>{if(!Ue(e.indices)||!e.indices.length)return;const{indices:i,value:a}=e;let n={indices:i,value:a};e.key&&(n.key=e.key.src),e.idx>-1&&(n.refIndex=e.idx),t.matches.push(n)})}function _t(e,t){t.score=e.score}class Dt{constructor(e,t={},i){this.options={...tt,...t},this.options.useExtendedSearch,this._keyStore=new Xe(this.options.keys),this.setCollection(e,i)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof at))throw new Error("Incorrect 'index' type");this._myIndex=t||nt(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Ue(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let i=0,a=this._docs.length;i<a;i+=1){const n=this._docs[i];e(n,i)&&(this.removeAt(i),i-=1,a-=1,t.push(n))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:i,includeScore:a,shouldSort:n,sortFn:l,ignoreFieldNorm:s}=this.options;let r=Ne(e)?Ne(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=tt.ignoreFieldNorm}){e.forEach(e=>{let i=1;e.matches.forEach(({key:e,norm:a,score:n})=>{const l=e?e.weight:null;i*=Math.pow(0===n&&l?Number.EPSILON:n,(l||1)*(t?1:a))}),e.score=i})}(r,{ignoreFieldNorm:s}),n&&r.sort(l),Ve(t)&&t>-1&&(r=r.slice(0,t)),function(e,t,{includeMatches:i=tt.includeMatches,includeScore:a=tt.includeScore}={}){const n=[];return i&&n.push(Mt),a&&n.push(_t),e.map(e=>{const{idx:i}=e,a={item:t[i],refIndex:i};return n.length&&n.forEach(t=>{t(e,a)}),a})}(r,this._docs,{includeMatches:i,includeScore:a})}_searchStringList(e){const t=xt(e,this.options),{records:i}=this._myIndex,a=[];return i.forEach(({v:e,i:i,n:n})=>{if(!Ue(e))return;const{isMatch:l,score:s,indices:r}=t.searchIn(e);l&&a.push({item:e,idx:i,matches:[{score:s,value:e,norm:n,indices:r}]})}),a}_searchLogical(e){const t=St(e,this.options),i=(e,t,a)=>{if(!e.children){const{keyId:i,searcher:n}=e,l=this._findMatches({key:this._keyStore.get(i),value:this._myIndex.getValueForItemAtKeyId(t,i),searcher:n});return l&&l.length?[{idx:a,item:t,matches:l}]:[]}const n=[];for(let l=0,s=e.children.length;l<s;l+=1){const s=e.children[l],r=i(s,t,a);if(r.length)n.push(...r);else if(e.operator===Ct)return[]}return n},a=this._myIndex.records,n={},l=[];return a.forEach(({$:e,i:a})=>{if(Ue(e)){let s=i(t,e,a);s.length&&(n[a]||(n[a]={idx:a,item:e,matches:[]},l.push(n[a])),s.forEach(({matches:e})=>{n[a].matches.push(...e)}))}}),l}_searchObjectList(e){const t=xt(e,this.options),{keys:i,records:a}=this._myIndex,n=[];return a.forEach(({$:e,i:a})=>{if(!Ue(e))return;let l=[];i.forEach((i,a)=>{l.push(...this._findMatches({key:i,value:e[a],searcher:t}))}),l.length&&n.push({idx:a,item:e,matches:l})}),n}_findMatches({key:e,value:t,searcher:i}){if(!Ue(t))return[];let a=[];if(He(t))t.forEach(({v:t,i:n,n:l})=>{if(!Ue(t))return;const{isMatch:s,score:r,indices:u}=i.searchIn(t);s&&a.push({score:r,key:e,value:t,idx:n,norm:l,indices:u})});else{const{v:n,n:l}=t,{isMatch:s,score:r,indices:u}=i.searchIn(n);s&&a.push({score:r,key:e,value:n,norm:l,indices:u})}return a}}function It(e,t,i,a){function n(e,i=[]){e=e||"";let a="",n=0;i.forEach(i=>{if(2===i.length&&i[0]===i[1])return;const l=i[1]+1,s=l-i[0]>=t.length;a+=[e.substring(n,i[0]),s&&"<mark>",e.substring(i[0],l),s&&"</mark>"].filter(Boolean).join(""),n=l}),a+=e.substring(n);const l=a.indexOf("<mark>");return-1!==l&&(a=function(e,t){let i="",a=0,n=!1;for(let l=e.length-1;l>=0;l--){if(">"===e[l])n=!0;else if("<"===e[l]){n=!1,i=e[l]+i;continue}if(n||a++,!(a<=t)){i="..."+i;break}i=e[l]+i}return i}(a,a.length-l)),a}if(e.matches?.length)for(const l of e.matches)if(!(i&&l.key!==i||a?.includes(l.key)))return n(l.value,l.indices)}Dt.version="7.1.0",Dt.createIndex=nt,Dt.parseIndex=function(e,{getFn:t=tt.getFn,fieldNormWeight:i=tt.fieldNormWeight}={}){const{keys:a,records:n}=e,l=new at({getFn:t,fieldNormWeight:i});return l.setKeys(a),l.setIndexRecords(n),l},Dt.config=tt,Dt.parseQuery=St,function(...e){At.push(...e)}(bt);const wt={slots:{root:"flex flex-col min-h-0 min-w-0 divide-y divide-default",input:"[&>input]:h-12",close:"",back:"p-0",content:"relative overflow-hidden flex flex-col",footer:"p-1",viewport:"relative divide-y divide-default scroll-py-1 overflow-y-auto flex-1 focus:outline-none",group:"p-1 isolate",empty:"py-6 text-center text-sm text-muted",label:"p-1.5 text-xs font-semibold text-highlighted",item:"group relative w-full flex items-center gap-1.5 p-1.5 text-sm select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0 size-5",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"2xs",itemLeadingChip:"shrink-0 size-5",itemLeadingChipSize:"md",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0 size-5",itemTrailingHighlightedIcon:"shrink-0 size-5 text-dimmed hidden group-data-highlighted:inline-flex",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0 gap-0.5",itemTrailingKbdsSize:"md",itemLabel:"truncate space-x-1 text-dimmed",itemLabelBase:"text-highlighted [&>mark]:text-inverted [&>mark]:bg-primary",itemLabelPrefix:"text-default",itemLabelSuffix:"text-dimmed [&>mark]:text-inverted [&>mark]:bg-primary"},variants:{active:{true:{item:"text-highlighted before:bg-elevated",itemLeadingIcon:"text-default"},false:{item:["text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}}}},qt=["innerHTML"],$t=["innerHTML"],Kt={__name:"UCommandPalette",props:P({as:{type:null,required:!1},icon:{type:[String,Object],required:!1},selectedIcon:{type:[String,Object],required:!1},trailingIcon:{type:[String,Object],required:!1},placeholder:{type:String,required:!1},autofocus:{type:Boolean,required:!1,default:!0},close:{type:[Boolean,Object],required:!1},closeIcon:{type:[String,Object],required:!1},back:{type:[Boolean,Object],required:!1,default:!0},backIcon:{type:[String,Object],required:!1},groups:{type:Array,required:!1},fuse:{type:Object,required:!1},labelKey:{type:String,required:!1,default:"label"},class:{type:null,required:!1},ui:{type:null,required:!1},multiple:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},modelValue:{type:null,required:!1,default:""},defaultValue:{type:null,required:!1},highlightOnHover:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:[String,Object],required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:P(["update:modelValue","highlight","entryFocus","leave","update:open"],["update:searchTerm"]),setup(t,{emit:i}){const a=t,n=i,o=H(),g=N(t,"searchTerm",{type:String,default:""}),{t:f}=V(),m=z(),v=W(U(a,"as","disabled","multiple","modelValue","defaultValue","highlightOnHover","selectionBehavior"),n),y=G(U(a,"loading","loadingIcon")),b=e(()=>J({extend:J(wt),...m.ui?.commandPalette||{}})()),x=e(()=>Q({},a.fuse,{fuseOptions:{ignoreLocation:!0,threshold:.1,keys:[a.labelKey,"suffix"]},resultLimit:12,matchAllWhenSearchEmpty:!0})),C=A([]),k=e(()=>C.value[C.value.length-1]?.placeholder||a.placeholder||f("commandPalette.placeholder")),L=e(()=>C.value?.length?[C.value[C.value.length-1]]:a.groups),S=e(()=>L.value?.filter(e=>e.id?!e.ignoreFilter:(console.warn("[@nuxt/ui] CommandPalette group is missing an `id` property"),!1))?.flatMap(e=>e.items?.map(t=>({...t,group:e.id}))||[])||[]),{results:M}=function(t,i,a){const n=()=>{var e,t;return new Dt(null!=(e=j(i))?e:[],null==(t=j(a))?void 0:t.fuseOptions)},s=A(n());l(()=>{var e;return null==(e=j(a))?void 0:e.fuseOptions},()=>{s.value=n()},{deep:!0}),l(()=>j(i),e=>{s.value.setCollection(e)},{deep:!0});const r=e(()=>{const e=j(a);if((null==e?void 0:e.matchAllWhenSearchEmpty)&&!j(t))return j(i).map((e,t)=>({item:e,refIndex:t}));const n=null==e?void 0:e.resultLimit;return s.value.search(j(t),n?{limit:n}:void 0)});return{fuse:s,results:r}}(g,S,x);function I(e,t){return e?.postFilter&&"function"==typeof e.postFilter&&(t=e.postFilter(g.value,t)),{...e,items:t.slice(0,x.value.resultLimit).map(e=>({...e,labelHtml:It(e,g.value,a.labelKey),suffixHtml:It(e,g.value,void 0,[a.labelKey])}))}}const w=e(()=>{const e=M.value.reduce((e,t)=>{const{item:i,matches:a}=t;return i.group?(e[i.group]||=[],e[i.group]?.push({...i,matches:a}),e):e},{}),t=Object.entries(e).map(([e,t])=>{const i=L.value?.find(t=>t.id===e);if(i)return I(i,t)}).filter(e=>!!e);return(L.value?.map((e,t)=>({...e,index:t}))?.filter(e=>e.ignoreFilter&&e.items?.length)?.map(e=>({...I(e,e.items||[]),index:e.index}))||[]).reduce((e,t)=>(e.splice(t.index,0,t),e),[...t])}),q=X("listboxRootRef");function $(){C.value.length&&(C.value.pop(),g.value="",q.value?.highlightFirstItem())}function K(){g.value||$()}function O(e,t){t.children?.length?(e.preventDefault(),function(e){e.children?.length&&(C.value.push({id:`history-${C.value.length}`,label:e.label,slot:e.slot,placeholder:e.placeholder,items:e.children}),g.value="",q.value?.highlightFirstItem())}(t)):t.onSelect?.(e)}return(e,i)=>(r(),s(B(De),u(B(v),{ref_key:"listboxRootRef",ref:q,class:b.value.root({class:[a.ui?.root,a.class]})}),{default:E(()=>[_(B(we),{modelValue:g.value,"onUpdate:modelValue":i[1]||(i[1]=e=>g.value=e),"as-child":""},{default:E(()=>[_(Y,u({placeholder:k.value,variant:"none",autofocus:t.autofocus},B(y),{icon:t.icon||B(m).ui.icons.search,class:b.value.input({class:a.ui?.input}),onKeydown:D(K,["backspace"])}),Z({_:2},[C.value?.length&&(t.back||o.back)?{name:"leading",fn:E(()=>[F(e.$slots,"back",{ui:b.value},()=>[_(ee,u({icon:t.backIcon||B(m).ui.icons.arrowLeft,color:"neutral",variant:"link","aria-label":B(f)("commandPalette.back")},"object"==typeof t.back?t.back:{},{class:b.value.back({class:a.ui?.back}),onClick:$}),null,16,["icon","aria-label","class"])])]),key:"0"}:void 0,t.close||o.close?{name:"trailing",fn:E(()=>[F(e.$slots,"close",{ui:b.value},()=>[t.close?(r(),s(ee,u({key:0,icon:t.closeIcon||B(m).ui.icons.close,color:"neutral",variant:"ghost","aria-label":B(f)("commandPalette.close")},"object"==typeof t.close?t.close:{},{class:b.value.close({class:a.ui?.close}),onClick:i[0]||(i[0]=e=>n("update:open",!1))}),null,16,["icon","aria-label","class"])):d("",!0)])]),key:"1"}:void 0]),1040,["placeholder","autofocus","icon","class"])]),_:3},8,["modelValue"]),_(B(Ie),{class:te(b.value.content({class:a.ui?.content}))},{default:E(()=>[w.value?.length?(r(),c("div",{key:0,role:"presentation",class:te(b.value.viewport({class:a.ui?.viewport}))},[(r(!0),c(h,null,p(w.value,i=>(r(),s(B(Ke),{key:`group-${i.id}`,class:te(b.value.group({class:a.ui?.group}))},{default:E(()=>[B(ie)(i,a.labelKey)?(r(),s(B(Oe),{key:0,class:te(b.value.label({class:a.ui?.label}))},{default:E(()=>[ae(ne(B(ie)(i,a.labelKey)),1)]),_:2},1032,["class"])):d("",!0),(r(!0),c(h,null,p(i.items,(n,l)=>(r(),s(B(je),{key:`group-${i.id}-${l}`,value:B(le)(n,["matches","group","onSelect","labelHtml","suffixHtml","children"]),disabled:n.disabled,"as-child":"",onSelect:e=>O(e,n)},{default:E(()=>[_(se,u({ref_for:!0},B(re)(n),{custom:""}),{default:E(({active:g,...f})=>[_(ue,u({ref_for:!0},f,{class:b.value.item({class:[a.ui?.item,n.ui?.item,n.class],active:g||n.active})}),{default:E(()=>[F(e.$slots,n.slot||i.slot||"item",{item:n,index:l},()=>[F(e.$slots,n.slot?`${n.slot}-leading`:i.slot?`${i.slot}-leading`:"item-leading",{item:n,index:l},()=>[n.loading?(r(),s(ce,{key:0,name:t.loadingIcon||B(m).ui.icons.loading,class:te(b.value.itemLeadingIcon({class:[a.ui?.itemLeadingIcon,n.ui?.itemLeadingIcon],loading:!0}))},null,8,["name","class"])):n.icon?(r(),s(ce,{key:1,name:n.icon,class:te(b.value.itemLeadingIcon({class:[a.ui?.itemLeadingIcon,n.ui?.itemLeadingIcon],active:g||n.active}))},null,8,["name","class"])):n.avatar?(r(),s(de,u({key:2,size:n.ui?.itemLeadingAvatarSize||a.ui?.itemLeadingAvatarSize||b.value.itemLeadingAvatarSize()},{ref_for:!0},n.avatar,{class:b.value.itemLeadingAvatar({class:[a.ui?.itemLeadingAvatar,n.ui?.itemLeadingAvatar],active:g||n.active})}),null,16,["size","class"])):n.chip?(r(),s(he,u({key:3,size:n.ui?.itemLeadingChipSize||a.ui?.itemLeadingChipSize||b.value.itemLeadingChipSize(),inset:"",standalone:""},{ref_for:!0},n.chip,{class:b.value.itemLeadingChip({class:[a.ui?.itemLeadingChip,n.ui?.itemLeadingChip],active:g||n.active})}),null,16,["size","class"])):d("",!0)]),n.labelHtml||B(ie)(n,a.labelKey)||o[n.slot?`${n.slot}-label`:i.slot?`${i.slot}-label`:"item-label"]?(r(),c("span",{key:0,class:te(b.value.itemLabel({class:[a.ui?.itemLabel,n.ui?.itemLabel],active:g||n.active}))},[F(e.$slots,n.slot?`${n.slot}-label`:i.slot?`${i.slot}-label`:"item-label",{item:n,index:l},()=>[n.prefix?(r(),c("span",{key:0,class:te(b.value.itemLabelPrefix({class:[a.ui?.itemLabelPrefix,n.ui?.itemLabelPrefix]}))},ne(n.prefix),3)):d("",!0),oe("span",{class:te(b.value.itemLabelBase({class:[a.ui?.itemLabelBase,n.ui?.itemLabelBase],active:g||n.active})),innerHTML:n.labelHtml||B(ie)(n,a.labelKey)},null,10,qt),oe("span",{class:te(b.value.itemLabelSuffix({class:[a.ui?.itemLabelSuffix,n.ui?.itemLabelSuffix],active:g||n.active})),innerHTML:n.suffixHtml||n.suffix},null,10,$t)])],2)):d("",!0),oe("span",{class:te(b.value.itemTrailing({class:[a.ui?.itemTrailing,n.ui?.itemTrailing]}))},[F(e.$slots,n.slot?`${n.slot}-trailing`:i.slot?`${i.slot}-trailing`:"item-trailing",{item:n,index:l},()=>[n.children&&n.children.length>0?(r(),s(ce,{key:0,name:t.trailingIcon||B(m).ui.icons.chevronRight,class:te(b.value.itemTrailingIcon({class:[a.ui?.itemTrailingIcon,n.ui?.itemTrailingIcon]}))},null,8,["name","class"])):n.kbds?.length?(r(),c("span",{key:1,class:te(b.value.itemTrailingKbds({class:[a.ui?.itemTrailingKbds,n.ui?.itemTrailingKbds]}))},[(r(!0),c(h,null,p(n.kbds,(e,t)=>(r(),s(pe,u({key:t,size:n.ui?.itemTrailingKbdsSize||a.ui?.itemTrailingKbdsSize||b.value.itemTrailingKbdsSize()},{ref_for:!0},"string"==typeof e?{value:e}:e),null,16,["size"]))),128))],2)):i.highlightedIcon?(r(),s(ce,{key:2,name:i.highlightedIcon,class:te(b.value.itemTrailingHighlightedIcon({class:[a.ui?.itemTrailingHighlightedIcon,n.ui?.itemTrailingHighlightedIcon]}))},null,8,["name","class"])):d("",!0)]),n.children?.length?d("",!0):(r(),s(B(Pe),{key:0,"as-child":""},{default:E(()=>[_(ce,{name:t.selectedIcon||B(m).ui.icons.check,class:te(b.value.itemTrailingIcon({class:[a.ui?.itemTrailingIcon,n.ui?.itemTrailingIcon]}))},null,8,["name","class"])]),_:2},1024))],2)])]),_:2},1040,["class"])]),_:2},1040)]),_:2},1032,["value","disabled","onSelect"]))),128))]),_:2},1032,["class"]))),128))],2)):(r(),c("div",{key:1,class:te(b.value.empty({class:a.ui?.empty}))},[F(e.$slots,"empty",{searchTerm:g.value},()=>[ae(ne(g.value?B(f)("commandPalette.noMatch",{searchTerm:g.value}):B(f)("commandPalette.noData")),1)])],2))]),_:3},8,["class"]),o.footer?(r(),c("div",{key:0,class:te(b.value.footer({class:a.ui?.footer}))},[F(e.$slots,"footer",{ui:b.value})],2)):d("",!0)]),_:3},16,["class"]))}},Ot={slots:{modal:"sm:max-w-3xl sm:h-[28rem]",input:"[&>input]:text-base/5"}},Tt=/^[^-]+.*-.*[^-]+$/,Rt=/^[^_]+.*_.*[^_]+$/,jt=["arrowleft","arrowright","arrowup","arrowright","tab","escape","enter","backspace"];const Pt={__name:"UContentSearch",props:P({icon:{type:[String,Object],required:!1},placeholder:{type:String,required:!1},autofocus:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:[String,Object],required:!1},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:[String,Object],required:!1},shortcut:{type:String,required:!1,default:"meta_k"},links:{type:Array,required:!1},navigation:{type:Array,required:!1},groups:{type:Array,required:!1},files:{type:Array,required:!1},fuse:{type:Object,required:!1},colorMode:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:void 0,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:["update:searchTerm"],setup(t,{expose:i}){const a=t,n=H(),l=N(t,"searchTerm",{type:String,default:""}),{t:o}=V(),{open:c}=ye(),d=be(),h=z(),g=G(U(a,"icon","placeholder","autofocus","loading","loadingIcon","close","closeIcon")),f=le(n,["content"]),m=e(()=>Q({},a.fuse,{fuseOptions:{includeMatches:!0}})),v=e(()=>J({extend:J(Ot),...h.ui?.contentSearch||{}})());function y(e,t){return e.flatMap(e=>e.children?.length?y(e.children,e):a.files?.filter(t=>t.id===e.path||t.id.startsWith(`${e.path}#`))?.map(i=>function(e,t,i){const a=[...new Set([i?.title,...e.titles].filter(Boolean))];return{prefix:a?.length?a.join(" > ")+" >":void 0,label:e.id===t.path?t.title:e.title,suffix:e.content.replaceAll("<","&lt;").replaceAll(">","&gt;"),to:e.id,icon:t.icon||i?.icon||(e.level>1?h.ui.icons.hash:h.ui.icons.file),level:e.level}}(i,e,t))||[])}const b=e(()=>{const e=[];var t;return a.links?.length&&e.push({id:"links",label:o("contentSearch.links"),items:(t=a.links,t.flatMap(e=>[{...e,suffix:e.description,icon:e.icon||h.ui.icons.file},...e.children?.map(t=>({...t,prefix:e.label+" >",suffix:t.description,icon:t.icon||e.icon||h.ui.icons.file}))||[]]))}),a.navigation?.length&&(a.navigation.some(e=>!!e.children?.length)?e.push(...a.navigation.map(e=>({id:e.path,label:e.title,items:y(e.children||[]),postFilter:x}))):e.push({id:"docs",items:y(a.navigation),postFilter:x})),e.push(...a.groups||[]),a.colorMode&&!d?.forced&&e.push({id:"theme",label:o("contentSearch.theme"),items:[{label:o("colorMode.system"),icon:h.ui.icons.system,active:"system"===d.preference,onSelect:()=>{d.preference="system"}},{label:o("colorMode.light"),icon:h.ui.icons.light,active:"light"===d.preference,onSelect:()=>{d.preference="light"}},{label:o("colorMode.dark"),icon:h.ui.icons.dark,active:"dark"===d.preference,onSelect:()=>{d.preference="dark"}}]}),e});function x(e,t){return e?t:t?.filter(e=>1===e.level)}function C(e){e.disabled||(c.value=!1,l.value="")}!function(t,i={}){const a=A([]),n=()=>{a.value.splice(0,a.value.length)},l=ge(n,i.chainDelay??800),{macOS:s}=fe(),r=me(),u=e(()=>{const e=r.value?.tagName,t=r.value?.contentEditable;return!("INPUT"!==e&&"TEXTAREA"!==e&&"true"!==t&&"plaintext-only"!==t)&&(r.value?.name||!0)}),o=e(()=>Object.entries(j(t)).map(([e,t])=>{if(!t)return null;let i;!e.includes("-")||"-"===e||e.includes("_")||e.match(Tt)?.length||console.trace(`[Shortcut] Invalid key: "${e}"`),e.includes("_")&&"_"!==e&&!e.match(Rt)?.length&&console.trace(`[Shortcut] Invalid key: "${e}"`);const a=e.includes("-")&&"-"!==e&&!e.includes("_");if(a)i={key:e.toLowerCase(),metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1};else{const t=e.toLowerCase().split("_").map(e=>e);i={key:t.filter(e=>!["meta","command","ctrl","shift","alt","option"].includes(e)).join("_"),metaKey:t.includes("meta")||t.includes("command"),ctrlKey:t.includes("ctrl"),shiftKey:t.includes("shift"),altKey:t.includes("alt")||t.includes("option")}}if(i.chained=a,s.value||!i.metaKey||i.ctrlKey||(i.metaKey=!1,i.ctrlKey=!0),"function"==typeof t?i.handler=t:"object"==typeof t&&(i={...i,handler:t.handler}),!i.handler)return console.trace("[Shortcut] Invalid value"),null;let n=!0;return t.usingInput?"string"==typeof t.usingInput&&(n=u.value===t.usingInput):n=!u.value,i.enabled=n,i}).filter(Boolean));ve("keydown",e=>{if(!e.key)return;const t=/^[a-z]{1}$/i.test(e.key),i=jt.includes(e.key.toLowerCase());let s;if(a.value.push(e.key),a.value.length>=2){s=a.value.slice(-2).join("-");for(const t of o.value.filter(e=>e.chained))if(t.key===s)return t.enabled&&(e.preventDefault(),t.handler(e)),void n()}for(const a of o.value.filter(e=>!e.chained))if(e.key.toLowerCase()===a.key&&e.metaKey===a.metaKey&&e.ctrlKey===a.ctrlKey&&(!t&&!i||e.shiftKey===a.shiftKey))return a.enabled&&(e.preventDefault(),a.handler(e)),void n();l()})}({[a.shortcut]:{usingInput:!0,handler:()=>c.value=!c.value}});const k=X("commandPaletteRef");return i({commandPaletteRef:k}),(e,t)=>(r(),s(Ee,{open:B(c),"onUpdate:open":t[2]||(t[2]=e=>ke(c)?c.value=e:null),title:B(o)("contentSearch.title"),description:B(o)("contentSearch.description"),class:te(v.value.modal({class:[a.ui?.modal,a.class]}))},{content:E(()=>[F(e.$slots,"content",{},()=>[_(Kt,u({ref_key:"commandPaletteRef",ref:k,"search-term":l.value,"onUpdate:searchTerm":t[0]||(t[0]=e=>l.value=e)},B(g),{groups:b.value,fuse:m.value,ui:B(Ae)(B(le)(v.value,["modal"]),a.ui),"onUpdate:modelValue":C,"onUpdate:open":t[1]||(t[1]=e=>c.value=e)}),Z({_:2},[p(B(f),(t,i)=>({name:i,fn:E(t=>[F(e.$slots,i,xe(Ce(t)))])}))]),1040,["search-term","groups","fuse","ui"])])]),_:3},8,["open","title","description","class"]))}};export{Pt as default};
