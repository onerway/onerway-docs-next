import{z as e,A as t,B as i,C as n,D as a,E as l,G as s,d as r,H as o,I as u,c,J as d,F as h,K as p,L as f,M as v,N as m,r as g,O as y,P as b,Q as x,w as A,R as C,e as E,S as F,U as B,V as k,f as L,W as _,X as M,Y as S,o as w,b as D,Z as I,$,a0 as K,a1 as T,a2 as q,a3 as O,a4 as j,y as R,a5 as P,a6 as z,a7 as H,a8 as V,n as N,a9 as W,t as U,aa as G,ab as J,ac as Q,ad as X,ae as Y,af as Z,ag as ee,ah as te,ai as ie,aj as ne,ak as ae,al as le,am as se,g as re,an as oe,ao as ue,ap as ce,aq as de,ar as he}from"./BOEjTd95.js";import{_ as pe}from"./BgFhfq_k.js";import{_ as fe,u as ve}from"./Q7SFHv6X.js";import{g as me}from"./m8uzoPnc.js";import{u as ge}from"./N5RumMeu.js";import{u as ye}from"./DL4gl6Xz.js";import{f as be}from"./i8jAWLgi.js";import{u as xe}from"./wjg-Jxpu.js";import{u as Ae,_ as Ce}from"./NIlOITWG.js";import{u as Ee}from"./DumE0UMC.js";import{t as Fe}from"./DZps0g9l.js";import{t as Be}from"./BY4ec_Pk.js";import{u as ke}from"./CvmCd9vI.js";import{u as Le,a as _e}from"./BHswxmFj.js";import"./2V0YAfjR.js";const Me=n({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(t){const i=t,{primitiveElement:n,currentElement:c}=a(),d=e((()=>i.checked??i.value));return l(d,((e,t)=>{if(!c.value)return;const i=c.value,n=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(n,"value").set;if(a&&e!==t){const t=new Event("input",{bubbles:!0}),n=new Event("change",{bubbles:!0});a.call(i,e),i.dispatchEvent(t),i.dispatchEvent(n)}})),(e,t)=>(r(),s(u,o({ref_key:"primitiveElement",ref:n},{...i,...e.$attrs},{as:"input"}),null,16))}}),Se=n({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(t){const i=t,n=e((()=>"object"==typeof i.value&&Array.isArray(i.value)&&0===i.value.length&&i.required)),a=e((()=>"string"==typeof i.value||"number"==typeof i.value||"boolean"==typeof i.value?[{name:i.name,value:i.value}]:"object"==typeof i.value&&Array.isArray(i.value)?i.value.flatMap(((e,t)=>"object"==typeof e?Object.entries(e).map((([e,n])=>({name:`[${i.name}][${t}][${e}]`,value:n}))):{name:`[${i.name}][${t}]`,value:e})):null===i.value||"object"!=typeof i.value||Array.isArray(i.value)?[]:Object.entries(i.value).map((([e,t])=>({name:`[${i.name}][${e}]`,value:t})))));return(e,t)=>n.value?(r(),s(Me,o({key:e.name},{...i,...e.$attrs},{name:e.name,value:e.value}),null,16,["name","value"])):(r(!0),c(h,{key:1},d(a.value,(t=>(r(),s(Me,o({key:t.name,ref_for:!0},{...i,...e.$attrs},{name:t.name,value:t.value}),null,16,["name","value"])))),128))}});function we(e,t,i){return void 0!==e&&void 0!==t&&("string"==typeof e?e===t:"function"==typeof i?i(e,t):"string"==typeof i?(null==e?void 0:e[i])===(null==t?void 0:t[i]):p(e,t))}const[De,Ie]=f("ListboxRoot"),$e=n({__name:"ListboxRoot",props:{modelValue:{},defaultValue:{},multiple:{type:Boolean},orientation:{default:"vertical"},dir:{},disabled:{type:Boolean},selectionBehavior:{default:"toggle"},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(n,{expose:o,emit:u}){const c=n,d=u,{multiple:h,highlightOnHover:p,orientation:f,disabled:k,selectionBehavior:L,dir:_}=v(c),{getItems:M}=m({isProvider:!0}),{handleTypeaheadSearch:S}=ge(),{primitiveElement:w,currentElement:D}=a(),I={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"},$=ye(_),K=(T=D,e((()=>{var e;return!t(T)||Boolean(null==(e=i(T))?void 0:e.closest("form"))})));var T;const q=g(),O=g(!1),j=g(!0),R=y(c,"modelValue",d,{defaultValue:c.defaultValue??(h.value?[]:void 0),passive:void 0===c.modelValue,deep:!0});const P=g(null),z=g(null),H=g(!1),V=g(!1),N=x(),W=x(),U=x();function G(){return M().map((e=>e.ref)).filter((e=>""!==e.dataset.disabled))}function J(e,t=!0){if(!e)return;P.value=e,j.value&&P.value.focus(),t&&P.value.scrollIntoView({block:"nearest"});const i=M().find((t=>t.ref===e));d("highlight",i)}function Q(){b((()=>{Y(new KeyboardEvent("keydown",{key:"PageUp"}))}))}function X(e){const t=P.value;(null==t?void 0:t.isConnected)&&(z.value=t),P.value=null,d("leave",e)}function Y(e){const t=me(e,f.value,$.value);if(!t)return;let i=G();if(P.value){if("last"===t)i.reverse();else if("prev"===t||"next"===t){"prev"===t&&i.reverse();const e=i.indexOf(P.value);i=i.slice(e+1)}!function(e,t){var i;if(H.value||"replace"!==c.selectionBehavior||!h.value||!Array.isArray(R.value))return;const n=e.altKey||e.ctrlKey||e.metaKey;if(n&&!e.shiftKey)return;if(e.shiftKey){const n=M().filter((e=>""!==e.ref.dataset.disabled));let a=null==(i=n.find((e=>e.ref===t)))?void 0:i.value;if(e.key===I.END?a=n[n.length-1].value:e.key===I.HOME&&(a=n[0].value),!a||!q.value)return;const l=be(n.map((e=>e.value)),q.value,a);R.value=l}}(e,i[0])}if(i.length){J(i[P.value||"prev"!==t?0:i.length-1])}return H.value?W.trigger(e):void 0}async function Z(e){if(await b(),H.value)N.trigger(e);else{const e=G(),t=e.find((e=>"checked"===e.dataset.state));t?J(t):e.length&&J(e[0])}}return l(R,(()=>{O.value||b((()=>{Z()}))}),{immediate:!0,deep:!0}),o({highlightedElement:P,highlightItem:function(e){if(H.value)U.trigger(e);else{const t=M().find((t=>we(t.value,e,c.by)));t&&(P.value=t.ref,J(t.ref))}},highlightFirstItem:Q,highlightSelected:Z,getItems:M}),Ie({modelValue:R,onValueChange:function(e){if(O.value=!0,c.multiple){const t=Array.isArray(R.value)?[...R.value]:[],i=t.findIndex((t=>we(t,e,c.by)));"toggle"===c.selectionBehavior?(-1===i?t.push(e):t.splice(i,1),R.value=t):(R.value=[e],q.value=e)}else"toggle"===c.selectionBehavior&&we(R.value,e,c.by)?R.value=void 0:R.value=e;setTimeout((()=>{O.value=!1}),1)},multiple:h,orientation:f,dir:$,disabled:k,highlightOnHover:p,highlightedElement:P,isVirtual:H,virtualFocusHook:N,virtualKeydownHook:W,virtualHighlightHook:U,by:c.by,firstValue:q,selectionBehavior:L,focusable:j,onLeave:X,onEnter:function(e){var t,i;const n=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if(null==(t=e.currentTarget)||t.dispatchEvent(n),d("entryFocus",n),!n.defaultPrevented)if(z.value)J(z.value);else{J(null==(i=G())?void 0:i[0])}},changeHighlight:J,onKeydownEnter:function(e){P.value&&P.value.isConnected&&(e.preventDefault(),e.stopPropagation(),V.value||P.value.click())},onKeydownNavigation:Y,onKeydownTypeAhead:function(e){if(j.value){if(O.value=!0,H.value)W.trigger(e);else{const t=e.altKey||e.ctrlKey||e.metaKey;if(t&&"a"===e.key&&h.value){const t=M(),i=t.map((e=>e.value));R.value=[...i],e.preventDefault(),J(t[t.length-1].ref)}else if(!t){const t=S(e.key,M());t&&J(t)}}setTimeout((()=>{O.value=!1}),1)}},onCompositionStart:function(){V.value=!0},onCompositionEnd:function(){requestAnimationFrame((()=>{V.value=!1}))},highlightFirstItem:Q}),(e,t)=>(r(),s(F(B),{ref_key:"primitiveElement",ref:w,as:e.as,"as-child":e.asChild,dir:F($),"data-disabled":F(k)?"":void 0,onPointerleave:X,onFocusout:t[0]||(t[0]=async e=>{const t=e.relatedTarget||e.target;await b(),P.value&&F(D)&&!F(D).contains(t)&&X(e)})},{default:A((()=>[C(e.$slots,"default",{modelValue:F(R)}),F(K)&&e.name?(r(),s(F(Se),{key:0,name:e.name,value:F(R),disabled:F(k),required:e.required},null,8,["name","value","disabled","required"])):E("",!0)])),_:3},8,["as","as-child","dir","data-disabled"]))}}),Ke=n({__name:"ListboxContent",props:{asChild:{type:Boolean},as:{}},setup(e){const{CollectionSlot:t}=m(),i=De(),n=k(!1,10);return(e,a)=>(r(),s(F(t),null,{default:A((()=>[L(F(B),{role:"listbox",as:e.as,"as-child":e.asChild,tabindex:F(i).focusable.value?F(i).highlightedElement.value?"-1":"0":void 0,"aria-orientation":F(i).orientation.value,"aria-multiselectable":!!F(i).multiple.value,"data-orientation":F(i).orientation.value,onMousedown:a[0]||(a[0]=M((e=>n.value=!0),["left"])),onFocus:a[1]||(a[1]=e=>{F(n)||F(i).onEnter(e)}),onKeydown:[a[2]||(a[2]=_(M((e=>{F(i).focusable.value&&F(i).onKeydownNavigation(e)}),["prevent"]),["down","up","left","right","home","end"])),_(F(i).onKeydownEnter,["enter"]),F(i).onKeydownTypeAhead]},{default:A((()=>[C(e.$slots,"default")])),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])])),_:3}))}}),[Te,qe]=f("ListboxGroup"),Oe=n({__name:"ListboxGroup",props:{asChild:{type:Boolean},as:{}},setup(e){const t=e,i=xe(void 0,"reka-listbox-group");return qe({id:i}),(e,n)=>(r(),s(F(B),o({role:"group"},t,{"aria-labelledby":F(i)}),{default:A((()=>[C(e.$slots,"default")])),_:3},16,["aria-labelledby"]))}}),je=n({__name:"ListboxFilter",props:{modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"input"}},emits:["update:modelValue"],setup(t,{emit:i}){const n=t,l=y(n,"modelValue",i,{defaultValue:"",passive:void 0===n.modelValue}),o=De(),{primitiveElement:u,currentElement:c}=a(),d=e((()=>n.disabled||o.disabled.value||!1)),h=g();return S((()=>{var e;return h.value=null==(e=o.highlightedElement.value)?void 0:e.id})),w((()=>{o.focusable.value=!1,setTimeout((()=>{var e;n.autoFocus&&(null==(e=c.value)||e.focus())}),1)})),D((()=>{o.focusable.value=!0})),(e,t)=>(r(),s(F(B),{ref_key:"primitiveElement",ref:u,as:e.as,"as-child":e.asChild,value:F(l),disabled:d.value?"":void 0,"data-disabled":d.value?"":void 0,"aria-disabled":d.value??void 0,"aria-activedescendant":h.value,type:"text",onKeydown:[_(M(F(o).onKeydownNavigation,["prevent"]),["down","up","home","end"]),_(F(o).onKeydownEnter,["enter"])],onInput:t[0]||(t[0]=e=>{l.value=e.target.value,F(o).highlightFirstItem(e)}),onCompositionstart:F(o).onCompositionStart,onCompositionend:F(o).onCompositionEnd},{default:A((()=>[C(e.$slots,"default",{modelValue:F(l)})])),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),[Re,Pe]=f("ListboxItem"),ze=n({__name:"ListboxItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"div"}},emits:["select"],setup(t,{emit:i}){const n=t,a=i,l=xe(void 0,"reka-listbox-item"),{CollectionItem:u}=m(),{forwardRef:c,currentElement:d}=I(),h=De(),p=e((()=>d.value===h.highlightedElement.value)),f=e((()=>{return e=h.modelValue.value,t=n.value,i=h.by,void 0!==e&&(Array.isArray(e)?e.some((e=>we(e,t,i))):we(e,t,i));var e,t,i})),v=e((()=>h.disabled.value||n.disabled));async function g(e){a("select",e),(null==e?void 0:e.defaultPrevented)||!v.value&&e&&(h.onValueChange(n.value),h.changeHighlight(d.value))}function y(e){const t={originalEvent:e,value:n.value};K("listbox.select",g,t)}return Pe({isSelected:f}),(e,t)=>(r(),s(F(u),{value:e.value},{default:A((()=>[$([p.value,f.value],(()=>L(F(B),o({id:F(l)},e.$attrs,{ref:F(c),role:"option",tabindex:F(h).focusable.value?p.value?"0":"-1":-1,"aria-selected":f.value,as:e.as,"as-child":e.asChild,disabled:v.value?"":void 0,"data-disabled":v.value?"":void 0,"data-highlighted":p.value?"":void 0,"data-state":f.value?"checked":"unchecked",onClick:y,onKeydown:_(M(y,["prevent"]),["space"]),onPointermove:t[0]||(t[0]=e=>{F(h).highlightedElement.value!==F(d)&&(F(h).highlightOnHover.value?F(h).changeHighlight(F(d),!1):F(h).focusable.value||F(h).changeHighlight(F(d),!1))})}),{default:A((()=>[C(e.$slots,"default")])),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"])),t,1)])),_:3},8,["value"]))}}),He=n({__name:"ListboxItemIndicator",props:{asChild:{type:Boolean},as:{default:"span"}},setup(e){const t=e;I();const i=Re();return(e,n)=>F(i).isSelected.value?(r(),s(F(B),o({key:0,"aria-hidden":"true"},t),{default:A((()=>[C(e.$slots,"default")])),_:3},16)):E("",!0)}}),Ve=n({__name:"ListboxGroupLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(e){const t=e,i=Te({id:""});return(e,n)=>(r(),s(F(B),o(t,{id:F(i).id}),{default:A((()=>[C(e.$slots,"default")])),_:3},16,["id"]))}});function Ne(e){return Array.isArray?Array.isArray(e):"[object Array]"===Ye(e)}function We(e){return"string"==typeof e}function Ue(e){return"number"==typeof e}function Ge(e){return!0===e||!1===e||function(e){return Je(e)&&null!==e}(e)&&"[object Boolean]"==Ye(e)}function Je(e){return"object"==typeof e}function Qe(e){return null!=e}function Xe(e){return!e.trim().length}function Ye(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Ze=Object.prototype.hasOwnProperty;class et{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let i=tt(e);this._keys.push(i),this._keyMap[i.id]=i,t+=i.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function tt(e){let t=null,i=null,n=null,a=1,l=null;if(We(e)||Ne(e))n=e,t=it(e),i=nt(e);else{if(!Ze.call(e,"name"))throw new Error((e=>`Missing ${e} property in key`)("name"));const s=e.name;if(n=s,Ze.call(e,"weight")&&(a=e.weight,a<=0))throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(s));t=it(s),i=nt(s),l=e.getFn}return{path:t,id:i,weight:a,src:n,getFn:l}}function it(e){return Ne(e)?e:e.split(".")}function nt(e){return Ne(e)?e.join("."):e}var at={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,t){let i=[],n=!1;const a=(e,t,l)=>{if(Qe(e))if(t[l]){const s=e[t[l]];if(!Qe(s))return;if(l===t.length-1&&(We(s)||Ue(s)||Ge(s)))i.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(s));else if(Ne(s)){n=!0;for(let e=0,i=s.length;e<i;e+=1)a(s[e],t,l+1)}else t.length&&a(s,t,l+1)}else i.push(e)};return a(e,We(t)?t.split("."):t,0),n?i:i[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const lt=/[^ ]+/g;class st{constructor({getFn:e=at.getFn,fieldNormWeight:t=at.fieldNormWeight}={}){this.norm=function(e=1,t=3){const i=new Map,n=Math.pow(10,t);return{get(t){const a=t.match(lt).length;if(i.has(a))return i.get(a);const l=1/Math.pow(a,.5*e),s=parseFloat(Math.round(l*n)/n);return i.set(a,s),s},clear(){i.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,We(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();We(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,i=this.size();t<i;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!Qe(e)||Xe(e))return;let i={v:e,i:t,n:this.norm.get(e)};this.records.push(i)}_addObject(e,t){let i={i:t,$:{}};this.keys.forEach(((t,n)=>{let a=t.getFn?t.getFn(e):this.getFn(e,t.path);if(Qe(a))if(Ne(a)){let e=[];const t=[{nestedArrIndex:-1,value:a}];for(;t.length;){const{nestedArrIndex:i,value:n}=t.pop();if(Qe(n))if(We(n)&&!Xe(n)){let t={v:n,i:i,n:this.norm.get(n)};e.push(t)}else Ne(n)&&n.forEach(((e,i)=>{t.push({nestedArrIndex:i,value:e})}))}i.$[n]=e}else if(We(a)&&!Xe(a)){let e={v:a,n:this.norm.get(a)};i.$[n]=e}})),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}}function rt(e,t,{getFn:i=at.getFn,fieldNormWeight:n=at.fieldNormWeight}={}){const a=new st({getFn:i,fieldNormWeight:n});return a.setKeys(e.map(tt)),a.setSources(t),a.create(),a}function ot(e,{errors:t=0,currentLocation:i=0,expectedLocation:n=0,distance:a=at.distance,ignoreLocation:l=at.ignoreLocation}={}){const s=t/e.length;if(l)return s;const r=Math.abs(n-i);return a?s+r/a:r?1:s}const ut=32;function ct(e,t,i,{location:n=at.location,distance:a=at.distance,threshold:l=at.threshold,findAllMatches:s=at.findAllMatches,minMatchCharLength:r=at.minMatchCharLength,includeMatches:o=at.includeMatches,ignoreLocation:u=at.ignoreLocation}={}){if(t.length>ut)throw new Error(`Pattern length exceeds max of ${ut}.`);const c=t.length,d=e.length,h=Math.max(0,Math.min(n,d));let p=l,f=h;const v=r>1||o,m=v?Array(d):[];let g;for(;(g=e.indexOf(t,f))>-1;){let e=ot(t,{currentLocation:g,expectedLocation:h,distance:a,ignoreLocation:u});if(p=Math.min(e,p),f=g+c,v){let e=0;for(;e<c;)m[g+e]=1,e+=1}}f=-1;let y=[],b=1,x=c+d;const A=1<<c-1;for(let E=0;E<c;E+=1){let n=0,l=x;for(;n<l;){ot(t,{errors:E,currentLocation:h+l,expectedLocation:h,distance:a,ignoreLocation:u})<=p?n=l:x=l,l=Math.floor((x-n)/2+n)}x=l;let r=Math.max(1,h-l+1),o=s?d:Math.min(h+l,d)+c,g=Array(o+2);g[o+1]=(1<<E)-1;for(let s=o;s>=r;s-=1){let n=s-1,l=i[e.charAt(n)];if(v&&(m[n]=+!!l),g[s]=(g[s+1]<<1|1)&l,E&&(g[s]|=(y[s+1]|y[s])<<1|1|y[s+1]),g[s]&A&&(b=ot(t,{errors:E,currentLocation:n,expectedLocation:h,distance:a,ignoreLocation:u}),b<=p)){if(p=b,f=n,f<=h)break;r=Math.max(1,2*h-f)}}if(ot(t,{errors:E+1,currentLocation:h,expectedLocation:h,distance:a,ignoreLocation:u})>p)break;y=g}const C={isMatch:f>=0,score:Math.max(.001,b)};if(v){const e=function(e=[],t=at.minMatchCharLength){let i=[],n=-1,a=-1,l=0;for(let s=e.length;l<s;l+=1){let s=e[l];s&&-1===n?n=l:s||-1===n||(a=l-1,a-n+1>=t&&i.push([n,a]),n=-1)}return e[l-1]&&l-n>=t&&i.push([n,l-1]),i}(m,r);e.length?o&&(C.indices=e):C.isMatch=!1}return C}function dt(e){let t={};for(let i=0,n=e.length;i<n;i+=1){const a=e.charAt(i);t[a]=(t[a]||0)|1<<n-i-1}return t}const ht=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class pt{constructor(e,{location:t=at.location,threshold:i=at.threshold,distance:n=at.distance,includeMatches:a=at.includeMatches,findAllMatches:l=at.findAllMatches,minMatchCharLength:s=at.minMatchCharLength,isCaseSensitive:r=at.isCaseSensitive,ignoreDiacritics:o=at.ignoreDiacritics,ignoreLocation:u=at.ignoreLocation}={}){if(this.options={location:t,threshold:i,distance:n,includeMatches:a,findAllMatches:l,minMatchCharLength:s,isCaseSensitive:r,ignoreDiacritics:o,ignoreLocation:u},e=r?e:e.toLowerCase(),e=o?ht(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const c=(e,t)=>{this.chunks.push({pattern:e,alphabet:dt(e),startIndex:t})},d=this.pattern.length;if(d>ut){let e=0;const t=d%ut,i=d-t;for(;e<i;)c(this.pattern.substr(e,ut),e),e+=ut;if(t){const e=d-ut;c(this.pattern.substr(e),e)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:i,includeMatches:n}=this.options;if(e=t?e:e.toLowerCase(),e=i?ht(e):e,this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:a,distance:l,threshold:s,findAllMatches:r,minMatchCharLength:o,ignoreLocation:u}=this.options;let c=[],d=0,h=!1;this.chunks.forEach((({pattern:t,alphabet:i,startIndex:p})=>{const{isMatch:f,score:v,indices:m}=ct(e,t,i,{location:a+p,distance:l,threshold:s,findAllMatches:r,minMatchCharLength:o,includeMatches:n,ignoreLocation:u});f&&(h=!0),d+=v,f&&m&&(c=[...c,...m])}));let p={isMatch:h,score:h?d/this.chunks.length:1};return h&&n&&(p.indices=c),p}}class ft{constructor(e){this.pattern=e}static isMultiMatch(e){return vt(e,this.multiRegex)}static isSingleMatch(e){return vt(e,this.singleRegex)}search(){}}function vt(e,t){const i=e.match(t);return i?i[1]:null}class mt extends ft{constructor(e,{location:t=at.location,threshold:i=at.threshold,distance:n=at.distance,includeMatches:a=at.includeMatches,findAllMatches:l=at.findAllMatches,minMatchCharLength:s=at.minMatchCharLength,isCaseSensitive:r=at.isCaseSensitive,ignoreDiacritics:o=at.ignoreDiacritics,ignoreLocation:u=at.ignoreLocation}={}){super(e),this._bitapSearch=new pt(e,{location:t,threshold:i,distance:n,includeMatches:a,findAllMatches:l,minMatchCharLength:s,isCaseSensitive:r,ignoreDiacritics:o,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class gt extends ft{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,i=0;const n=[],a=this.pattern.length;for(;(t=e.indexOf(this.pattern,i))>-1;)i=t+a,n.push([t,i-1]);const l=!!n.length;return{isMatch:l,score:l?0:1,indices:n}}}const yt=[class extends ft{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},gt,class extends ft{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends ft{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends ft{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends ft{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends ft{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},mt],bt=yt.length,xt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const At=new Set([mt.type,gt.type]);class Ct{constructor(e,{isCaseSensitive:t=at.isCaseSensitive,ignoreDiacritics:i=at.ignoreDiacritics,includeMatches:n=at.includeMatches,minMatchCharLength:a=at.minMatchCharLength,ignoreLocation:l=at.ignoreLocation,findAllMatches:s=at.findAllMatches,location:r=at.location,threshold:o=at.threshold,distance:u=at.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:i,includeMatches:n,minMatchCharLength:a,findAllMatches:s,ignoreLocation:l,location:r,threshold:o,distance:u},e=t?e:e.toLowerCase(),e=i?ht(e):e,this.pattern=e,this.query=function(e,t={}){return e.split("|").map((e=>{let i=e.trim().split(xt).filter((e=>e&&!!e.trim())),n=[];for(let a=0,l=i.length;a<l;a+=1){const e=i[a];let l=!1,s=-1;for(;!l&&++s<bt;){const i=yt[s];let a=i.isMultiMatch(e);a&&(n.push(new i(a,t)),l=!0)}if(!l)for(s=-1;++s<bt;){const i=yt[s];let a=i.isSingleMatch(e);if(a){n.push(new i(a,t));break}}}return n}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:i,isCaseSensitive:n,ignoreDiacritics:a}=this.options;e=n?e:e.toLowerCase(),e=a?ht(e):e;let l=0,s=[],r=0;for(let o=0,u=t.length;o<u;o+=1){const n=t[o];s.length=0,l=0;for(let t=0,a=n.length;t<a;t+=1){const a=n[t],{isMatch:o,indices:u,score:c}=a.search(e);if(!o){r=0,l=0,s.length=0;break}if(l+=1,r+=c,i){const e=a.constructor.type;At.has(e)?s=[...s,...u]:s.push(u)}}if(l){let e={isMatch:!0,score:r/l};return i&&(e.indices=s),e}}return{isMatch:!1,score:1}}}const Et=[];function Ft(e,t){for(let i=0,n=Et.length;i<n;i+=1){let n=Et[i];if(n.condition(e,t))return new n(e,t)}return new pt(e,t)}const Bt="$and",kt="$or",Lt="$path",_t="$val",Mt=e=>!(!e[Bt]&&!e[kt]),St=e=>({[Bt]:Object.keys(e).map((t=>({[t]:e[t]})))});function wt(e,t,{auto:i=!0}={}){const n=e=>{let a=Object.keys(e);const l=(e=>!!e[Lt])(e);if(!l&&a.length>1&&!Mt(e))return n(St(e));if((e=>!Ne(e)&&Je(e)&&!Mt(e))(e)){const n=l?e[Lt]:a[0],s=l?e[_t]:e[n];if(!We(s))throw new Error((e=>`Invalid value for key ${e}`)(n));const r={keyId:nt(n),pattern:s};return i&&(r.searcher=Ft(s,t)),r}let s={children:[],operator:a[0]};return a.forEach((t=>{const i=e[t];Ne(i)&&i.forEach((e=>{s.children.push(n(e))}))})),s};return Mt(e)||(e=St(e)),n(e)}function Dt(e,t){const i=e.matches;t.matches=[],Qe(i)&&i.forEach((e=>{if(!Qe(e.indices)||!e.indices.length)return;const{indices:i,value:n}=e;let a={indices:i,value:n};e.key&&(a.key=e.key.src),e.idx>-1&&(a.refIndex=e.idx),t.matches.push(a)}))}function It(e,t){t.score=e.score}class $t{constructor(e,t={},i){this.options={...at,...t},this.options.useExtendedSearch,this._keyStore=new et(this.options.keys),this.setCollection(e,i)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof st))throw new Error("Incorrect 'index' type");this._myIndex=t||rt(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Qe(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let i=0,n=this._docs.length;i<n;i+=1){const a=this._docs[i];e(a,i)&&(this.removeAt(i),i-=1,n-=1,t.push(a))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:i,includeScore:n,shouldSort:a,sortFn:l,ignoreFieldNorm:s}=this.options;let r=We(e)?We(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=at.ignoreFieldNorm}){e.forEach((e=>{let i=1;e.matches.forEach((({key:e,norm:n,score:a})=>{const l=e?e.weight:null;i*=Math.pow(0===a&&l?Number.EPSILON:a,(l||1)*(t?1:n))})),e.score=i}))}(r,{ignoreFieldNorm:s}),a&&r.sort(l),Ue(t)&&t>-1&&(r=r.slice(0,t)),function(e,t,{includeMatches:i=at.includeMatches,includeScore:n=at.includeScore}={}){const a=[];return i&&a.push(Dt),n&&a.push(It),e.map((e=>{const{idx:i}=e,n={item:t[i],refIndex:i};return a.length&&a.forEach((t=>{t(e,n)})),n}))}(r,this._docs,{includeMatches:i,includeScore:n})}_searchStringList(e){const t=Ft(e,this.options),{records:i}=this._myIndex,n=[];return i.forEach((({v:e,i:i,n:a})=>{if(!Qe(e))return;const{isMatch:l,score:s,indices:r}=t.searchIn(e);l&&n.push({item:e,idx:i,matches:[{score:s,value:e,norm:a,indices:r}]})})),n}_searchLogical(e){const t=wt(e,this.options),i=(e,t,n)=>{if(!e.children){const{keyId:i,searcher:a}=e,l=this._findMatches({key:this._keyStore.get(i),value:this._myIndex.getValueForItemAtKeyId(t,i),searcher:a});return l&&l.length?[{idx:n,item:t,matches:l}]:[]}const a=[];for(let l=0,s=e.children.length;l<s;l+=1){const s=e.children[l],r=i(s,t,n);if(r.length)a.push(...r);else if(e.operator===Bt)return[]}return a},n=this._myIndex.records,a={},l=[];return n.forEach((({$:e,i:n})=>{if(Qe(e)){let s=i(t,e,n);s.length&&(a[n]||(a[n]={idx:n,item:e,matches:[]},l.push(a[n])),s.forEach((({matches:e})=>{a[n].matches.push(...e)})))}})),l}_searchObjectList(e){const t=Ft(e,this.options),{keys:i,records:n}=this._myIndex,a=[];return n.forEach((({$:e,i:n})=>{if(!Qe(e))return;let l=[];i.forEach(((i,n)=>{l.push(...this._findMatches({key:i,value:e[n],searcher:t}))})),l.length&&a.push({idx:n,item:e,matches:l})})),a}_findMatches({key:e,value:t,searcher:i}){if(!Qe(t))return[];let n=[];if(Ne(t))t.forEach((({v:t,i:a,n:l})=>{if(!Qe(t))return;const{isMatch:s,score:r,indices:o}=i.searchIn(t);s&&n.push({score:r,key:e,value:t,idx:a,norm:l,indices:o})}));else{const{v:a,n:l}=t,{isMatch:s,score:r,indices:o}=i.searchIn(a);s&&n.push({score:r,key:e,value:a,norm:l,indices:o})}return n}}function Kt(e,t,i,n){var a;function l(e,i=[]){e=e||"";let n="",a=0;i.forEach((i=>{if(2===i.length&&i[0]===i[1])return;const l=i[1]+1,s=l-i[0]>=t.length;n+=[e.substring(a,i[0]),s&&"<mark>",e.substring(i[0],l),s&&"</mark>"].filter(Boolean).join(""),a=l})),n+=e.substring(a);const l=n.indexOf("<mark>");return-1!==l&&(n=function(e,t){let i="",n=0,a=!1;for(let l=e.length-1;l>=0;l--){if(">"===e[l])a=!0;else if("<"===e[l]){a=!1,i=e[l]+i;continue}if(a||n++,!(n<=t)){i="..."+i;break}i=e[l]+i}return i}(n,n.length-l)),n}if(null==(a=e.matches)?void 0:a.length)for(const s of e.matches)if(!(i&&s.key!==i||(null==n?void 0:n.includes(s.key))))return l(s.value,s.indices)}$t.version="7.1.0",$t.createIndex=rt,$t.parseIndex=function(e,{getFn:t=at.getFn,fieldNormWeight:i=at.fieldNormWeight}={}){const{keys:n,records:a}=e,l=new st({getFn:t,fieldNormWeight:i});return l.setKeys(n),l.setIndexRecords(a),l},$t.config=at,$t.parseQuery=wt,function(...e){Et.push(...e)}(Ct);const Tt={slots:{root:"relative inline-flex items-center justify-center shrink-0",base:"rounded-full ring ring-bg flex items-center justify-center text-inverted font-medium whitespace-nowrap"},variants:{color:{primary:"bg-primary",secondary:"bg-secondary",success:"bg-success",info:"bg-info",warning:"bg-warning",error:"bg-error",neutral:"bg-inverted"},size:{"3xs":"h-[4px] min-w-[4px] text-[4px]","2xs":"h-[5px] min-w-[5px] text-[5px]",xs:"h-[6px] min-w-[6px] text-[6px]",sm:"h-[7px] min-w-[7px] text-[7px]",md:"h-[8px] min-w-[8px] text-[8px]",lg:"h-[9px] min-w-[9px] text-[9px]",xl:"h-[10px] min-w-[10px] text-[10px]","2xl":"h-[11px] min-w-[11px] text-[11px]","3xl":"h-[12px] min-w-[12px] text-[12px]"},position:{"top-right":"top-0 right-0","bottom-right":"bottom-0 right-0","top-left":"top-0 left-0","bottom-left":"bottom-0 left-0"},inset:{false:""},standalone:{false:"absolute"}},compoundVariants:[{position:"top-right",inset:!1,class:"-translate-y-1/2 translate-x-1/2 transform"},{position:"bottom-right",inset:!1,class:"translate-y-1/2 translate-x-1/2 transform"},{position:"top-left",inset:!1,class:"-translate-y-1/2 -translate-x-1/2 transform"},{position:"bottom-left",inset:!1,class:"translate-y-1/2 -translate-x-1/2 transform"}],defaultVariants:{size:"md",color:"primary",position:"top-right"}},qt=Object.assign({inheritAttrs:!1},{__name:"UChip",props:q({as:{type:null,required:!1},text:{type:[String,Number],required:!1},color:{type:null,required:!1},size:{type:null,required:!1},position:{type:null,required:!1},inset:{type:Boolean,required:!1,default:!1},standalone:{type:Boolean,required:!1,default:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},{show:{type:Boolean,default:!0},showModifiers:{}}),emits:["update:show"],setup(t){const i=t,n=O(t,"show",{type:Boolean,default:!0}),{size:a}=j(i),l=R(),o=e((()=>{var e;return P({extend:P(Tt),...(null==(e=l.ui)?void 0:e.chip)||{}})({color:i.color,size:a.value,position:i.position,inset:i.inset,standalone:i.standalone})}));return(e,a)=>{var l;return r(),s(F(B),{as:t.as,class:N(o.value.root({class:[null==(l=i.ui)?void 0:l.root,i.class]}))},{default:A((()=>{var a;return[L(F(z),H(V(e.$attrs)),{default:A((()=>[C(e.$slots,"default")])),_:3},16),n.value?(r(),c("span",{key:0,class:N(o.value.base({class:null==(a=i.ui)?void 0:a.base}))},[C(e.$slots,"content",{},(()=>[W(U(t.text),1)]))],2)):E("",!0)]})),_:3},8,["as","class"])}}}),Ot={slots:{root:"flex flex-col min-h-0 min-w-0 divide-y divide-default",input:"[&>input]:h-12",close:"",content:"relative overflow-hidden flex flex-col",viewport:"relative divide-y divide-default scroll-py-1 overflow-y-auto flex-1 focus:outline-none",group:"p-1 isolate",empty:"py-6 text-center text-sm text-muted",label:"p-1.5 text-xs font-semibold text-highlighted",item:"group relative w-full flex items-center gap-1.5 p-1.5 text-sm select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0 size-5",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"2xs",itemLeadingChip:"shrink-0 size-5",itemLeadingChipSize:"md",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0 size-5",itemTrailingHighlightedIcon:"shrink-0 size-5 text-dimmed hidden group-data-highlighted:inline-flex",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0 gap-0.5",itemTrailingKbdsSize:"md",itemLabel:"truncate space-x-1 rtl:space-x-reverse text-dimmed",itemLabelBase:"text-highlighted [&>mark]:text-inverted [&>mark]:bg-primary",itemLabelPrefix:"text-default",itemLabelSuffix:"text-dimmed [&>mark]:text-inverted [&>mark]:bg-primary"},variants:{active:{true:{item:"text-highlighted before:bg-elevated",itemLeadingIcon:"text-default"},false:{item:["text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}}}},jt=["innerHTML"],Rt=["innerHTML"],Pt={__name:"UCommandPalette",props:q({as:{type:null,required:!1},icon:{type:String,required:!1},selectedIcon:{type:String,required:!1},placeholder:{type:String,required:!1},autofocus:{type:Boolean,required:!1,default:!0},close:{type:[Boolean,Object],required:!1},closeIcon:{type:String,required:!1},groups:{type:Array,required:!1},fuse:{type:Object,required:!1},labelKey:{type:String,required:!1,default:"label"},class:{type:null,required:!1},ui:{type:null,required:!1},multiple:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},modelValue:{type:null,required:!1,default:""},defaultValue:{type:null,required:!1},highlightOnHover:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:q(["update:modelValue","highlight","entryFocus","leave","update:open"],["update:searchTerm"]),setup(t,{emit:i}){const n=t,a=i,u=G(),p=O(t,"searchTerm",{type:String,default:""}),{t:f}=J(),v=R(),m=Q(X(n,"as","disabled","multiple","modelValue","defaultValue","highlightOnHover"),a),y=Y(X(n,"loading","loadingIcon")),b=e((()=>{var e;return P({extend:P(Ot),...(null==(e=v.ui)?void 0:e.commandPalette)||{}})()})),x=e((()=>Z({},n.fuse,{fuseOptions:{ignoreLocation:!0,threshold:.1,keys:[n.labelKey,"suffix"]},resultLimit:12,matchAllWhenSearchEmpty:!0}))),B=e((()=>{var e;return(null==(e=n.groups)?void 0:e.filter((e=>e.id?!e.ignoreFilter:(console.warn("[@nuxt/ui] CommandPalette group is missing an `id` property"),!1))).flatMap((e=>{var t;return(null==(t=e.items)?void 0:t.map((t=>({...t,group:e.id}))))||[]})))||[]})),{results:k}=function(t,i,n){const a=()=>{var e,t;return new $t(null!=(e=T(i))?e:[],null==(t=T(n))?void 0:t.fuseOptions)},s=g(a());l((()=>{var e;return null==(e=T(n))?void 0:e.fuseOptions}),(()=>{s.value=a()}),{deep:!0}),l((()=>T(i)),(e=>{s.value.setCollection(e)}),{deep:!0});const r=e((()=>{const e=T(n);if((null==e?void 0:e.matchAllWhenSearchEmpty)&&!T(t))return T(i).map(((e,t)=>({item:e,refIndex:t})));const a=null==e?void 0:e.resultLimit;return s.value.search(T(t),a?{limit:a}:void 0)}));return{fuse:s,results:r}}(p,B,x);function _(e,t){return(null==e?void 0:e.postFilter)&&"function"==typeof e.postFilter&&(t=e.postFilter(p.value,t)),{...e,items:t.slice(0,x.value.resultLimit).map((e=>({...e,labelHtml:Kt(e,p.value,n.labelKey),suffixHtml:Kt(e,p.value,void 0,[n.labelKey])})))}}const M=e((()=>{var e,t,i;const a=k.value.reduce(((e,t)=>{var i,n;const{item:a,matches:l}=t;return a.group?(e[i=a.group]||(e[i]=[]),null==(n=e[a.group])||n.push({...a,matches:l}),e):e}),{}),l=Object.entries(a).map((([e,t])=>{var i;const a=null==(i=n.groups)?void 0:i.find((t=>t.id===e));if(a)return _(a,t)})).filter((e=>!!e));return((null==(i=null==(t=null==(e=n.groups)?void 0:e.map(((e,t)=>({...e,index:t}))))?void 0:t.filter((e=>{var t;return e.ignoreFilter&&(null==(t=e.items)?void 0:t.length)})))?void 0:i.map((e=>({..._(e,e.items||[]),index:e.index}))))||[]).reduce(((e,t)=>(e.splice(t.index,0,t),e)),[...l])}));return(e,i)=>{var l;return r(),s(F($e),o(F(m),{class:b.value.root({class:[null==(l=n.ui)?void 0:l.root,n.class]})}),{default:A((()=>{var l;return[L(F(je),{modelValue:p.value,"onUpdate:modelValue":i[1]||(i[1]=e=>p.value=e),"as-child":""},{default:A((()=>{var l;return[L(pe,o({placeholder:t.placeholder||F(f)("commandPalette.placeholder"),variant:"none",autofocus:t.autofocus},F(y),{icon:t.icon||F(v).ui.icons.search,class:b.value.input({class:null==(l=n.ui)?void 0:l.input})}),ee({_:2},[t.close||u.close?{name:"trailing",fn:A((()=>[C(e.$slots,"close",{ui:b.value},(()=>{var e;return[t.close?(r(),s(te,o({key:0,icon:t.closeIcon||F(v).ui.icons.close,size:"md",color:"neutral",variant:"ghost","aria-label":F(f)("commandPalette.close")},"object"==typeof t.close?t.close:{},{class:b.value.close({class:null==(e=n.ui)?void 0:e.close}),onClick:i[0]||(i[0]=e=>a("update:open",!1))}),null,16,["icon","aria-label","class"])):E("",!0)]}))])),key:"0"}:void 0]),1040,["placeholder","autofocus","icon","class"])]})),_:3},8,["modelValue"]),L(F(Ke),{class:N(b.value.content({class:null==(l=n.ui)?void 0:l.content}))},{default:A((()=>{var i,a,l;return[(null==(i=M.value)?void 0:i.length)?(r(),c("div",{key:0,role:"presentation",class:N(b.value.viewport({class:null==(a=n.ui)?void 0:a.viewport}))},[(r(!0),c(h,null,d(M.value,(i=>{var a;return r(),s(F(Oe),{key:`group-${i.id}`,class:N(b.value.group({class:null==(a=n.ui)?void 0:a.group}))},{default:A((()=>{var a;return[F(ie)(i,n.labelKey)?(r(),s(F(Ve),{key:0,class:N(b.value.label({class:null==(a=n.ui)?void 0:a.label}))},{default:A((()=>[W(U(F(ie)(i,n.labelKey)),1)])),_:2},1032,["class"])):E("",!0),(r(!0),c(h,null,d(i.items,((a,l)=>(r(),s(F(ze),{key:`group-${i.id}-${l}`,value:F(ne)(a,["matches","group","onSelect","labelHtml","suffixHtml"]),disabled:a.disabled,"as-child":"",onSelect:a.onSelect},{default:A((()=>[L(ae,o({ref_for:!0},F(le)(a),{custom:""}),{default:A((({active:p,...f})=>{var m,g;return[L(se,o({ref_for:!0},f,{class:b.value.item({class:[null==(m=n.ui)?void 0:m.item,null==(g=a.ui)?void 0:g.item,a.class],active:p||a.active})}),{default:A((()=>[C(e.$slots,a.slot||i.slot||"item",{item:a,index:l},(()=>{var f,m,g,y;return[C(e.$slots,a.slot?`${a.slot}-leading`:i.slot?`${i.slot}-leading`:"item-leading",{item:a,index:l},(()=>{var e,i,l,u,c,d,h,f,m,g,y,x;return[a.loading?(r(),s(oe,{key:0,name:t.loadingIcon||F(v).ui.icons.loading,class:N(b.value.itemLeadingIcon({class:[null==(e=n.ui)?void 0:e.itemLeadingIcon,null==(i=a.ui)?void 0:i.itemLeadingIcon],loading:!0}))},null,8,["name","class"])):a.icon?(r(),s(oe,{key:1,name:a.icon,class:N(b.value.itemLeadingIcon({class:[null==(l=n.ui)?void 0:l.itemLeadingIcon,null==(u=a.ui)?void 0:u.itemLeadingIcon],active:p||a.active}))},null,8,["name","class"])):a.avatar?(r(),s(ue,o({key:2,size:(null==(c=a.ui)?void 0:c.itemLeadingAvatarSize)||(null==(d=n.ui)?void 0:d.itemLeadingAvatarSize)||b.value.itemLeadingAvatarSize()},{ref_for:!0},a.avatar,{class:b.value.itemLeadingAvatar({class:[null==(h=n.ui)?void 0:h.itemLeadingAvatar,null==(f=a.ui)?void 0:f.itemLeadingAvatar],active:p||a.active})}),null,16,["size","class"])):a.chip?(r(),s(qt,o({key:3,size:(null==(m=a.ui)?void 0:m.itemLeadingChipSize)||(null==(g=n.ui)?void 0:g.itemLeadingChipSize)||b.value.itemLeadingChipSize(),inset:"",standalone:""},{ref_for:!0},a.chip,{class:b.value.itemLeadingChip({class:[null==(y=n.ui)?void 0:y.itemLeadingChip,null==(x=a.ui)?void 0:x.itemLeadingChip],active:p||a.active})}),null,16,["size","class"])):E("",!0)]})),a.labelHtml||F(ie)(a,n.labelKey)||u[a.slot?`${a.slot}-label`:i.slot?`${i.slot}-label`:"item-label"]?(r(),c("span",{key:0,class:N(b.value.itemLabel({class:[null==(f=n.ui)?void 0:f.itemLabel,null==(m=a.ui)?void 0:m.itemLabel],active:p||a.active}))},[C(e.$slots,a.slot?`${a.slot}-label`:i.slot?`${i.slot}-label`:"item-label",{item:a,index:l},(()=>{var e,t,i,l,s,o;return[a.prefix?(r(),c("span",{key:0,class:N(b.value.itemLabelPrefix({class:[null==(e=n.ui)?void 0:e.itemLabelPrefix,null==(t=a.ui)?void 0:t.itemLabelPrefix]}))},U(a.prefix),3)):E("",!0),re("span",{class:N(b.value.itemLabelBase({class:[null==(i=n.ui)?void 0:i.itemLabelBase,null==(l=a.ui)?void 0:l.itemLabelBase],active:p||a.active})),innerHTML:a.labelHtml||F(ie)(a,n.labelKey)},null,10,jt),re("span",{class:N(b.value.itemLabelSuffix({class:[null==(s=n.ui)?void 0:s.itemLabelSuffix,null==(o=a.ui)?void 0:o.itemLabelSuffix],active:p||a.active})),innerHTML:a.suffixHtml||a.suffix},null,10,Rt)]}))],2)):E("",!0),re("span",{class:N(b.value.itemTrailing({class:[null==(g=n.ui)?void 0:g.itemTrailing,null==(y=a.ui)?void 0:y.itemTrailing]}))},[C(e.$slots,a.slot?`${a.slot}-trailing`:i.slot?`${i.slot}-trailing`:"item-trailing",{item:a,index:l},(()=>{var e,t,l,u,p;return[(null==(e=a.kbds)?void 0:e.length)?(r(),c("span",{key:0,class:N(b.value.itemTrailingKbds({class:[null==(t=n.ui)?void 0:t.itemTrailingKbds,null==(l=a.ui)?void 0:l.itemTrailingKbds]}))},[(r(!0),c(h,null,d(a.kbds,((e,t)=>{var i,l;return r(),s(fe,o({key:t,size:(null==(i=a.ui)?void 0:i.itemTrailingKbdsSize)||(null==(l=n.ui)?void 0:l.itemTrailingKbdsSize)||b.value.itemTrailingKbdsSize()},{ref_for:!0},"string"==typeof e?{value:e}:e),null,16,["size"])})),128))],2)):i.highlightedIcon?(r(),s(oe,{key:1,name:i.highlightedIcon,class:N(b.value.itemTrailingHighlightedIcon({class:[null==(u=n.ui)?void 0:u.itemTrailingHighlightedIcon,null==(p=a.ui)?void 0:p.itemTrailingHighlightedIcon]}))},null,8,["name","class"])):E("",!0)]})),L(F(He),{"as-child":""},{default:A((()=>{var e,i;return[L(oe,{name:t.selectedIcon||F(v).ui.icons.check,class:N(b.value.itemTrailingIcon({class:[null==(e=n.ui)?void 0:e.itemTrailingIcon,null==(i=a.ui)?void 0:i.itemTrailingIcon]}))},null,8,["name","class"])]})),_:2},1024)],2)]}))])),_:2},1040,["class"])]})),_:2},1040)])),_:2},1032,["value","disabled","onSelect"])))),128))]})),_:2},1032,["class"])})),128))],2)):(r(),c("div",{key:1,class:N(b.value.empty({class:null==(l=n.ui)?void 0:l.empty}))},[C(e.$slots,"empty",{searchTerm:p.value},(()=>[W(U(p.value?F(f)("commandPalette.noMatch",{searchTerm:p.value}):F(f)("commandPalette.noData")),1)]))],2))]})),_:3},8,["class"])]})),_:3},16,["class"])}}},zt={slots:{modal:"sm:max-w-3xl sm:h-[28rem]",input:"[&>input]:text-base/5"}},Ht=/^[^-]+.*-.*[^-]+$/,Vt=/^[^_]+.*_.*[^_]+$/;const Nt={__name:"UContentSearch",props:q({icon:{type:String,required:!1},placeholder:{type:null,required:!1},autofocus:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:String,required:!1},shortcut:{type:String,required:!1,default:"meta_k"},links:{type:Array,required:!1},navigation:{type:Array,required:!1},groups:{type:Array,required:!1},files:{type:Array,required:!1},fuse:{type:Object,required:!1},colorMode:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:void 0,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:["update:searchTerm"],setup(t,{expose:i}){const n=t,a=G(),l=O(t,"searchTerm",{type:String,default:""}),{t:u}=Ee(),{open:c}=Ae(),h=ke(),p=R(),f=Y(X(n,"icon","placeholder","autofocus","loading","loadingIcon","close","closeIcon")),v=ne(a,["content"]),m=e((()=>Z({},n.fuse,{fuseOptions:{includeMatches:!0}}))),y=e((()=>{var e;return Be({extend:Be(zt),...(null==(e=p.uiPro)?void 0:e.contentSearch)||{}})()}));function b(e,t){return e.flatMap((e=>{var i,a,l;return(null==(i=e.children)?void 0:i.length)?b(e.children,e):(null==(l=null==(a=n.files)?void 0:a.filter((t=>t.id===e.path||t.id.startsWith(`${e.path}#`))))?void 0:l.map((i=>function(e,t,i){const n=[...new Set([null==i?void 0:i.title,...e.titles].filter(Boolean))];return{prefix:(null==n?void 0:n.length)?n.join(" > ")+" >":void 0,label:e.id===t.path?t.title:e.title,suffix:e.content.replaceAll("<","&lt;").replaceAll(">","&gt;"),to:e.id,icon:t.icon||(null==i?void 0:i.icon)||(e.level>1?p.ui.icons.hash:p.ui.icons.file),level:e.level}}(i,e,t))))||[]}))}const x=e((()=>{var e,t;const i=[];var a;return(null==(e=n.links)?void 0:e.length)&&i.push({id:"links",label:u("contentSearch.links"),items:(a=n.links,a.flatMap((e=>{var t;return[{...e,suffix:e.description,icon:e.icon||p.ui.icons.file},...(null==(t=e.children)?void 0:t.map((t=>({...t,prefix:e.label+" >",suffix:t.description,icon:t.icon||e.icon||p.ui.icons.file}))))||[]]})))}),(null==(t=n.navigation)?void 0:t.length)&&(n.navigation.some((e=>{var t;return!!(null==(t=e.children)?void 0:t.length)}))?i.push(...n.navigation.map((e=>({id:e.path,label:e.title,items:b(e.children||[]),postFilter:E})))):i.push({id:"docs",items:b(n.navigation),postFilter:E})),i.push(...n.groups||[]),n.colorMode&&!(null==h?void 0:h.forced)&&i.push({id:"theme",label:u("contentSearch.theme"),items:[{label:u("colorMode.system"),icon:p.ui.icons.system,active:"system"===h.preference,onSelect:()=>{h.preference="system"}},{label:u("colorMode.light"),icon:p.ui.icons.light,active:"light"===h.preference,onSelect:()=>{h.preference="light"}},{label:u("colorMode.dark"),icon:p.ui.icons.dark,active:"dark"===h.preference,onSelect:()=>{h.preference="dark"}}]}),i}));function E(e,t){return e?t:null==t?void 0:t.filter((e=>1===e.level))}function B(e){e.disabled||(c.value=!1,l.value="")}!function(t,i={}){const n=g([]),a=()=>{n.value.splice(0,n.value.length)},l=ce(a,i.chainDelay??800),{macOS:s}=ve(),r=Le(),o=e((()=>{var e,t,i;const n=null==(e=r.value)?void 0:e.tagName,a=null==(t=r.value)?void 0:t.contentEditable;return!("INPUT"!==n&&"TEXTAREA"!==n&&"true"!==a&&"plaintext-only"!==a)&&((null==(i=r.value)?void 0:i.name)||!0)})),u=e((()=>Object.entries(T(t)).map((([e,t])=>{var i,n;if(!t)return null;let a;e.includes("-")&&"-"!==e&&!(null==(i=e.match(Ht))?void 0:i.length)&&console.trace(`[Shortcut] Invalid key: "${e}"`),e.includes("_")&&"_"!==e&&!(null==(n=e.match(Vt))?void 0:n.length)&&console.trace(`[Shortcut] Invalid key: "${e}"`);const l=e.includes("-")&&"-"!==e;if(l)a={key:e.toLowerCase(),metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1};else{const t=e.toLowerCase().split("_").map((e=>e));a={key:t.filter((e=>!["meta","command","ctrl","shift","alt","option"].includes(e))).join("_"),metaKey:t.includes("meta")||t.includes("command"),ctrlKey:t.includes("ctrl"),shiftKey:t.includes("shift"),altKey:t.includes("alt")||t.includes("option")}}if(a.chained=l,s.value||!a.metaKey||a.ctrlKey||(a.metaKey=!1,a.ctrlKey=!0),"function"==typeof t?a.handler=t:"object"==typeof t&&(a={...a,handler:t.handler}),!a.handler)return console.trace("[Shortcut] Invalid value"),null;let r=!0;return t.usingInput?"string"==typeof t.usingInput&&(r=o.value===t.usingInput):r=!o.value,a.enabled=r,a})).filter(Boolean)));_e("keydown",(e=>{if(!e.key)return;const t=/^[a-z]{1}$/i.test(e.key);let i;if(n.value.push(e.key),n.value.length>=2){i=n.value.slice(-2).join("-");for(const t of u.value.filter((e=>e.chained)))if(t.key===i)return t.enabled&&(e.preventDefault(),t.handler(e)),void a()}for(const n of u.value.filter((e=>!e.chained)))if(e.key.toLowerCase()===n.key&&e.metaKey===n.metaKey&&e.ctrlKey===n.ctrlKey&&(!t||e.shiftKey===n.shiftKey))return n.enabled&&(e.preventDefault(),n.handler()),void a();l()}))}({[n.shortcut]:{usingInput:!0,handler:()=>c.value=!c.value}});const k=de("commandPaletteRef");return i({commandPaletteRef:k}),(e,t)=>{const i=Pt,a=Ce;return r(),s(a,{open:F(c),"onUpdate:open":t[2]||(t[2]=e=>he(c)?c.value=e:null),class:N(y.value.modal({class:n.class}))},{content:A((()=>[C(e.$slots,"content",{},(()=>[L(i,o({ref_key:"commandPaletteRef",ref:k,"search-term":l.value,"onUpdate:searchTerm":t[0]||(t[0]=e=>l.value=e)},F(f),{groups:x.value,fuse:m.value,ui:F(Fe)(F(ne)(y.value,["modal"]),n.ui),"onUpdate:modelValue":B,"onUpdate:open":t[1]||(t[1]=e=>c.value=e)}),ee({_:2},[d(F(v),((t,i)=>({name:i,fn:A((t=>[C(e.$slots,i,H(V(t)))]))})))]),1040,["search-term","groups","fuse","ui"])]))])),_:3},8,["open","class"])}}};export{Nt as default};
