---
title: Payment Status Updates
description: Monitor and verify payment status to respond to successful and failed payments.
---

Payment status changes as customers complete actions in your checkout flow. Your integration can inspect the payment status to determine results and take appropriate business actions.

::note
Payment results must be determined by webhook notifications. **Do not rely solely on the `status` field in synchronous responses.**
::

## Choose a verification method

| Method | Best for | Reliability |
|--------|----------|-------------|
| [Client callback](#check-payment-status-on-the-client) | Showing immediate feedback to users | Low—don't use for order fulfillment |
| [API response](#use-api-response) | Direct API integrations | Medium—depends on client-side polling |
| [Return URL](#use-return-url) | Redirect-based flows | Medium—requires polling |
| [Webhooks](#monitor-payment-status-with-webhooks) | Order fulfillment and backend processing | High—recommended |

## Check payment status on the client

When using the [onPaymentCompleted](#){badge="TODO"} callback, the returned status indicates the payment result. Use this status only to display results to users—don't update your order system based on client-side status alone.

```javascript
onPaymentCompleted: function (result) {
  const { respCode, respMsg, data: txnInfo } = result

  if (respCode === '20000') {
    switch (txnInfo.status) {
      case 'S':
        // Show success message to user
        // Query Order API for final confirmation before fulfillment
        break
      case 'R':
        // 3DS verification required
        window.location.href = txnInfo.redirectUrl
        break
      default:
        // Handle unexpected status
        break
    }
  } else {
    // Show error: respMsg contains the failure reason
    console.error('Payment failed:', respMsg)
  }
}
```

### Possible callback outcomes

| Status | What happened | Expected integration |
|--------|---------------|----------------------|
| `S` | Payment succeeded | Query the [Order Query API](#){badge="TODO"} for final status. If confirmed, update your order and notify the customer. |
| `F` | Payment failed | Query the [Order Query API](#){badge="TODO"} for final status. Create a new payment to allow retry. |
| `R` | 3DS (3-D Secure) authentication required | Redirect the customer to the 3DS challenge page using `txnInfo.redirectUrl`. |

## Check status without using callbacks

If you don't use `onPaymentCompleted`, you have two options to check payment status.

### Use API response

When calling the [Direct API](#){badge="TODO"}, the response includes the payment status. Use this to update your order or execute subsequent business logic.

| Status | What happened | Expected integration |
|--------|---------------|----------------------|
| `S` | Payment succeeded | Notify the customer and update your order. This is a final status. |
| `F` | Payment failed | Notify the customer and update your order. Create a new payment to allow retry. This is a final status. |
| `R` | Redirect required | Redirect the customer to the provided URL—either a 3DS (3-D Secure) challenge page or a local payment method page. |
| `P` | Payment processing | Notify the customer that payment is processing. Poll the [Order Query API](#){badge="TODO"} until you receive a final status. |

### Use return URL

Include the **`returnUrl`** parameter with your order reference when calling the API. After payment completes, Onerway redirects to this URL with your order reference. Use the reference to poll the [Order Query API](#){badge="TODO"} for final status.

Learn more about [configuring return URLs](#){badge="TODO"}.

## Monitor payment status with webhooks

Onerway sends webhook events to your server when a payment reaches a final status. Use webhooks for order fulfillment—don't rely on client-side processing because customers can leave the page before fulfillment initiates.

To receive webhooks, include the **`notifyUrl`** parameter when creating a payment request.

::tip
We recommend combining webhooks with server-side polling: webhooks for real-time updates, polling as a fallback to catch any missed notifications. Avoid client-side polling—users closing the page interrupts the process.
::

### Handle webhook events

Onerway sends a POST request to your **`notifyUrl`** with a JSON payload:

```json
{
  "notifyType": "TXN",
  "transactionId": "1920061365985615872",
  "txnType": "SALE",
  "merchantNo": "800209",
  "merchantTxnId": "6a28ac11-d98c-4323-84a7-426b9322c4f7",
  "responseTime": "2025-05-07 18:21:21",
  "txnTime": "2025-05-07 18:21:17",
  "txnTimeZone": "+08:00",
  "orderAmount": "100.00",
  "orderCurrency": "USD",
  "status": "S",
  "cardBinCountry": "US",
  "reason": "{\"respCode\":\"20000\",\"respMsg\":\"Success\"}",
  "sign": "345f09b2240dcd2084605c28024b4d6fe7da4f84e59a7268b92bb66a36c433b3",
  "paymentMethod": "VISA"
}
```

| Status | What happened | Expected integration |
|--------|---------------|----------------------|
| `S` | Payment succeeded | Notify the customer and update your order. |
| `F` | Payment failed | Notify the customer. Create a new payment to allow retry. |

### Respond to webhooks

After processing the webhook, return only the `transactionId` value in your response body. This confirms successful receipt to Onerway.

::tip
Onerway retries failed webhooks up to 2 times at 30-minute intervals. Ensure your endpoint is **idempotent**—use `transactionId` for deduplication.
::

For complete webhook parameters and examples, see the [Transaction Webhooks API reference](/apis/en/v0.6/transaction-notification){badge="API"}.

### Verify webhook signatures

When processing webhooks, verify the signature to ensure the request came from Onerway.

::caution
The following parameters are excluded from signature verification: `originTransactionId`, `originMerchantTxnId`, `customsDeclarationAmount`, `customsDeclarationCurrency`, `paymentMethod`, `walletTypeName`, `periodValue`, `tokenExpireTime`, `sign`. All other parameters—including any new parameters added in the future—are included.
::

Learn more about [handling webhook signatures](#){badge="TODO"}.

## Handle delayed payment methods

Some payment methods—like :prose-annotation[OXXO]{annotation="A popular cash payment method in Mexico"} and :prose-annotation[Trustly]{annotation="A European open banking payment method"}—can't return results immediately. For these methods:

1. The API response returns `status: R`
2. You redirect the user to the payment method's page
3. The customer completes payment (may take several days)
4. Onerway sends a webhook when the final status is available

::note
For delayed payment methods, **webhooks are required**. Polling the [Order Query API](#){badge="TODO"} before payment completes will return `status: P` (Pending).
::

::docs-resources
#title
## See also

#default
  :::docs-resource-item{to="https://docs.onerway.com/apis/en/v0.6/transaction-notification" title="Transaction Webhooks" description="Complete webhook parameters and payload examples" icon="i-lucide-webhook" tags="API"}
  :::

  :::docs-resource-item{to="https://docs.onerway.com/apis/en/v0.6/order-queries" title="Order Query API" description="Query payment status and order details" icon="i-lucide-search" tags="API"}
  :::
::
