---
title: Build with an LLM
description:
  Leverage AI and Large Language Models to accelerate your
  Onerway integration development
order: 3
showToc: true
showNavigation: true
---

## AI-Powered Development

Building with AI can dramatically speed up your integration
development. This guide shows you how to leverage Large
Language Models (LLMs) like ChatGPT, Claude, or GitHub
Copilot to build better Onerway integrations faster.

## Quick Start with AI

### **1. AI-Generated Integration Code**

Use AI to generate boilerplate code for common integration
patterns:

**Prompt Example:**

```
Generate a Node.js Express server that integrates with Onerway payments API.
Include endpoints for creating payment intents, handling webhooks, and processing refunds.
Use proper error handling and security best practices.
```

**Generated Code:**

```javascript
const express = require("express");
const onerway = require("@onerway/onerway-js");
const app = express();

// Initialize Onerway with your secret key
const onerway = require("@onerway/onerway-js")(
  process.env.ONERWAY_SECRET_KEY
);

app.use(express.json());

// Create payment intent endpoint
app.post("/create-payment-intent", async (req, res) => {
  try {
    const { amount, currency, customer } = req.body;

    const paymentIntent =
      await onerway.paymentIntents.create({
        amount: amount * 100, // Convert to cents
        currency,
        customer,
        automatic_payment_methods: { enabled: true },
      });

    res.json({ clientSecret: paymentIntent.client_secret });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

// Webhook handler
app.post(
  "/webhook",
  express.raw({ type: "application/json" }),
  (req, res) => {
    const sig = req.headers["onerway-signature"];

    try {
      const event = onerway.webhooks.constructEvent(
        req.body,
        sig,
        process.env.ONERWAY_WEBHOOK_SECRET
      );

      switch (event.type) {
        case "payment_intent.succeeded":
          console.log(
            "Payment succeeded:",
            event.data.object.id
          );
          break;
        default:
          console.log(
            `Unhandled event type: ${event.type}`
          );
      }

      res.json({ received: true });
    } catch (err) {
      res.status(400).send(`Webhook Error: ${err.message}`);
    }
  }
);

app.listen(3000, () =>
  console.log("Server running on port 3000")
);
```

### **2. AI-Powered Code Review**

Ask AI to review your integration code:

**Prompt Example:**

```
Review this Onerway payment integration code for security issues,
best practices, and potential improvements:

[Your code here]
```

### **3. AI Documentation Assistant**

Generate documentation from your code:

**Prompt Example:**

```
Create API documentation for this Onerway integration endpoint,
including request/response examples, error codes, and usage notes:

[Your endpoint code here]
```

## AI Development Workflows

### **🚀 Rapid Prototyping Workflow**

1. **Describe your use case** to the AI
2. **Generate initial code** structure
3. **Refine with specific requirements**
4. **Add error handling** and security
5. **Generate tests** for your code

#### Example: E-commerce Integration

```
Prompt: "Create a complete e-commerce checkout flow using Onerway that handles:
- Product selection and cart management
- Customer registration/login
- Payment processing with saved payment methods
- Order confirmation and receipt generation
- Webhook handling for payment status updates"
```

### **🔍 Code Analysis Workflow**

1. **Upload existing code** to AI
2. **Request specific analysis** (security, performance,
   best practices)
3. **Get improvement suggestions**
4. **Implement recommended changes**
5. **Validate with AI review**

### **📝 Documentation Workflow**

1. **Generate API documentation** from code
2. **Create integration guides** for different use cases
3. **Build troubleshooting guides** from common issues
4. **Generate code examples** in multiple languages

## AI-Assisted Integration Patterns

### **Subscription Management**

**AI Prompt:**

```
Create a subscription management system using Onerway that handles:
- Recurring billing setup
- Plan upgrades/downgrades
- Failed payment retry logic
- Subscription cancellation
- Proration calculations
```

**Generated Pattern:**

```javascript
class SubscriptionManager {
  constructor(onerway) {
    this.onerway = onerway;
  }

  async createSubscription(customerId, priceId) {
    try {
      const subscription =
        await this.onerway.subscriptions.create({
          customer: customerId,
          items: [{ price: priceId }],
          payment_behavior: "default_incomplete",
          payment_settings: {
            save_default_payment_method: "on_subscription",
          },
          expand: ["latest_invoice.payment_intent"],
        });

      return {
        subscriptionId: subscription.id,
        clientSecret:
          subscription.latest_invoice.payment_intent
            .client_secret,
      };
    } catch (error) {
      throw new Error(
        `Subscription creation failed: ${error.message}`
      );
    }
  }

  async upgradeSubscription(subscriptionId, newPriceId) {
    const subscription =
      await this.onerway.subscriptions.retrieve(
        subscriptionId
      );

    return await this.onerway.subscriptions.update(
      subscriptionId,
      {
        items: [
          {
            id: subscription.items.data[0].id,
            price: newPriceId,
          },
        ],
        proration_behavior: "always_invoice",
      }
    );
  }
}
```

### **Multi-Party Payments (Marketplace)**

**AI Prompt:**

```
Build a marketplace payment system that:
- Splits payments between platform and vendors
- Handles platform fees
- Manages vendor payouts
- Supports refunds and disputes
```

### **International Payments**

**AI Prompt:**

```
Create an international payment system that:
- Supports multiple currencies
- Handles currency conversion
- Manages local payment methods
- Complies with regional regulations
```

## AI Tools for Onerway Development

### **GitHub Copilot**

- Real-time code suggestions
- Context-aware completions
- Integration-specific patterns

```javascript
// Type comment, Copilot suggests implementation
// Create a Onerway customer with payment method
const customer = await onerway.customers.create({
  email: customerEmail,
  payment_method: paymentMethodId,
  invoice_settings: {
    default_payment_method: paymentMethodId,
  },
});
```

### **ChatGPT/Claude Integration**

- Code generation and review
- Architecture planning
- Problem-solving assistance

### **Cursor AI**

- Intelligent code editing
- Refactoring assistance
- Bug detection and fixes

### **Custom AI Assistants**

Build specialized assistants trained on Onerway
documentation:

```python
# Example: Custom Onerway AI Assistant
import openai

class OnerwayAssistant:
    def __init__(self, api_key):
        self.client = openai.OpenAI(api_key=api_key)
        self.system_prompt = """
        You are an expert Onerway integration developer.
        Help developers build secure, efficient payment integrations.
        Always include error handling and follow Onerway best practices.
        """

    def get_integration_help(self, user_question):
        response = self.client.chat.completions.create(
            model="gpt-4",
            messages=[
                {"role": "system", "content": self.system_prompt},
                {"role": "user", "content": user_question}
            ]
        )
        return response.choices[0].message.content
```

## AI-Generated Testing

### **Unit Tests**

**Prompt:**

```
Generate comprehensive unit tests for this Onerway payment handler including:
- Successful payment scenarios
- Error conditions
- Edge cases
- Mock implementations
```

**Generated Tests:**

```javascript
const request = require("supertest");
const app = require("../app");
const onerway = require("@onerway/onerway-js");

// Mock Onerway
jest.mock("@onerway/onerway-js");

describe("Payment Endpoints", () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });

  describe("POST /create-payment-intent", () => {
    it("should create payment intent successfully", async () => {
      const mockPaymentIntent = {
        id: "pi_test_123",
        client_secret: "pi_test_123_secret_test",
      };

      onerway.paymentIntents.create.mockResolvedValue(
        mockPaymentIntent
      );

      const response = await request(app)
        .post("/create-payment-intent")
        .send({
          amount: 2000,
          currency: "usd",
        });

      expect(response.status).toBe(200);
      expect(response.body.clientSecret).toBe(
        mockPaymentIntent.client_secret
      );
    });

    it("should handle payment creation errors", async () => {
      onerway.paymentIntents.create.mockRejectedValue(
        new Error("Invalid amount")
      );

      const response = await request(app)
        .post("/create-payment-intent")
        .send({
          amount: -100,
          currency: "usd",
        });

      expect(response.status).toBe(500);
      expect(response.body.error).toBe("Invalid amount");
    });
  });
});
```

### **Integration Tests**

Generate end-to-end test scenarios for complete payment
flows.

## Best Practices for AI-Assisted Development

### **🔒 Security Considerations**

- Always review AI-generated code for security issues
- Validate API key handling and storage
- Check webhook signature verification
- Ensure proper error handling doesn't expose sensitive data

### **✅ Code Quality**

- Request specific coding standards in prompts
- Ask for TypeScript definitions
- Include proper error handling
- Request comprehensive comments

### **🧪 Testing Strategy**

- Generate tests alongside implementation
- Include edge cases and error scenarios
- Create mock data and responses
- Test webhook handling thoroughly

### **📚 Documentation**

- Generate inline code comments
- Create README files for integration
- Build API documentation
- Include troubleshooting guides

## Advanced AI Techniques

### **Fine-tuning for Onerway**

Train custom models on Onerway-specific patterns and
documentation.

### **RAG (Retrieval-Augmented Generation)**

Combine AI with real-time Onerway documentation retrieval.

### **Code Analysis Pipelines**

Automate code review and security scanning with AI.

## Example AI Prompts Library

### **Integration Setup**

```
Create a production-ready Onerway integration for [use case] that includes:
- Environment configuration
- Error handling
- Security best practices
- Webhook processing
- Testing framework
```

### **Debugging Assistant**

```
Debug this Onerway integration error: [error message]
Code context: [relevant code]
Expected behavior: [description]
```

### **Performance Optimization**

```
Optimize this Onerway integration for high-volume transactions:
[current code]
Target: Handle 1000+ payments per minute with proper rate limiting
```

## Next Steps

Ready to supercharge your development with AI?

1. 🚀 [Start Developing](../start-developing) - Set up your
   development environment
2. 🔍 [About the APIs](../about-the-apis) - Understand the
   API structure
3. 🎯 [Use Without Code](../use-stripe-without-code) -
   Explore no-code options
4. 📚 [Payments Documentation](../../../payments/) - Deep
   dive into payments

## Resources

- 🤖
  [AI Development Templates](https://github.com/onerway/ai-templates) -
  Ready-to-use AI prompts
- 🔧
  [GitHub Copilot Guide](../../../guides/github-copilot) -
  Optimize Copilot for Onerway
- 📖 [AI Best Practices](../../../guides/ai-development) -
  Security and quality guidelines
- 💬
  [AI Developer Community](https://community.onerway.com/ai) -
  Share AI techniques

Questions about AI development?
[Join our AI developer discussions](https://community.onerway.com/ai).
